var py=Object.defineProperty;var my=(e,t,n)=>t in e?py(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Y=(e,t,n)=>my(e,typeof t!="symbol"?t+"":t,n);function gy(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in e)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var VE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Up(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wp={exports:{}},Ea={},Hp={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bi=Symbol.for("react.element"),xy=Symbol.for("react.portal"),yy=Symbol.for("react.fragment"),vy=Symbol.for("react.strict_mode"),wy=Symbol.for("react.profiler"),by=Symbol.for("react.provider"),ky=Symbol.for("react.context"),Sy=Symbol.for("react.forward_ref"),_y=Symbol.for("react.suspense"),jy=Symbol.for("react.memo"),Ey=Symbol.for("react.lazy"),Md=Symbol.iterator;function Cy(e){return e===null||typeof e!="object"?null:(e=Md&&e[Md]||e["@@iterator"],typeof e=="function"?e:null)}var Vp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qp=Object.assign,Yp={};function sr(e,t,n){this.props=e,this.context=t,this.refs=Yp,this.updater=n||Vp}sr.prototype.isReactComponent={};sr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Kp(){}Kp.prototype=sr.prototype;function lu(e,t,n){this.props=e,this.context=t,this.refs=Yp,this.updater=n||Vp}var cu=lu.prototype=new Kp;cu.constructor=lu;qp(cu,sr.prototype);cu.isPureReactComponent=!0;var Pd=Array.isArray,Qp=Object.prototype.hasOwnProperty,uu={current:null},Xp={key:!0,ref:!0,__self:!0,__source:!0};function Gp(e,t,n){var s,r={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Qp.call(t,s)&&!Xp.hasOwnProperty(s)&&(r[s]=t[s]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(e&&e.defaultProps)for(s in a=e.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return{$$typeof:bi,type:e,key:i,ref:o,props:r,_owner:uu.current}}function Ay(e,t){return{$$typeof:bi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function du(e){return typeof e=="object"&&e!==null&&e.$$typeof===bi}function Ny(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Td=/\/+/g;function tl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ny(""+e.key):t.toString(36)}function mo(e,t,n,s,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bi:case xy:o=!0}}if(o)return o=e,r=r(o),e=s===""?"."+tl(o,0):s,Pd(r)?(n="",e!=null&&(n=e.replace(Td,"$&/")+"/"),mo(r,t,n,"",function(c){return c})):r!=null&&(du(r)&&(r=Ay(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Td,"$&/")+"/")+e)),t.push(r)),1;if(o=0,s=s===""?".":s+":",Pd(e))for(var a=0;a<e.length;a++){i=e[a];var l=s+tl(i,a);o+=mo(i,t,n,l,r)}else if(l=Cy(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=s+tl(i,a++),o+=mo(i,t,n,l,r);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Oi(e,t,n){if(e==null)return e;var s=[],r=0;return mo(e,s,"","",function(i){return t.call(n,i,r++)}),s}function Ry(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ve={current:null},go={transition:null},My={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:go,ReactCurrentOwner:uu};function Jp(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Oi,forEach:function(e,t,n){Oi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Oi(e,function(){t++}),t},toArray:function(e){return Oi(e,function(t){return t})||[]},only:function(e){if(!du(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=sr;G.Fragment=yy;G.Profiler=wy;G.PureComponent=lu;G.StrictMode=vy;G.Suspense=_y;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=My;G.act=Jp;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=qp({},e.props),r=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=uu.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Qp.call(t,l)&&!Xp.hasOwnProperty(l)&&(s[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}return{$$typeof:bi,type:e.type,key:r,ref:i,props:s,_owner:o}};G.createContext=function(e){return e={$$typeof:ky,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:by,_context:e},e.Consumer=e};G.createElement=Gp;G.createFactory=function(e){var t=Gp.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:Sy,render:e}};G.isValidElement=du;G.lazy=function(e){return{$$typeof:Ey,_payload:{_status:-1,_result:e},_init:Ry}};G.memo=function(e,t){return{$$typeof:jy,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=go.transition;go.transition={};try{e()}finally{go.transition=t}};G.unstable_act=Jp;G.useCallback=function(e,t){return Ve.current.useCallback(e,t)};G.useContext=function(e){return Ve.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Ve.current.useDeferredValue(e)};G.useEffect=function(e,t){return Ve.current.useEffect(e,t)};G.useId=function(){return Ve.current.useId()};G.useImperativeHandle=function(e,t,n){return Ve.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return Ve.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return Ve.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return Ve.current.useMemo(e,t)};G.useReducer=function(e,t,n){return Ve.current.useReducer(e,t,n)};G.useRef=function(e){return Ve.current.useRef(e)};G.useState=function(e){return Ve.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return Ve.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return Ve.current.useTransition()};G.version="18.3.1";Hp.exports=G;var v=Hp.exports;const ne=Up(v),Py=gy({__proto__:null,default:ne},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty=v,Oy=Symbol.for("react.element"),Ly=Symbol.for("react.fragment"),Dy=Object.prototype.hasOwnProperty,Iy=Ty.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fy={key:!0,ref:!0,__self:!0,__source:!0};function Zp(e,t,n){var s,r={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)Dy.call(t,s)&&!Fy.hasOwnProperty(s)&&(r[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)r[s]===void 0&&(r[s]=t[s]);return{$$typeof:Oy,type:e,key:i,ref:o,props:r,_owner:Iy.current}}Ea.Fragment=Ly;Ea.jsx=Zp;Ea.jsxs=Zp;Wp.exports=Ea;var d=Wp.exports,em={exports:{}},lt={},tm={exports:{}},nm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,D){var z=L.length;L.push(D);e:for(;0<z;){var B=z-1>>>1,q=L[B];if(0<r(q,D))L[B]=D,L[z]=q,z=B;else break e}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var D=L[0],z=L.pop();if(z!==D){L[0]=z;e:for(var B=0,q=L.length,Q=q>>>1;B<Q;){var se=2*(B+1)-1,he=L[se],te=se+1,je=L[te];if(0>r(he,z))te<q&&0>r(je,he)?(L[B]=je,L[te]=z,B=te):(L[B]=he,L[se]=z,B=se);else if(te<q&&0>r(je,z))L[B]=je,L[te]=z,B=te;else break e}}return D}function r(L,D){var z=L.sortIndex-D.sortIndex;return z!==0?z:L.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,h=3,g=!1,p=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var D=n(c);D!==null;){if(D.callback===null)s(c);else if(D.startTime<=L)s(c),D.sortIndex=D.expirationTime,t(l,D);else break;D=n(c)}}function k(L){if(y=!1,b(L),!p)if(n(l)!==null)p=!0,I(S);else{var D=n(c);D!==null&&$(k,D.startTime-L)}}function S(L,D){p=!1,y&&(y=!1,m(_),_=-1),g=!0;var z=h;try{for(b(D),f=n(l);f!==null&&(!(f.expirationTime>D)||L&&!N());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var q=B(f.expirationTime<=D);D=e.unstable_now(),typeof q=="function"?f.callback=q:f===n(l)&&s(l),b(D)}else s(l);f=n(l)}if(f!==null)var Q=!0;else{var se=n(c);se!==null&&$(k,se.startTime-D),Q=!1}return Q}finally{f=null,h=z,g=!1}}var E=!1,j=null,_=-1,A=5,C=-1;function N(){return!(e.unstable_now()-C<A)}function P(){if(j!==null){var L=e.unstable_now();C=L;var D=!0;try{D=j(!0,L)}finally{D?T():(E=!1,j=null)}}else E=!1}var T;if(typeof w=="function")T=function(){w(P)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,O=R.port2;R.port1.onmessage=P,T=function(){O.postMessage(null)}}else T=function(){x(P,0)};function I(L){j=L,E||(E=!0,T())}function $(L,D){_=x(function(){L(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){p||g||(p=!0,I(S))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var z=h;h=D;try{return L()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,D){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=h;h=L;try{return D()}finally{h=z}},e.unstable_scheduleCallback=function(L,D,z){var B=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?B+z:B):z=B,L){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=z+q,L={id:u++,callback:D,priorityLevel:L,startTime:z,expirationTime:q,sortIndex:-1},z>B?(L.sortIndex=z,t(c,L),n(l)===null&&L===n(c)&&(y?(m(_),_=-1):y=!0,$(k,z-B))):(L.sortIndex=q,t(l,L),p||g||(p=!0,I(S))),L},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(L){var D=h;return function(){var z=h;h=D;try{return L.apply(this,arguments)}finally{h=z}}}})(nm);tm.exports=nm;var zy=tm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By=v,at=zy;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sm=new Set,Qr={};function xs(e,t){Ks(e,t),Ks(e+"Capture",t)}function Ks(e,t){for(Qr[e]=t,e=0;e<t.length;e++)sm.add(t[e])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ql=Object.prototype.hasOwnProperty,$y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Od={},Ld={};function Uy(e){return Ql.call(Ld,e)?!0:Ql.call(Od,e)?!1:$y.test(e)?Ld[e]=!0:(Od[e]=!0,!1)}function Wy(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hy(e,t,n,s){if(t===null||typeof t>"u"||Wy(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qe(e,t,n,s,r,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Le[e]=new qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Le[t]=new qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Le[e]=new qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Le[e]=new qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Le[e]=new qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Le[e]=new qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Le[e]=new qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Le[e]=new qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Le[e]=new qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var fu=/[\-:]([a-z])/g;function hu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fu,hu);Le[t]=new qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fu,hu);Le[t]=new qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fu,hu);Le[t]=new qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Le[e]=new qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Le.xlinkHref=new qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Le[e]=new qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function pu(e,t,n,s){var r=Le.hasOwnProperty(t)?Le[t]:null;(r!==null?r.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hy(t,n,r,s)&&(n=null),s||r===null?Uy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,s=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var cn=By.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Li=Symbol.for("react.element"),_s=Symbol.for("react.portal"),js=Symbol.for("react.fragment"),mu=Symbol.for("react.strict_mode"),Xl=Symbol.for("react.profiler"),rm=Symbol.for("react.provider"),im=Symbol.for("react.context"),gu=Symbol.for("react.forward_ref"),Gl=Symbol.for("react.suspense"),Jl=Symbol.for("react.suspense_list"),xu=Symbol.for("react.memo"),pn=Symbol.for("react.lazy"),om=Symbol.for("react.offscreen"),Dd=Symbol.iterator;function fr(e){return e===null||typeof e!="object"?null:(e=Dd&&e[Dd]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Object.assign,nl;function Er(e){if(nl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);nl=t&&t[1]||""}return`
`+nl+e}var sl=!1;function rl(e,t){if(!e||sl)return"";sl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var s=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){s=c}e.call(t.prototype)}else{try{throw Error()}catch(c){s=c}e()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,a=i.length-1;1<=o&&0<=a&&r[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==i[a]){var l=`
`+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{sl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Er(e):""}function Vy(e){switch(e.tag){case 5:return Er(e.type);case 16:return Er("Lazy");case 13:return Er("Suspense");case 19:return Er("SuspenseList");case 0:case 2:case 15:return e=rl(e.type,!1),e;case 11:return e=rl(e.type.render,!1),e;case 1:return e=rl(e.type,!0),e;default:return""}}function Zl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case js:return"Fragment";case _s:return"Portal";case Xl:return"Profiler";case mu:return"StrictMode";case Gl:return"Suspense";case Jl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case im:return(e.displayName||"Context")+".Consumer";case rm:return(e._context.displayName||"Context")+".Provider";case gu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xu:return t=e.displayName||null,t!==null?t:Zl(e.type)||"Memo";case pn:t=e._payload,e=e._init;try{return Zl(e(t))}catch{}}return null}function qy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zl(t);case 8:return t===mu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function am(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yy(e){var t=am(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Di(e){e._valueTracker||(e._valueTracker=Yy(e))}function lm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=am(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Io(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ec(e,t){var n=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Id(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Dn(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cm(e,t){t=t.checked,t!=null&&pu(e,"checked",t,!1)}function tc(e,t){cm(e,t);var n=Dn(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nc(e,t.type,n):t.hasOwnProperty("defaultValue")&&nc(e,t.type,Dn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function nc(e,t,n){(t!=="number"||Io(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Cr=Array.isArray;function Fs(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Dn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function sc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(Cr(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Dn(n)}}function um(e,t){var n=Dn(t.value),s=Dn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Bd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ii,fm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ii=Ii||document.createElement("div"),Ii.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ii.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Dr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ky=["Webkit","ms","Moz","O"];Object.keys(Dr).forEach(function(e){Ky.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Dr[t]=Dr[e]})});function hm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Dr.hasOwnProperty(e)&&Dr[e]?(""+t).trim():t+"px"}function pm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=hm(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,r):e[n]=r}}var Qy=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ic(e,t){if(t){if(Qy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function oc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ac=null;function yu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lc=null,zs=null,Bs=null;function $d(e){if(e=_i(e)){if(typeof lc!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Ma(t),lc(e.stateNode,e.type,t))}}function mm(e){zs?Bs?Bs.push(e):Bs=[e]:zs=e}function gm(){if(zs){var e=zs,t=Bs;if(Bs=zs=null,$d(e),t)for(e=0;e<t.length;e++)$d(t[e])}}function xm(e,t){return e(t)}function ym(){}var il=!1;function vm(e,t,n){if(il)return e(t,n);il=!0;try{return xm(e,t,n)}finally{il=!1,(zs!==null||Bs!==null)&&(ym(),gm())}}function Gr(e,t){var n=e.stateNode;if(n===null)return null;var s=Ma(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var cc=!1;if(sn)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){cc=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{cc=!1}function Xy(e,t,n,s,r,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ir=!1,Fo=null,zo=!1,uc=null,Gy={onError:function(e){Ir=!0,Fo=e}};function Jy(e,t,n,s,r,i,o,a,l){Ir=!1,Fo=null,Xy.apply(Gy,arguments)}function Zy(e,t,n,s,r,i,o,a,l){if(Jy.apply(this,arguments),Ir){if(Ir){var c=Fo;Ir=!1,Fo=null}else throw Error(F(198));zo||(zo=!0,uc=c)}}function ys(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ud(e){if(ys(e)!==e)throw Error(F(188))}function ev(e){var t=e.alternate;if(!t){if(t=ys(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Ud(r),e;if(i===s)return Ud(r),t;i=i.sibling}throw Error(F(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==s)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function bm(e){return e=ev(e),e!==null?km(e):null}function km(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=km(e);if(t!==null)return t;e=e.sibling}return null}var Sm=at.unstable_scheduleCallback,Wd=at.unstable_cancelCallback,tv=at.unstable_shouldYield,nv=at.unstable_requestPaint,ve=at.unstable_now,sv=at.unstable_getCurrentPriorityLevel,vu=at.unstable_ImmediatePriority,_m=at.unstable_UserBlockingPriority,Bo=at.unstable_NormalPriority,rv=at.unstable_LowPriority,jm=at.unstable_IdlePriority,Ca=null,Ht=null;function iv(e){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Ca,e,void 0,(e.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:lv,ov=Math.log,av=Math.LN2;function lv(e){return e>>>=0,e===0?32:31-(ov(e)/av|0)|0}var Fi=64,zi=4194304;function Ar(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $o(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,r=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?s=Ar(a):(i&=o,i!==0&&(s=Ar(i)))}else o=n&~r,o!==0?s=Ar(o):i!==0&&(s=Ar(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&r)&&(r=s&-s,i=t&-t,r>=i||r===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Rt(t),r=1<<n,s|=e[n],t&=~r;return s}function cv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uv(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Rt(i),a=1<<o,l=r[o];l===-1?(!(a&n)||a&s)&&(r[o]=cv(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function dc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Em(){var e=Fi;return Fi<<=1,!(Fi&4194240)&&(Fi=64),e}function ol(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ki(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rt(t),e[t]=n}function dv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-Rt(n),i=1<<r;t[r]=0,s[r]=-1,e[r]=-1,n&=~i}}function wu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Rt(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}var ie=0;function Cm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Am,bu,Nm,Rm,Mm,fc=!1,Bi=[],jn=null,En=null,Cn=null,Jr=new Map,Zr=new Map,gn=[],fv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hd(e,t){switch(e){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":Jr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zr.delete(t.pointerId)}}function pr(e,t,n,s,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},t!==null&&(t=_i(t),t!==null&&bu(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function hv(e,t,n,s,r){switch(t){case"focusin":return jn=pr(jn,e,t,n,s,r),!0;case"dragenter":return En=pr(En,e,t,n,s,r),!0;case"mouseover":return Cn=pr(Cn,e,t,n,s,r),!0;case"pointerover":var i=r.pointerId;return Jr.set(i,pr(Jr.get(i)||null,e,t,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Zr.set(i,pr(Zr.get(i)||null,e,t,n,s,r)),!0}return!1}function Pm(e){var t=Zn(e.target);if(t!==null){var n=ys(t);if(n!==null){if(t=n.tag,t===13){if(t=wm(n),t!==null){e.blockedOn=t,Mm(e.priority,function(){Nm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);ac=s,n.target.dispatchEvent(s),ac=null}else return t=_i(n),t!==null&&bu(t),e.blockedOn=n,!1;t.shift()}return!0}function Vd(e,t,n){xo(e)&&n.delete(t)}function pv(){fc=!1,jn!==null&&xo(jn)&&(jn=null),En!==null&&xo(En)&&(En=null),Cn!==null&&xo(Cn)&&(Cn=null),Jr.forEach(Vd),Zr.forEach(Vd)}function mr(e,t){e.blockedOn===t&&(e.blockedOn=null,fc||(fc=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,pv)))}function ei(e){function t(r){return mr(r,e)}if(0<Bi.length){mr(Bi[0],e);for(var n=1;n<Bi.length;n++){var s=Bi[n];s.blockedOn===e&&(s.blockedOn=null)}}for(jn!==null&&mr(jn,e),En!==null&&mr(En,e),Cn!==null&&mr(Cn,e),Jr.forEach(t),Zr.forEach(t),n=0;n<gn.length;n++)s=gn[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<gn.length&&(n=gn[0],n.blockedOn===null);)Pm(n),n.blockedOn===null&&gn.shift()}var $s=cn.ReactCurrentBatchConfig,Uo=!0;function mv(e,t,n,s){var r=ie,i=$s.transition;$s.transition=null;try{ie=1,ku(e,t,n,s)}finally{ie=r,$s.transition=i}}function gv(e,t,n,s){var r=ie,i=$s.transition;$s.transition=null;try{ie=4,ku(e,t,n,s)}finally{ie=r,$s.transition=i}}function ku(e,t,n,s){if(Uo){var r=hc(e,t,n,s);if(r===null)gl(e,t,s,Wo,n),Hd(e,s);else if(hv(r,e,t,n,s))s.stopPropagation();else if(Hd(e,s),t&4&&-1<fv.indexOf(e)){for(;r!==null;){var i=_i(r);if(i!==null&&Am(i),i=hc(e,t,n,s),i===null&&gl(e,t,s,Wo,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else gl(e,t,s,null,n)}}var Wo=null;function hc(e,t,n,s){if(Wo=null,e=yu(s),e=Zn(e),e!==null)if(t=ys(e),t===null)e=null;else if(n=t.tag,n===13){if(e=wm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wo=e,null}function Tm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sv()){case vu:return 1;case _m:return 4;case Bo:case rv:return 16;case jm:return 536870912;default:return 16}default:return 16}}var vn=null,Su=null,yo=null;function Om(){if(yo)return yo;var e,t=Su,n=t.length,s,r="value"in vn?vn.value:vn.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===r[i-s];s++);return yo=r.slice(e,1<s?1-s:void 0)}function vo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $i(){return!0}function qd(){return!1}function ct(e){function t(n,s,r,i,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$i:qd,this.isPropagationStopped=qd,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),t}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_u=ct(rr),Si=ge({},rr,{view:0,detail:0}),xv=ct(Si),al,ll,gr,Aa=ge({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ju,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gr&&(gr&&e.type==="mousemove"?(al=e.screenX-gr.screenX,ll=e.screenY-gr.screenY):ll=al=0,gr=e),al)},movementY:function(e){return"movementY"in e?e.movementY:ll}}),Yd=ct(Aa),yv=ge({},Aa,{dataTransfer:0}),vv=ct(yv),wv=ge({},Si,{relatedTarget:0}),cl=ct(wv),bv=ge({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),kv=ct(bv),Sv=ge({},rr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_v=ct(Sv),jv=ge({},rr,{data:0}),Kd=ct(jv),Ev={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Av={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Av[e])?!!t[e]:!1}function ju(){return Nv}var Rv=ge({},Si,{key:function(e){if(e.key){var t=Ev[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ju,charCode:function(e){return e.type==="keypress"?vo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mv=ct(Rv),Pv=ge({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qd=ct(Pv),Tv=ge({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ju}),Ov=ct(Tv),Lv=ge({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dv=ct(Lv),Iv=ge({},Aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fv=ct(Iv),zv=[9,13,27,32],Eu=sn&&"CompositionEvent"in window,Fr=null;sn&&"documentMode"in document&&(Fr=document.documentMode);var Bv=sn&&"TextEvent"in window&&!Fr,Lm=sn&&(!Eu||Fr&&8<Fr&&11>=Fr),Xd=" ",Gd=!1;function Dm(e,t){switch(e){case"keyup":return zv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Im(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Es=!1;function $v(e,t){switch(e){case"compositionend":return Im(t);case"keypress":return t.which!==32?null:(Gd=!0,Xd);case"textInput":return e=t.data,e===Xd&&Gd?null:e;default:return null}}function Uv(e,t){if(Es)return e==="compositionend"||!Eu&&Dm(e,t)?(e=Om(),yo=Su=vn=null,Es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lm&&t.locale!=="ko"?null:t.data;default:return null}}var Wv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wv[e.type]:t==="textarea"}function Fm(e,t,n,s){mm(s),t=Ho(t,"onChange"),0<t.length&&(n=new _u("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var zr=null,ti=null;function Hv(e){Qm(e,0)}function Na(e){var t=Ns(e);if(lm(t))return e}function Vv(e,t){if(e==="change")return t}var zm=!1;if(sn){var ul;if(sn){var dl="oninput"in document;if(!dl){var Zd=document.createElement("div");Zd.setAttribute("oninput","return;"),dl=typeof Zd.oninput=="function"}ul=dl}else ul=!1;zm=ul&&(!document.documentMode||9<document.documentMode)}function ef(){zr&&(zr.detachEvent("onpropertychange",Bm),ti=zr=null)}function Bm(e){if(e.propertyName==="value"&&Na(ti)){var t=[];Fm(t,ti,e,yu(e)),vm(Hv,t)}}function qv(e,t,n){e==="focusin"?(ef(),zr=t,ti=n,zr.attachEvent("onpropertychange",Bm)):e==="focusout"&&ef()}function Yv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Na(ti)}function Kv(e,t){if(e==="click")return Na(t)}function Qv(e,t){if(e==="input"||e==="change")return Na(t)}function Xv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:Xv;function ni(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Ql.call(t,r)||!Pt(e[r],t[r]))return!1}return!0}function tf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nf(e,t){var n=tf(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tf(n)}}function $m(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$m(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Um(){for(var e=window,t=Io();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Io(e.document)}return t}function Cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Gv(e){var t=Um(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$m(n.ownerDocument.documentElement,n)){if(s!==null&&Cu(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!e.extend&&i>s&&(r=s,s=i,i=r),r=nf(n,i);var o=nf(n,s);r&&o&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Jv=sn&&"documentMode"in document&&11>=document.documentMode,Cs=null,pc=null,Br=null,mc=!1;function sf(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mc||Cs==null||Cs!==Io(s)||(s=Cs,"selectionStart"in s&&Cu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Br&&ni(Br,s)||(Br=s,s=Ho(pc,"onSelect"),0<s.length&&(t=new _u("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Cs)))}function Ui(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var As={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionend:Ui("Transition","TransitionEnd")},fl={},Wm={};sn&&(Wm=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Ra(e){if(fl[e])return fl[e];if(!As[e])return e;var t=As[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Wm)return fl[e]=t[n];return e}var Hm=Ra("animationend"),Vm=Ra("animationiteration"),qm=Ra("animationstart"),Ym=Ra("transitionend"),Km=new Map,rf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bn(e,t){Km.set(e,t),xs(t,[e])}for(var hl=0;hl<rf.length;hl++){var pl=rf[hl],Zv=pl.toLowerCase(),e1=pl[0].toUpperCase()+pl.slice(1);Bn(Zv,"on"+e1)}Bn(Hm,"onAnimationEnd");Bn(Vm,"onAnimationIteration");Bn(qm,"onAnimationStart");Bn("dblclick","onDoubleClick");Bn("focusin","onFocus");Bn("focusout","onBlur");Bn(Ym,"onTransitionEnd");Ks("onMouseEnter",["mouseout","mouseover"]);Ks("onMouseLeave",["mouseout","mouseover"]);Ks("onPointerEnter",["pointerout","pointerover"]);Ks("onPointerLeave",["pointerout","pointerover"]);xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function of(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Zy(s,t,void 0,e),e.currentTarget=null}function Qm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&r.isPropagationStopped())break e;of(r,a,c),i=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&r.isPropagationStopped())break e;of(r,a,c),i=l}}}if(zo)throw e=uc,zo=!1,uc=null,e}function ce(e,t){var n=t[wc];n===void 0&&(n=t[wc]=new Set);var s=e+"__bubble";n.has(s)||(Xm(t,e,2,!1),n.add(s))}function ml(e,t,n){var s=0;t&&(s|=4),Xm(n,e,s,t)}var Wi="_reactListening"+Math.random().toString(36).slice(2);function si(e){if(!e[Wi]){e[Wi]=!0,sm.forEach(function(n){n!=="selectionchange"&&(t1.has(n)||ml(n,!1,e),ml(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wi]||(t[Wi]=!0,ml("selectionchange",!1,t))}}function Xm(e,t,n,s){switch(Tm(t)){case 1:var r=mv;break;case 4:r=gv;break;default:r=ku}n=r.bind(null,t,n,e),r=void 0,!cc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function gl(e,t,n,s,r){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Zn(a),o===null)return;if(l=o.tag,l===5||l===6){s=i=o;continue e}a=a.parentNode}}s=s.return}vm(function(){var c=i,u=yu(n),f=[];e:{var h=Km.get(e);if(h!==void 0){var g=_u,p=e;switch(e){case"keypress":if(vo(n)===0)break e;case"keydown":case"keyup":g=Mv;break;case"focusin":p="focus",g=cl;break;case"focusout":p="blur",g=cl;break;case"beforeblur":case"afterblur":g=cl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=vv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Ov;break;case Hm:case Vm:case qm:g=kv;break;case Ym:g=Dv;break;case"scroll":g=xv;break;case"wheel":g=Fv;break;case"copy":case"cut":case"paste":g=_v;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Qd}var y=(t&4)!==0,x=!y&&e==="scroll",m=y?h!==null?h+"Capture":null:h;y=[];for(var w=c,b;w!==null;){b=w;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,m!==null&&(k=Gr(w,m),k!=null&&y.push(ri(w,k,b)))),x)break;w=w.return}0<y.length&&(h=new g(h,p,null,n,u),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==ac&&(p=n.relatedTarget||n.fromElement)&&(Zn(p)||p[rn]))break e;if((g||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,g?(p=n.relatedTarget||n.toElement,g=c,p=p?Zn(p):null,p!==null&&(x=ys(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=c),g!==p)){if(y=Yd,k="onMouseLeave",m="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(y=Qd,k="onPointerLeave",m="onPointerEnter",w="pointer"),x=g==null?h:Ns(g),b=p==null?h:Ns(p),h=new y(k,w+"leave",g,n,u),h.target=x,h.relatedTarget=b,k=null,Zn(u)===c&&(y=new y(m,w+"enter",p,n,u),y.target=b,y.relatedTarget=x,k=y),x=k,g&&p)t:{for(y=g,m=p,w=0,b=y;b;b=ws(b))w++;for(b=0,k=m;k;k=ws(k))b++;for(;0<w-b;)y=ws(y),w--;for(;0<b-w;)m=ws(m),b--;for(;w--;){if(y===m||m!==null&&y===m.alternate)break t;y=ws(y),m=ws(m)}y=null}else y=null;g!==null&&af(f,h,g,y,!1),p!==null&&x!==null&&af(f,x,p,y,!0)}}e:{if(h=c?Ns(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=Vv;else if(Jd(h))if(zm)S=Qv;else{S=Yv;var E=qv}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Kv);if(S&&(S=S(e,c))){Fm(f,S,n,u);break e}E&&E(e,h,c),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&nc(h,"number",h.value)}switch(E=c?Ns(c):window,e){case"focusin":(Jd(E)||E.contentEditable==="true")&&(Cs=E,pc=c,Br=null);break;case"focusout":Br=pc=Cs=null;break;case"mousedown":mc=!0;break;case"contextmenu":case"mouseup":case"dragend":mc=!1,sf(f,n,u);break;case"selectionchange":if(Jv)break;case"keydown":case"keyup":sf(f,n,u)}var j;if(Eu)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Es?Dm(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Lm&&n.locale!=="ko"&&(Es||_!=="onCompositionStart"?_==="onCompositionEnd"&&Es&&(j=Om()):(vn=u,Su="value"in vn?vn.value:vn.textContent,Es=!0)),E=Ho(c,_),0<E.length&&(_=new Kd(_,e,null,n,u),f.push({event:_,listeners:E}),j?_.data=j:(j=Im(n),j!==null&&(_.data=j)))),(j=Bv?$v(e,n):Uv(e,n))&&(c=Ho(c,"onBeforeInput"),0<c.length&&(u=new Kd("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=j))}Qm(f,t)})}function ri(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ho(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Gr(e,n),i!=null&&s.unshift(ri(e,i,r)),i=Gr(e,t),i!=null&&s.push(ri(e,i,r))),e=e.return}return s}function ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function af(e,t,n,s,r){for(var i=t._reactName,o=[];n!==null&&n!==s;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&c!==null&&(a=c,r?(l=Gr(n,i),l!=null&&o.unshift(ri(n,l,a))):r||(l=Gr(n,i),l!=null&&o.push(ri(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var n1=/\r\n?/g,s1=/\u0000|\uFFFD/g;function lf(e){return(typeof e=="string"?e:""+e).replace(n1,`
`).replace(s1,"")}function Hi(e,t,n){if(t=lf(t),lf(e)!==t&&n)throw Error(F(425))}function Vo(){}var gc=null,xc=null;function yc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vc=typeof setTimeout=="function"?setTimeout:void 0,r1=typeof clearTimeout=="function"?clearTimeout:void 0,cf=typeof Promise=="function"?Promise:void 0,i1=typeof queueMicrotask=="function"?queueMicrotask:typeof cf<"u"?function(e){return cf.resolve(null).then(e).catch(o1)}:vc;function o1(e){setTimeout(function(){throw e})}function xl(e,t){var n=t,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){e.removeChild(r),ei(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);ei(t)}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ir=Math.random().toString(36).slice(2),Ut="__reactFiber$"+ir,ii="__reactProps$"+ir,rn="__reactContainer$"+ir,wc="__reactEvents$"+ir,a1="__reactListeners$"+ir,l1="__reactHandles$"+ir;function Zn(e){var t=e[Ut];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rn]||n[Ut]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=uf(e);e!==null;){if(n=e[Ut])return n;e=uf(e)}return t}e=n,n=e.parentNode}return null}function _i(e){return e=e[Ut]||e[rn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ns(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Ma(e){return e[ii]||null}var bc=[],Rs=-1;function $n(e){return{current:e}}function de(e){0>Rs||(e.current=bc[Rs],bc[Rs]=null,Rs--)}function le(e,t){Rs++,bc[Rs]=e.current,e.current=t}var In={},Ue=$n(In),Je=$n(!1),ls=In;function Qs(e,t){var n=e.type.contextTypes;if(!n)return In;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Ze(e){return e=e.childContextTypes,e!=null}function qo(){de(Je),de(Ue)}function df(e,t,n){if(Ue.current!==In)throw Error(F(168));le(Ue,t),le(Je,n)}function Gm(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in t))throw Error(F(108,qy(e)||"Unknown",r));return ge({},n,s)}function Yo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||In,ls=Ue.current,le(Ue,e),le(Je,Je.current),!0}function ff(e,t,n){var s=e.stateNode;if(!s)throw Error(F(169));n?(e=Gm(e,t,ls),s.__reactInternalMemoizedMergedChildContext=e,de(Je),de(Ue),le(Ue,e)):de(Je),le(Je,n)}var Gt=null,Pa=!1,yl=!1;function Jm(e){Gt===null?Gt=[e]:Gt.push(e)}function c1(e){Pa=!0,Jm(e)}function Un(){if(!yl&&Gt!==null){yl=!0;var e=0,t=ie;try{var n=Gt;for(ie=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Gt=null,Pa=!1}catch(r){throw Gt!==null&&(Gt=Gt.slice(e+1)),Sm(vu,Un),r}finally{ie=t,yl=!1}}return null}var Ms=[],Ps=0,Ko=null,Qo=0,ht=[],pt=0,cs=null,Zt=1,en="";function Kn(e,t){Ms[Ps++]=Qo,Ms[Ps++]=Ko,Ko=e,Qo=t}function Zm(e,t,n){ht[pt++]=Zt,ht[pt++]=en,ht[pt++]=cs,cs=e;var s=Zt;e=en;var r=32-Rt(s)-1;s&=~(1<<r),n+=1;var i=32-Rt(t)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,Zt=1<<32-Rt(t)+r|n<<r|s,en=i+e}else Zt=1<<i|n<<r|s,en=e}function Au(e){e.return!==null&&(Kn(e,1),Zm(e,1,0))}function Nu(e){for(;e===Ko;)Ko=Ms[--Ps],Ms[Ps]=null,Qo=Ms[--Ps],Ms[Ps]=null;for(;e===cs;)cs=ht[--pt],ht[pt]=null,en=ht[--pt],ht[pt]=null,Zt=ht[--pt],ht[pt]=null}var ot=null,it=null,fe=!1,Nt=null;function eg(e,t){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function hf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ot=e,it=An(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ot=e,it=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=cs!==null?{id:Zt,overflow:en}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ot=e,it=null,!0):!1;default:return!1}}function kc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sc(e){if(fe){var t=it;if(t){var n=t;if(!hf(e,t)){if(kc(e))throw Error(F(418));t=An(n.nextSibling);var s=ot;t&&hf(e,t)?eg(s,n):(e.flags=e.flags&-4097|2,fe=!1,ot=e)}}else{if(kc(e))throw Error(F(418));e.flags=e.flags&-4097|2,fe=!1,ot=e}}}function pf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ot=e}function Vi(e){if(e!==ot)return!1;if(!fe)return pf(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yc(e.type,e.memoizedProps)),t&&(t=it)){if(kc(e))throw tg(),Error(F(418));for(;t;)eg(e,t),t=An(t.nextSibling)}if(pf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){it=An(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}it=null}}else it=ot?An(e.stateNode.nextSibling):null;return!0}function tg(){for(var e=it;e;)e=An(e.nextSibling)}function Xs(){it=ot=null,fe=!1}function Ru(e){Nt===null?Nt=[e]:Nt.push(e)}var u1=cn.ReactCurrentBatchConfig;function xr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var s=n.stateNode}if(!s)throw Error(F(147,e));var r=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=r.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function qi(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mf(e){var t=e._init;return t(e._payload)}function ng(e){function t(m,w){if(e){var b=m.deletions;b===null?(m.deletions=[w],m.flags|=16):b.push(w)}}function n(m,w){if(!e)return null;for(;w!==null;)t(m,w),w=w.sibling;return null}function s(m,w){for(m=new Map;w!==null;)w.key!==null?m.set(w.key,w):m.set(w.index,w),w=w.sibling;return m}function r(m,w){return m=Pn(m,w),m.index=0,m.sibling=null,m}function i(m,w,b){return m.index=b,e?(b=m.alternate,b!==null?(b=b.index,b<w?(m.flags|=2,w):b):(m.flags|=2,w)):(m.flags|=1048576,w)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,w,b,k){return w===null||w.tag!==6?(w=jl(b,m.mode,k),w.return=m,w):(w=r(w,b),w.return=m,w)}function l(m,w,b,k){var S=b.type;return S===js?u(m,w,b.props.children,k,b.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===pn&&mf(S)===w.type)?(k=r(w,b.props),k.ref=xr(m,w,b),k.return=m,k):(k=Eo(b.type,b.key,b.props,null,m.mode,k),k.ref=xr(m,w,b),k.return=m,k)}function c(m,w,b,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=El(b,m.mode,k),w.return=m,w):(w=r(w,b.children||[]),w.return=m,w)}function u(m,w,b,k,S){return w===null||w.tag!==7?(w=is(b,m.mode,k,S),w.return=m,w):(w=r(w,b),w.return=m,w)}function f(m,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=jl(""+w,m.mode,b),w.return=m,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Li:return b=Eo(w.type,w.key,w.props,null,m.mode,b),b.ref=xr(m,null,w),b.return=m,b;case _s:return w=El(w,m.mode,b),w.return=m,w;case pn:var k=w._init;return f(m,k(w._payload),b)}if(Cr(w)||fr(w))return w=is(w,m.mode,b,null),w.return=m,w;qi(m,w)}return null}function h(m,w,b,k){var S=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:a(m,w,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Li:return b.key===S?l(m,w,b,k):null;case _s:return b.key===S?c(m,w,b,k):null;case pn:return S=b._init,h(m,w,S(b._payload),k)}if(Cr(b)||fr(b))return S!==null?null:u(m,w,b,k,null);qi(m,b)}return null}function g(m,w,b,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(b)||null,a(w,m,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Li:return m=m.get(k.key===null?b:k.key)||null,l(w,m,k,S);case _s:return m=m.get(k.key===null?b:k.key)||null,c(w,m,k,S);case pn:var E=k._init;return g(m,w,b,E(k._payload),S)}if(Cr(k)||fr(k))return m=m.get(b)||null,u(w,m,k,S,null);qi(w,k)}return null}function p(m,w,b,k){for(var S=null,E=null,j=w,_=w=0,A=null;j!==null&&_<b.length;_++){j.index>_?(A=j,j=null):A=j.sibling;var C=h(m,j,b[_],k);if(C===null){j===null&&(j=A);break}e&&j&&C.alternate===null&&t(m,j),w=i(C,w,_),E===null?S=C:E.sibling=C,E=C,j=A}if(_===b.length)return n(m,j),fe&&Kn(m,_),S;if(j===null){for(;_<b.length;_++)j=f(m,b[_],k),j!==null&&(w=i(j,w,_),E===null?S=j:E.sibling=j,E=j);return fe&&Kn(m,_),S}for(j=s(m,j);_<b.length;_++)A=g(j,m,_,b[_],k),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?_:A.key),w=i(A,w,_),E===null?S=A:E.sibling=A,E=A);return e&&j.forEach(function(N){return t(m,N)}),fe&&Kn(m,_),S}function y(m,w,b,k){var S=fr(b);if(typeof S!="function")throw Error(F(150));if(b=S.call(b),b==null)throw Error(F(151));for(var E=S=null,j=w,_=w=0,A=null,C=b.next();j!==null&&!C.done;_++,C=b.next()){j.index>_?(A=j,j=null):A=j.sibling;var N=h(m,j,C.value,k);if(N===null){j===null&&(j=A);break}e&&j&&N.alternate===null&&t(m,j),w=i(N,w,_),E===null?S=N:E.sibling=N,E=N,j=A}if(C.done)return n(m,j),fe&&Kn(m,_),S;if(j===null){for(;!C.done;_++,C=b.next())C=f(m,C.value,k),C!==null&&(w=i(C,w,_),E===null?S=C:E.sibling=C,E=C);return fe&&Kn(m,_),S}for(j=s(m,j);!C.done;_++,C=b.next())C=g(j,m,_,C.value,k),C!==null&&(e&&C.alternate!==null&&j.delete(C.key===null?_:C.key),w=i(C,w,_),E===null?S=C:E.sibling=C,E=C);return e&&j.forEach(function(P){return t(m,P)}),fe&&Kn(m,_),S}function x(m,w,b,k){if(typeof b=="object"&&b!==null&&b.type===js&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Li:e:{for(var S=b.key,E=w;E!==null;){if(E.key===S){if(S=b.type,S===js){if(E.tag===7){n(m,E.sibling),w=r(E,b.props.children),w.return=m,m=w;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===pn&&mf(S)===E.type){n(m,E.sibling),w=r(E,b.props),w.ref=xr(m,E,b),w.return=m,m=w;break e}n(m,E);break}else t(m,E);E=E.sibling}b.type===js?(w=is(b.props.children,m.mode,k,b.key),w.return=m,m=w):(k=Eo(b.type,b.key,b.props,null,m.mode,k),k.ref=xr(m,w,b),k.return=m,m=k)}return o(m);case _s:e:{for(E=b.key;w!==null;){if(w.key===E)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(m,w.sibling),w=r(w,b.children||[]),w.return=m,m=w;break e}else{n(m,w);break}else t(m,w);w=w.sibling}w=El(b,m.mode,k),w.return=m,m=w}return o(m);case pn:return E=b._init,x(m,w,E(b._payload),k)}if(Cr(b))return p(m,w,b,k);if(fr(b))return y(m,w,b,k);qi(m,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(m,w.sibling),w=r(w,b),w.return=m,m=w):(n(m,w),w=jl(b,m.mode,k),w.return=m,m=w),o(m)):n(m,w)}return x}var Gs=ng(!0),sg=ng(!1),Xo=$n(null),Go=null,Ts=null,Mu=null;function Pu(){Mu=Ts=Go=null}function Tu(e){var t=Xo.current;de(Xo),e._currentValue=t}function _c(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Us(e,t){Go=e,Mu=Ts=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xe=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if(Mu!==e)if(e={context:e,memoizedValue:t,next:null},Ts===null){if(Go===null)throw Error(F(308));Ts=e,Go.dependencies={lanes:0,firstContext:e}}else Ts=Ts.next=e;return t}var es=null;function Ou(e){es===null?es=[e]:es.push(e)}function rg(e,t,n,s){var r=t.interleaved;return r===null?(n.next=n,Ou(t)):(n.next=r.next,r.next=n),t.interleaved=n,on(e,s)}function on(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var mn=!1;function Lu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ig(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Nn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Z&2){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,on(e,n)}return r=s.interleaved,r===null?(t.next=t,Ou(s)):(t.next=r.next,r.next=t),s.interleaved=t,on(e,n)}function wo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,wu(e,n)}}function gf(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Jo(e,t,n,s){var r=e.updateQueue;mn=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=r.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,g=a.eventTime;if((s&h)===h){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,y=a;switch(h=t,g=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){f=p.call(g,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,h=typeof p=="function"?p.call(g,f,h):p,h==null)break e;f=ge({},f,h);break e;case 2:mn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=r.effects,h===null?r.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=f):u=u.next=g,o|=h;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;h=a,a=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(u===null&&(l=f),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,t=r.shared.interleaved,t!==null){r=t;do o|=r.lane,r=r.next;while(r!==t)}else i===null&&(r.shared.lanes=0);ds|=o,e.lanes=o,e.memoizedState=f}}function xf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(F(191,r));r.call(s)}}}var ji={},Vt=$n(ji),oi=$n(ji),ai=$n(ji);function ts(e){if(e===ji)throw Error(F(174));return e}function Du(e,t){switch(le(ai,t),le(oi,e),le(Vt,ji),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rc(t,e)}de(Vt),le(Vt,t)}function Js(){de(Vt),de(oi),de(ai)}function og(e){ts(ai.current);var t=ts(Vt.current),n=rc(t,e.type);t!==n&&(le(oi,e),le(Vt,n))}function Iu(e){oi.current===e&&(de(Vt),de(oi))}var pe=$n(0);function Zo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vl=[];function Fu(){for(var e=0;e<vl.length;e++)vl[e]._workInProgressVersionPrimary=null;vl.length=0}var bo=cn.ReactCurrentDispatcher,wl=cn.ReactCurrentBatchConfig,us=0,me=null,Ee=null,Me=null,ea=!1,$r=!1,li=0,d1=0;function De(){throw Error(F(321))}function zu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pt(e[n],t[n]))return!1;return!0}function Bu(e,t,n,s,r,i){if(us=i,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bo.current=e===null||e.memoizedState===null?m1:g1,e=n(s,r),$r){i=0;do{if($r=!1,li=0,25<=i)throw Error(F(301));i+=1,Me=Ee=null,t.updateQueue=null,bo.current=x1,e=n(s,r)}while($r)}if(bo.current=ta,t=Ee!==null&&Ee.next!==null,us=0,Me=Ee=me=null,ea=!1,t)throw Error(F(300));return e}function $u(){var e=li!==0;return li=0,e}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?me.memoizedState=Me=e:Me=Me.next=e,Me}function vt(){if(Ee===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Me===null?me.memoizedState:Me.next;if(t!==null)Me=t,Ee=e;else{if(e===null)throw Error(F(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Me===null?me.memoizedState=Me=e:Me=Me.next=e}return Me}function ci(e,t){return typeof t=="function"?t(e):t}function bl(e){var t=vt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var s=Ee,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((us&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:e(s,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=s):l=l.next=f,me.lanes|=u,ds|=u}c=c.next}while(c!==null&&c!==i);l===null?o=s:l.next=a,Pt(s,t.memoizedState)||(Xe=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=l,n.lastRenderedState=s}if(e=n.interleaved,e!==null){r=e;do i=r.lane,me.lanes|=i,ds|=i,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function kl(e){var t=vt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=e(i,o.action),o=o.next;while(o!==r);Pt(i,t.memoizedState)||(Xe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function ag(){}function lg(e,t){var n=me,s=vt(),r=t(),i=!Pt(s.memoizedState,r);if(i&&(s.memoizedState=r,Xe=!0),s=s.queue,Uu(dg.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,ui(9,ug.bind(null,n,s,r,t),void 0,null),Pe===null)throw Error(F(349));us&30||cg(n,t,r)}return r}function cg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ug(e,t,n,s){t.value=n,t.getSnapshot=s,fg(t)&&hg(e)}function dg(e,t,n){return n(function(){fg(t)&&hg(e)})}function fg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pt(e,n)}catch{return!0}}function hg(e){var t=on(e,1);t!==null&&Mt(t,e,1,-1)}function yf(e){var t=zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:e},t.queue=e,e=e.dispatch=p1.bind(null,me,e),[t.memoizedState,e]}function ui(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function pg(){return vt().memoizedState}function ko(e,t,n,s){var r=zt();me.flags|=e,r.memoizedState=ui(1|t,n,void 0,s===void 0?null:s)}function Ta(e,t,n,s){var r=vt();s=s===void 0?null:s;var i=void 0;if(Ee!==null){var o=Ee.memoizedState;if(i=o.destroy,s!==null&&zu(s,o.deps)){r.memoizedState=ui(t,n,i,s);return}}me.flags|=e,r.memoizedState=ui(1|t,n,i,s)}function vf(e,t){return ko(8390656,8,e,t)}function Uu(e,t){return Ta(2048,8,e,t)}function mg(e,t){return Ta(4,2,e,t)}function gg(e,t){return Ta(4,4,e,t)}function xg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yg(e,t,n){return n=n!=null?n.concat([e]):null,Ta(4,4,xg.bind(null,t,e),n)}function Wu(){}function vg(e,t){var n=vt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&zu(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function wg(e,t){var n=vt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&zu(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function bg(e,t,n){return us&21?(Pt(n,t)||(n=Em(),me.lanes|=n,ds|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=n)}function f1(e,t){var n=ie;ie=n!==0&&4>n?n:4,e(!0);var s=wl.transition;wl.transition={};try{e(!1),t()}finally{ie=n,wl.transition=s}}function kg(){return vt().memoizedState}function h1(e,t,n){var s=Mn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Sg(e))_g(t,n);else if(n=rg(e,t,n,s),n!==null){var r=He();Mt(n,e,s,r),jg(n,t,s)}}function p1(e,t,n){var s=Mn(e),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sg(e))_g(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(r.hasEagerState=!0,r.eagerState=a,Pt(a,o)){var l=t.interleaved;l===null?(r.next=r,Ou(t)):(r.next=l.next,l.next=r),t.interleaved=r;return}}catch{}finally{}n=rg(e,t,r,s),n!==null&&(r=He(),Mt(n,e,s,r),jg(n,t,s))}}function Sg(e){var t=e.alternate;return e===me||t!==null&&t===me}function _g(e,t){$r=ea=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jg(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,wu(e,n)}}var ta={readContext:yt,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},m1={readContext:yt,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:vf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ko(4194308,4,xg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ko(4194308,4,e,t)},useInsertionEffect:function(e,t){return ko(4,2,e,t)},useMemo:function(e,t){var n=zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=zt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=h1.bind(null,me,e),[s.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:yf,useDebugValue:Wu,useDeferredValue:function(e){return zt().memoizedState=e},useTransition:function(){var e=yf(!1),t=e[0];return e=f1.bind(null,e[1]),zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=me,r=zt();if(fe){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),Pe===null)throw Error(F(349));us&30||cg(s,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,vf(dg.bind(null,s,i,e),[e]),s.flags|=2048,ui(9,ug.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=zt(),t=Pe.identifierPrefix;if(fe){var n=en,s=Zt;n=(s&~(1<<32-Rt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=li++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=d1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},g1={readContext:yt,useCallback:vg,useContext:yt,useEffect:Uu,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:gg,useMemo:wg,useReducer:bl,useRef:pg,useState:function(){return bl(ci)},useDebugValue:Wu,useDeferredValue:function(e){var t=vt();return bg(t,Ee.memoizedState,e)},useTransition:function(){var e=bl(ci)[0],t=vt().memoizedState;return[e,t]},useMutableSource:ag,useSyncExternalStore:lg,useId:kg,unstable_isNewReconciler:!1},x1={readContext:yt,useCallback:vg,useContext:yt,useEffect:Uu,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:gg,useMemo:wg,useReducer:kl,useRef:pg,useState:function(){return kl(ci)},useDebugValue:Wu,useDeferredValue:function(e){var t=vt();return Ee===null?t.memoizedState=e:bg(t,Ee.memoizedState,e)},useTransition:function(){var e=kl(ci)[0],t=vt().memoizedState;return[e,t]},useMutableSource:ag,useSyncExternalStore:lg,useId:kg,unstable_isNewReconciler:!1};function Et(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function jc(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Oa={isMounted:function(e){return(e=e._reactInternals)?ys(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=He(),r=Mn(e),i=nn(s,r);i.payload=t,n!=null&&(i.callback=n),t=Nn(e,i,r),t!==null&&(Mt(t,e,r,s),wo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=He(),r=Mn(e),i=nn(s,r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Nn(e,i,r),t!==null&&(Mt(t,e,r,s),wo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=He(),s=Mn(e),r=nn(n,s);r.tag=2,t!=null&&(r.callback=t),t=Nn(e,r,s),t!==null&&(Mt(t,e,s,n),wo(t,e,s))}};function wf(e,t,n,s,r,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!ni(n,s)||!ni(r,i):!0}function Eg(e,t,n){var s=!1,r=In,i=t.contextType;return typeof i=="object"&&i!==null?i=yt(i):(r=Ze(t)?ls:Ue.current,s=t.contextTypes,i=(s=s!=null)?Qs(e,r):In),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oa,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function bf(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Oa.enqueueReplaceState(t,t.state,null)}function Ec(e,t,n,s){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Lu(e);var i=t.contextType;typeof i=="object"&&i!==null?r.context=yt(i):(i=Ze(t)?ls:Ue.current,r.context=Qs(e,i)),r.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(jc(e,t,i,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Oa.enqueueReplaceState(r,r.state,null),Jo(e,n,r,s),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Zs(e,t){try{var n="",s=t;do n+=Vy(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:r,digest:null}}function Sl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Cc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var y1=typeof WeakMap=="function"?WeakMap:Map;function Cg(e,t,n){n=nn(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){sa||(sa=!0,Ic=s),Cc(e,t)},n}function Ag(e,t,n){n=nn(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var r=t.value;n.payload=function(){return s(r)},n.callback=function(){Cc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Cc(e,t),typeof s!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function kf(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new y1;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||(r.add(n),e=P1.bind(null,e,t,n),t.then(e,e))}function Sf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _f(e,t,n,s,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=nn(-1,1),t.tag=2,Nn(n,t,1))),n.lanes|=1),e)}var v1=cn.ReactCurrentOwner,Xe=!1;function We(e,t,n,s){t.child=e===null?sg(t,null,n,s):Gs(t,e.child,n,s)}function jf(e,t,n,s,r){n=n.render;var i=t.ref;return Us(t,r),s=Bu(e,t,n,s,i,r),n=$u(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,an(e,t,r)):(fe&&n&&Au(t),t.flags|=1,We(e,t,s,r),t.child)}function Ef(e,t,n,s,r){if(e===null){var i=n.type;return typeof i=="function"&&!Gu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Ng(e,t,i,s,r)):(e=Eo(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&r)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ni,n(o,s)&&e.ref===t.ref)return an(e,t,r)}return t.flags|=1,e=Pn(i,s),e.ref=t.ref,e.return=t,t.child=e}function Ng(e,t,n,s,r){if(e!==null){var i=e.memoizedProps;if(ni(i,s)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=s=i,(e.lanes&r)!==0)e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,an(e,t,r)}return Ac(e,t,n,s,r)}function Rg(e,t,n){var s=t.pendingProps,r=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(Ls,rt),rt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(Ls,rt),rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,le(Ls,rt),rt|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,le(Ls,rt),rt|=s;return We(e,t,r,n),t.child}function Mg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ac(e,t,n,s,r){var i=Ze(n)?ls:Ue.current;return i=Qs(t,i),Us(t,r),n=Bu(e,t,n,s,i,r),s=$u(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,an(e,t,r)):(fe&&s&&Au(t),t.flags|=1,We(e,t,n,r),t.child)}function Cf(e,t,n,s,r){if(Ze(n)){var i=!0;Yo(t)}else i=!1;if(Us(t,r),t.stateNode===null)So(e,t),Eg(t,n,s),Ec(t,n,s,r),s=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=yt(c):(c=Ze(n)?ls:Ue.current,c=Qs(t,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==c)&&bf(t,o,s,c),mn=!1;var h=t.memoizedState;o.state=h,Jo(t,s,o,r),l=t.memoizedState,a!==s||h!==l||Je.current||mn?(typeof u=="function"&&(jc(t,n,u,s),l=t.memoizedState),(a=mn||wf(t,n,a,s,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=l),o.props=s,o.state=l,o.context=c,s=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,ig(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Et(t.type,a),o.props=c,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=yt(l):(l=Ze(n)?ls:Ue.current,l=Qs(t,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&bf(t,o,s,l),mn=!1,h=t.memoizedState,o.state=h,Jo(t,s,o,r);var p=t.memoizedState;a!==f||h!==p||Je.current||mn?(typeof g=="function"&&(jc(t,n,g,s),p=t.memoizedState),(c=mn||wf(t,n,c,s,h,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,p,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=p),o.props=s,o.state=p,o.context=l,s=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return Nc(e,t,n,s,i,r)}function Nc(e,t,n,s,r,i){Mg(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return r&&ff(t,n,!1),an(e,t,i);s=t.stateNode,v1.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Gs(t,e.child,null,i),t.child=Gs(t,null,a,i)):We(e,t,a,i),t.memoizedState=s.state,r&&ff(t,n,!0),t.child}function Pg(e){var t=e.stateNode;t.pendingContext?df(e,t.pendingContext,t.pendingContext!==t.context):t.context&&df(e,t.context,!1),Du(e,t.containerInfo)}function Af(e,t,n,s,r){return Xs(),Ru(r),t.flags|=256,We(e,t,n,s),t.child}var Rc={dehydrated:null,treeContext:null,retryLane:0};function Mc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tg(e,t,n){var s=t.pendingProps,r=pe.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(r&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),le(pe,r&1),e===null)return Sc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ia(o,s,0,null),e=is(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Mc(n),t.memoizedState=Rc,e):Hu(t,o));if(r=e.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return w1(e,t,o,s,a,r,n);if(i){i=s.fallback,o=t.mode,r=e.child,a=r.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&t.child!==r?(s=t.child,s.childLanes=0,s.pendingProps=l,t.deletions=null):(s=Pn(r,l),s.subtreeFlags=r.subtreeFlags&14680064),a!==null?i=Pn(a,i):(i=is(i,o,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?Mc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Rc,s}return i=e.child,e=i.sibling,s=Pn(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Hu(e,t){return t=Ia({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yi(e,t,n,s){return s!==null&&Ru(s),Gs(t,e.child,null,n),e=Hu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function w1(e,t,n,s,r,i,o){if(n)return t.flags&256?(t.flags&=-257,s=Sl(Error(F(422))),Yi(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,r=t.mode,s=Ia({mode:"visible",children:s.children},r,0,null),i=is(i,r,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Gs(t,e.child,null,o),t.child.memoizedState=Mc(o),t.memoizedState=Rc,i);if(!(t.mode&1))return Yi(e,t,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(F(419)),s=Sl(i,s,void 0),Yi(e,t,o,s)}if(a=(o&e.childLanes)!==0,Xe||a){if(s=Pe,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,on(e,r),Mt(s,e,r,-1))}return Xu(),s=Sl(Error(F(421))),Yi(e,t,o,s)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=T1.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,it=An(r.nextSibling),ot=t,fe=!0,Nt=null,e!==null&&(ht[pt++]=Zt,ht[pt++]=en,ht[pt++]=cs,Zt=e.id,en=e.overflow,cs=t),t=Hu(t,s.children),t.flags|=4096,t)}function Nf(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),_c(e.return,t,n)}function _l(e,t,n,s,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function Og(e,t,n){var s=t.pendingProps,r=s.revealOrder,i=s.tail;if(We(e,t,s.children,n),s=pe.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nf(e,n,t);else if(e.tag===19)Nf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(le(pe,s),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Zo(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),_l(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Zo(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}_l(t,!0,n,null,i);break;case"together":_l(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function So(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function an(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ds|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=Pn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function b1(e,t,n){switch(t.tag){case 3:Pg(t),Xs();break;case 5:og(t);break;case 1:Ze(t.type)&&Yo(t);break;case 4:Du(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,r=t.memoizedProps.value;le(Xo,s._currentValue),s._currentValue=r;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(le(pe,pe.current&1),t.flags|=128,null):n&t.child.childLanes?Tg(e,t,n):(le(pe,pe.current&1),e=an(e,t,n),e!==null?e.sibling:null);le(pe,pe.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Og(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),le(pe,pe.current),s)break;return null;case 22:case 23:return t.lanes=0,Rg(e,t,n)}return an(e,t,n)}var Lg,Pc,Dg,Ig;Lg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pc=function(){};Dg=function(e,t,n,s){var r=e.memoizedProps;if(r!==s){e=t.stateNode,ts(Vt.current);var i=null;switch(n){case"input":r=ec(e,r),s=ec(e,s),i=[];break;case"select":r=ge({},r,{value:void 0}),s=ge({},s,{value:void 0}),i=[];break;case"textarea":r=sc(e,r),s=sc(e,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Vo)}ic(n,s);var o;n=null;for(c in r)if(!s.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Qr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in s){var l=s[c];if(a=r!=null?r[c]:void 0,s.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Qr.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ce("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Ig=function(e,t,n,s){n!==s&&(t.flags|=4)};function yr(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function k1(e,t,n){var s=t.pendingProps;switch(Nu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Ze(t.type)&&qo(),Ie(t),null;case 3:return s=t.stateNode,Js(),de(Je),de(Ue),Fu(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Vi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nt!==null&&(Bc(Nt),Nt=null))),Pc(e,t),Ie(t),null;case 5:Iu(t);var r=ts(ai.current);if(n=t.type,e!==null&&t.stateNode!=null)Dg(e,t,n,s,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(F(166));return Ie(t),null}if(e=ts(Vt.current),Vi(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[Ut]=t,s[ii]=i,e=(t.mode&1)!==0,n){case"dialog":ce("cancel",s),ce("close",s);break;case"iframe":case"object":case"embed":ce("load",s);break;case"video":case"audio":for(r=0;r<Nr.length;r++)ce(Nr[r],s);break;case"source":ce("error",s);break;case"img":case"image":case"link":ce("error",s),ce("load",s);break;case"details":ce("toggle",s);break;case"input":Id(s,i),ce("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},ce("invalid",s);break;case"textarea":zd(s,i),ce("invalid",s)}ic(n,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&Hi(s.textContent,a,e),r=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Hi(s.textContent,a,e),r=["children",""+a]):Qr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ce("scroll",s)}switch(n){case"input":Di(s),Fd(s,i,!0);break;case"textarea":Di(s),Bd(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Vo)}s=r,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[Ut]=t,e[ii]=s,Lg(e,t,!1,!1),t.stateNode=e;e:{switch(o=oc(n,s),n){case"dialog":ce("cancel",e),ce("close",e),r=s;break;case"iframe":case"object":case"embed":ce("load",e),r=s;break;case"video":case"audio":for(r=0;r<Nr.length;r++)ce(Nr[r],e);r=s;break;case"source":ce("error",e),r=s;break;case"img":case"image":case"link":ce("error",e),ce("load",e),r=s;break;case"details":ce("toggle",e),r=s;break;case"input":Id(e,s),r=ec(e,s),ce("invalid",e);break;case"option":r=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},r=ge({},s,{value:void 0}),ce("invalid",e);break;case"textarea":zd(e,s),r=sc(e,s),ce("invalid",e);break;default:r=s}ic(n,r),a=r;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?pm(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fm(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Xr(e,l):typeof l=="number"&&Xr(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Qr.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ce("scroll",e):l!=null&&pu(e,i,l,o))}switch(n){case"input":Di(e),Fd(e,s,!1);break;case"textarea":Di(e),Bd(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Dn(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Fs(e,!!s.multiple,i,!1):s.defaultValue!=null&&Fs(e,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Vo)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ie(t),null;case 6:if(e&&t.stateNode!=null)Ig(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(F(166));if(n=ts(ai.current),ts(Vt.current),Vi(t)){if(s=t.stateNode,n=t.memoizedProps,s[Ut]=t,(i=s.nodeValue!==n)&&(e=ot,e!==null))switch(e.tag){case 3:Hi(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hi(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Ut]=t,t.stateNode=s}return Ie(t),null;case 13:if(de(pe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&it!==null&&t.mode&1&&!(t.flags&128))tg(),Xs(),t.flags|=98560,i=!1;else if(i=Vi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(F(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[Ut]=t}else Xs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ie(t),i=!1}else Nt!==null&&(Bc(Nt),Nt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?Ae===0&&(Ae=3):Xu())),t.updateQueue!==null&&(t.flags|=4),Ie(t),null);case 4:return Js(),Pc(e,t),e===null&&si(t.stateNode.containerInfo),Ie(t),null;case 10:return Tu(t.type._context),Ie(t),null;case 17:return Ze(t.type)&&qo(),Ie(t),null;case 19:if(de(pe),i=t.memoizedState,i===null)return Ie(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)yr(i,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Zo(e),o!==null){for(t.flags|=128,yr(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return le(pe,pe.current&1|2),t.child}e=e.sibling}i.tail!==null&&ve()>er&&(t.flags|=128,s=!0,yr(i,!1),t.lanes=4194304)}else{if(!s)if(e=Zo(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!fe)return Ie(t),null}else 2*ve()-i.renderingStartTime>er&&n!==1073741824&&(t.flags|=128,s=!0,yr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ve(),t.sibling=null,n=pe.current,le(pe,s?n&1|2:n&1),t):(Ie(t),null);case 22:case 23:return Qu(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?rt&1073741824&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function S1(e,t){switch(Nu(t),t.tag){case 1:return Ze(t.type)&&qo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Js(),de(Je),de(Ue),Fu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Iu(t),null;case 13:if(de(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Xs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return de(pe),null;case 4:return Js(),null;case 10:return Tu(t.type._context),null;case 22:case 23:return Qu(),null;case 24:return null;default:return null}}var Ki=!1,ze=!1,_1=typeof WeakSet=="function"?WeakSet:Set,W=null;function Os(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ye(e,t,s)}else n.current=null}function Tc(e,t,n){try{n()}catch(s){ye(e,t,s)}}var Rf=!1;function j1(e,t){if(gc=Uo,e=Um(),Cu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var g;f!==n||r!==0&&f.nodeType!==3||(a=o+r),f!==i||s!==0&&f.nodeType!==3||(l=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===n&&++c===r&&(a=o),h===i&&++u===s&&(l=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xc={focusedElem:e,selectionRange:n},Uo=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,x=p.memoizedState,m=t.stateNode,w=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:Et(t.type,y),x);m.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(k){ye(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return p=Rf,Rf=!1,p}function Ur(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,i!==void 0&&Tc(t,n,i)}r=r.next}while(r!==s)}}function La(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Oc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Fg(e){var t=e.alternate;t!==null&&(e.alternate=null,Fg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ut],delete t[ii],delete t[wc],delete t[a1],delete t[l1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zg(e){return e.tag===5||e.tag===3||e.tag===4}function Mf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lc(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vo));else if(s!==4&&(e=e.child,e!==null))for(Lc(e,t,n),e=e.sibling;e!==null;)Lc(e,t,n),e=e.sibling}function Dc(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Dc(e,t,n),e=e.sibling;e!==null;)Dc(e,t,n),e=e.sibling}var Te=null,Ct=!1;function fn(e,t,n){for(n=n.child;n!==null;)Bg(e,t,n),n=n.sibling}function Bg(e,t,n){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Ca,n)}catch{}switch(n.tag){case 5:ze||Os(n,t);case 6:var s=Te,r=Ct;Te=null,fn(e,t,n),Te=s,Ct=r,Te!==null&&(Ct?(e=Te,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(Ct?(e=Te,n=n.stateNode,e.nodeType===8?xl(e.parentNode,n):e.nodeType===1&&xl(e,n),ei(e)):xl(Te,n.stateNode));break;case 4:s=Te,r=Ct,Te=n.stateNode.containerInfo,Ct=!0,fn(e,t,n),Te=s,Ct=r;break;case 0:case 11:case 14:case 15:if(!ze&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Tc(n,t,o),r=r.next}while(r!==s)}fn(e,t,n);break;case 1:if(!ze&&(Os(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){ye(n,t,a)}fn(e,t,n);break;case 21:fn(e,t,n);break;case 22:n.mode&1?(ze=(s=ze)||n.memoizedState!==null,fn(e,t,n),ze=s):fn(e,t,n);break;default:fn(e,t,n)}}function Pf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new _1),t.forEach(function(s){var r=O1.bind(null,e,s);n.has(s)||(n.add(s),s.then(r,r))})}}function jt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Te=a.stateNode,Ct=!1;break e;case 3:Te=a.stateNode.containerInfo,Ct=!0;break e;case 4:Te=a.stateNode.containerInfo,Ct=!0;break e}a=a.return}if(Te===null)throw Error(F(160));Bg(i,o,r),Te=null,Ct=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){ye(r,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$g(t,e),t=t.sibling}function $g(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jt(t,e),Lt(e),s&4){try{Ur(3,e,e.return),La(3,e)}catch(y){ye(e,e.return,y)}try{Ur(5,e,e.return)}catch(y){ye(e,e.return,y)}}break;case 1:jt(t,e),Lt(e),s&512&&n!==null&&Os(n,n.return);break;case 5:if(jt(t,e),Lt(e),s&512&&n!==null&&Os(n,n.return),e.flags&32){var r=e.stateNode;try{Xr(r,"")}catch(y){ye(e,e.return,y)}}if(s&4&&(r=e.stateNode,r!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&cm(r,i),oc(a,o);var c=oc(a,i);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?pm(r,f):u==="dangerouslySetInnerHTML"?fm(r,f):u==="children"?Xr(r,f):pu(r,u,f,c)}switch(a){case"input":tc(r,i);break;case"textarea":um(r,i);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Fs(r,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?Fs(r,!!i.multiple,i.defaultValue,!0):Fs(r,!!i.multiple,i.multiple?[]:"",!1))}r[ii]=i}catch(y){ye(e,e.return,y)}}break;case 6:if(jt(t,e),Lt(e),s&4){if(e.stateNode===null)throw Error(F(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(y){ye(e,e.return,y)}}break;case 3:if(jt(t,e),Lt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ei(t.containerInfo)}catch(y){ye(e,e.return,y)}break;case 4:jt(t,e),Lt(e);break;case 13:jt(t,e),Lt(e),r=e.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Yu=ve())),s&4&&Pf(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(ze=(c=ze)||u,jt(t,e),ze=c):jt(t,e),Lt(e),s&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(W=e,u=e.child;u!==null;){for(f=W=u;W!==null;){switch(h=W,g=h.child,h.tag){case 0:case 11:case 14:case 15:Ur(4,h,h.return);break;case 1:Os(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){s=h,n=h.return;try{t=s,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){ye(s,n,y)}}break;case 5:Os(h,h.return);break;case 22:if(h.memoizedState!==null){Of(f);continue}}g!==null?(g.return=h,W=g):Of(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{r=f.stateNode,c?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=hm("display",o))}catch(y){ye(e,e.return,y)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){ye(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:jt(t,e),Lt(e),s&4&&Pf(e);break;case 21:break;default:jt(t,e),Lt(e)}}function Lt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(zg(n)){var s=n;break e}n=n.return}throw Error(F(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Xr(r,""),s.flags&=-33);var i=Mf(e);Dc(e,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,a=Mf(e);Lc(e,a,o);break;default:throw Error(F(161))}}catch(l){ye(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function E1(e,t,n){W=e,Ug(e)}function Ug(e,t,n){for(var s=(e.mode&1)!==0;W!==null;){var r=W,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||Ki;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||ze;a=Ki;var c=ze;if(Ki=o,(ze=l)&&!c)for(W=r;W!==null;)o=W,l=o.child,o.tag===22&&o.memoizedState!==null?Lf(r):l!==null?(l.return=o,W=l):Lf(r);for(;i!==null;)W=i,Ug(i),i=i.sibling;W=r,Ki=a,ze=c}Tf(e)}else r.subtreeFlags&8772&&i!==null?(i.return=r,W=i):Tf(e)}}function Tf(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ze||La(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ze)if(n===null)s.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Et(t.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&xf(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xf(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&ei(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}ze||t.flags&512&&Oc(t)}catch(h){ye(t,t.return,h)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function Of(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function Lf(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{La(4,t)}catch(l){ye(t,n,l)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var r=t.return;try{s.componentDidMount()}catch(l){ye(t,r,l)}}var i=t.return;try{Oc(t)}catch(l){ye(t,i,l)}break;case 5:var o=t.return;try{Oc(t)}catch(l){ye(t,o,l)}}}catch(l){ye(t,t.return,l)}if(t===e){W=null;break}var a=t.sibling;if(a!==null){a.return=t.return,W=a;break}W=t.return}}var C1=Math.ceil,na=cn.ReactCurrentDispatcher,Vu=cn.ReactCurrentOwner,xt=cn.ReactCurrentBatchConfig,Z=0,Pe=null,Se=null,Oe=0,rt=0,Ls=$n(0),Ae=0,di=null,ds=0,Da=0,qu=0,Wr=null,Ke=null,Yu=0,er=1/0,Xt=null,sa=!1,Ic=null,Rn=null,Qi=!1,wn=null,ra=0,Hr=0,Fc=null,_o=-1,jo=0;function He(){return Z&6?ve():_o!==-1?_o:_o=ve()}function Mn(e){return e.mode&1?Z&2&&Oe!==0?Oe&-Oe:u1.transition!==null?(jo===0&&(jo=Em()),jo):(e=ie,e!==0||(e=window.event,e=e===void 0?16:Tm(e.type)),e):1}function Mt(e,t,n,s){if(50<Hr)throw Hr=0,Fc=null,Error(F(185));ki(e,n,s),(!(Z&2)||e!==Pe)&&(e===Pe&&(!(Z&2)&&(Da|=n),Ae===4&&xn(e,Oe)),et(e,s),n===1&&Z===0&&!(t.mode&1)&&(er=ve()+500,Pa&&Un()))}function et(e,t){var n=e.callbackNode;uv(e,t);var s=$o(e,e===Pe?Oe:0);if(s===0)n!==null&&Wd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Wd(n),t===1)e.tag===0?c1(Df.bind(null,e)):Jm(Df.bind(null,e)),i1(function(){!(Z&6)&&Un()}),n=null;else{switch(Cm(s)){case 1:n=vu;break;case 4:n=_m;break;case 16:n=Bo;break;case 536870912:n=jm;break;default:n=Bo}n=Xg(n,Wg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Wg(e,t){if(_o=-1,jo=0,Z&6)throw Error(F(327));var n=e.callbackNode;if(Ws()&&e.callbackNode!==n)return null;var s=$o(e,e===Pe?Oe:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=ia(e,s);else{t=s;var r=Z;Z|=2;var i=Vg();(Pe!==e||Oe!==t)&&(Xt=null,er=ve()+500,rs(e,t));do try{R1();break}catch(a){Hg(e,a)}while(!0);Pu(),na.current=i,Z=r,Se!==null?t=0:(Pe=null,Oe=0,t=Ae)}if(t!==0){if(t===2&&(r=dc(e),r!==0&&(s=r,t=zc(e,r))),t===1)throw n=di,rs(e,0),xn(e,s),et(e,ve()),n;if(t===6)xn(e,s);else{if(r=e.current.alternate,!(s&30)&&!A1(r)&&(t=ia(e,s),t===2&&(i=dc(e),i!==0&&(s=i,t=zc(e,i))),t===1))throw n=di,rs(e,0),xn(e,s),et(e,ve()),n;switch(e.finishedWork=r,e.finishedLanes=s,t){case 0:case 1:throw Error(F(345));case 2:Qn(e,Ke,Xt);break;case 3:if(xn(e,s),(s&130023424)===s&&(t=Yu+500-ve(),10<t)){if($o(e,0)!==0)break;if(r=e.suspendedLanes,(r&s)!==s){He(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=vc(Qn.bind(null,e,Ke,Xt),t);break}Qn(e,Ke,Xt);break;case 4:if(xn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,r=-1;0<s;){var o=31-Rt(s);i=1<<o,o=t[o],o>r&&(r=o),s&=~i}if(s=r,s=ve()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*C1(s/1960))-s,10<s){e.timeoutHandle=vc(Qn.bind(null,e,Ke,Xt),s);break}Qn(e,Ke,Xt);break;case 5:Qn(e,Ke,Xt);break;default:throw Error(F(329))}}}return et(e,ve()),e.callbackNode===n?Wg.bind(null,e):null}function zc(e,t){var n=Wr;return e.current.memoizedState.isDehydrated&&(rs(e,t).flags|=256),e=ia(e,t),e!==2&&(t=Ke,Ke=n,t!==null&&Bc(t)),e}function Bc(e){Ke===null?Ke=e:Ke.push.apply(Ke,e)}function A1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Pt(i(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xn(e,t){for(t&=~qu,t&=~Da,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Rt(t),s=1<<n;e[n]=-1,t&=~s}}function Df(e){if(Z&6)throw Error(F(327));Ws();var t=$o(e,0);if(!(t&1))return et(e,ve()),null;var n=ia(e,t);if(e.tag!==0&&n===2){var s=dc(e);s!==0&&(t=s,n=zc(e,s))}if(n===1)throw n=di,rs(e,0),xn(e,t),et(e,ve()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qn(e,Ke,Xt),et(e,ve()),null}function Ku(e,t){var n=Z;Z|=1;try{return e(t)}finally{Z=n,Z===0&&(er=ve()+500,Pa&&Un())}}function fs(e){wn!==null&&wn.tag===0&&!(Z&6)&&Ws();var t=Z;Z|=1;var n=xt.transition,s=ie;try{if(xt.transition=null,ie=1,e)return e()}finally{ie=s,xt.transition=n,Z=t,!(Z&6)&&Un()}}function Qu(){rt=Ls.current,de(Ls)}function rs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,r1(n)),Se!==null)for(n=Se.return;n!==null;){var s=n;switch(Nu(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&qo();break;case 3:Js(),de(Je),de(Ue),Fu();break;case 5:Iu(s);break;case 4:Js();break;case 13:de(pe);break;case 19:de(pe);break;case 10:Tu(s.type._context);break;case 22:case 23:Qu()}n=n.return}if(Pe=e,Se=e=Pn(e.current,null),Oe=rt=t,Ae=0,di=null,qu=Da=ds=0,Ke=Wr=null,es!==null){for(t=0;t<es.length;t++)if(n=es[t],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}n.pending=s}es=null}return e}function Hg(e,t){do{var n=Se;try{if(Pu(),bo.current=ta,ea){for(var s=me.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}ea=!1}if(us=0,Me=Ee=me=null,$r=!1,li=0,Vu.current=null,n===null||n.return===null){Ae=1,di=t,Se=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=Oe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Sf(o);if(g!==null){g.flags&=-257,_f(g,o,a,i,t),g.mode&1&&kf(i,c,t),t=g,l=c;var p=t.updateQueue;if(p===null){var y=new Set;y.add(l),t.updateQueue=y}else p.add(l);break e}else{if(!(t&1)){kf(i,c,t),Xu();break e}l=Error(F(426))}}else if(fe&&a.mode&1){var x=Sf(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),_f(x,o,a,i,t),Ru(Zs(l,a));break e}}i=l=Zs(l,a),Ae!==4&&(Ae=2),Wr===null?Wr=[i]:Wr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Cg(i,l,t);gf(i,m);break e;case 1:a=l;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Rn===null||!Rn.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=Ag(i,a,t);gf(i,k);break e}}i=i.return}while(i!==null)}Yg(n)}catch(S){t=S,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(!0)}function Vg(){var e=na.current;return na.current=ta,e===null?ta:e}function Xu(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Pe===null||!(ds&268435455)&&!(Da&268435455)||xn(Pe,Oe)}function ia(e,t){var n=Z;Z|=2;var s=Vg();(Pe!==e||Oe!==t)&&(Xt=null,rs(e,t));do try{N1();break}catch(r){Hg(e,r)}while(!0);if(Pu(),Z=n,na.current=s,Se!==null)throw Error(F(261));return Pe=null,Oe=0,Ae}function N1(){for(;Se!==null;)qg(Se)}function R1(){for(;Se!==null&&!tv();)qg(Se)}function qg(e){var t=Qg(e.alternate,e,rt);e.memoizedProps=e.pendingProps,t===null?Yg(e):Se=t,Vu.current=null}function Yg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=S1(n,t),n!==null){n.flags&=32767,Se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Se=null;return}}else if(n=k1(n,t,rt),n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Ae===0&&(Ae=5)}function Qn(e,t,n){var s=ie,r=xt.transition;try{xt.transition=null,ie=1,M1(e,t,n,s)}finally{xt.transition=r,ie=s}return null}function M1(e,t,n,s){do Ws();while(wn!==null);if(Z&6)throw Error(F(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(dv(e,i),e===Pe&&(Se=Pe=null,Oe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qi||(Qi=!0,Xg(Bo,function(){return Ws(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=xt.transition,xt.transition=null;var o=ie;ie=1;var a=Z;Z|=4,Vu.current=null,j1(e,n),$g(n,e),Gv(xc),Uo=!!gc,xc=gc=null,e.current=n,E1(n),nv(),Z=a,ie=o,xt.transition=i}else e.current=n;if(Qi&&(Qi=!1,wn=e,ra=r),i=e.pendingLanes,i===0&&(Rn=null),iv(n.stateNode),et(e,ve()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(sa)throw sa=!1,e=Ic,Ic=null,e;return ra&1&&e.tag!==0&&Ws(),i=e.pendingLanes,i&1?e===Fc?Hr++:(Hr=0,Fc=e):Hr=0,Un(),null}function Ws(){if(wn!==null){var e=Cm(ra),t=xt.transition,n=ie;try{if(xt.transition=null,ie=16>e?16:e,wn===null)var s=!1;else{if(e=wn,wn=null,ra=0,Z&6)throw Error(F(331));var r=Z;for(Z|=4,W=e.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(W=c;W!==null;){var u=W;switch(u.tag){case 0:case 11:case 15:Ur(8,u,i)}var f=u.child;if(f!==null)f.return=u,W=f;else for(;W!==null;){u=W;var h=u.sibling,g=u.return;if(Fg(u),u===c){W=null;break}if(h!==null){h.return=g,W=h;break}W=g}}}var p=i.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ur(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,W=m;break e}W=i.return}}var w=e.current;for(W=w;W!==null;){o=W;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,W=b;else e:for(o=w;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:La(9,a)}}catch(S){ye(a,a.return,S)}if(a===o){W=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,W=k;break e}W=a.return}}if(Z=r,Un(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Ca,e)}catch{}s=!0}return s}finally{ie=n,xt.transition=t}}return!1}function If(e,t,n){t=Zs(n,t),t=Cg(e,t,1),e=Nn(e,t,1),t=He(),e!==null&&(ki(e,1,t),et(e,t))}function ye(e,t,n){if(e.tag===3)If(e,e,n);else for(;t!==null;){if(t.tag===3){If(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Rn===null||!Rn.has(s))){e=Zs(n,e),e=Ag(t,e,1),t=Nn(t,e,1),e=He(),t!==null&&(ki(t,1,e),et(t,e));break}}t=t.return}}function P1(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=He(),e.pingedLanes|=e.suspendedLanes&n,Pe===e&&(Oe&n)===n&&(Ae===4||Ae===3&&(Oe&130023424)===Oe&&500>ve()-Yu?rs(e,0):qu|=n),et(e,t)}function Kg(e,t){t===0&&(e.mode&1?(t=zi,zi<<=1,!(zi&130023424)&&(zi=4194304)):t=1);var n=He();e=on(e,t),e!==null&&(ki(e,t,n),et(e,n))}function T1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Kg(e,n)}function O1(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(F(314))}s!==null&&s.delete(t),Kg(e,n)}var Qg;Qg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)Xe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xe=!1,b1(e,t,n);Xe=!!(e.flags&131072)}else Xe=!1,fe&&t.flags&1048576&&Zm(t,Qo,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;So(e,t),e=t.pendingProps;var r=Qs(t,Ue.current);Us(t,n),r=Bu(null,t,s,e,r,n);var i=$u();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(s)?(i=!0,Yo(t)):i=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Lu(t),r.updater=Oa,t.stateNode=r,r._reactInternals=t,Ec(t,s,e,n),t=Nc(null,t,s,!0,i,n)):(t.tag=0,fe&&i&&Au(t),We(null,t,r,n),t=t.child),t;case 16:s=t.elementType;e:{switch(So(e,t),e=t.pendingProps,r=s._init,s=r(s._payload),t.type=s,r=t.tag=D1(s),e=Et(s,e),r){case 0:t=Ac(null,t,s,e,n);break e;case 1:t=Cf(null,t,s,e,n);break e;case 11:t=jf(null,t,s,e,n);break e;case 14:t=Ef(null,t,s,Et(s.type,e),n);break e}throw Error(F(306,s,""))}return t;case 0:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Et(s,r),Ac(e,t,s,r,n);case 1:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Et(s,r),Cf(e,t,s,r,n);case 3:e:{if(Pg(t),e===null)throw Error(F(387));s=t.pendingProps,i=t.memoizedState,r=i.element,ig(e,t),Jo(t,s,null,n);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){r=Zs(Error(F(423)),t),t=Af(e,t,s,n,r);break e}else if(s!==r){r=Zs(Error(F(424)),t),t=Af(e,t,s,n,r);break e}else for(it=An(t.stateNode.containerInfo.firstChild),ot=t,fe=!0,Nt=null,n=sg(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xs(),s===r){t=an(e,t,n);break e}We(e,t,s,n)}t=t.child}return t;case 5:return og(t),e===null&&Sc(t),s=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,o=r.children,yc(s,r)?o=null:i!==null&&yc(s,i)&&(t.flags|=32),Mg(e,t),We(e,t,o,n),t.child;case 6:return e===null&&Sc(t),null;case 13:return Tg(e,t,n);case 4:return Du(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Gs(t,null,s,n):We(e,t,s,n),t.child;case 11:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Et(s,r),jf(e,t,s,r,n);case 7:return We(e,t,t.pendingProps,n),t.child;case 8:return We(e,t,t.pendingProps.children,n),t.child;case 12:return We(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,r=t.pendingProps,i=t.memoizedProps,o=r.value,le(Xo,s._currentValue),s._currentValue=o,i!==null)if(Pt(i.value,o)){if(i.children===r.children&&!Je.current){t=an(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(i.tag===1){l=nn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),_c(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(F(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),_c(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}We(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,s=t.pendingProps.children,Us(t,n),r=yt(r),s=s(r),t.flags|=1,We(e,t,s,n),t.child;case 14:return s=t.type,r=Et(s,t.pendingProps),r=Et(s.type,r),Ef(e,t,s,r,n);case 15:return Ng(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Et(s,r),So(e,t),t.tag=1,Ze(s)?(e=!0,Yo(t)):e=!1,Us(t,n),Eg(t,s,r),Ec(t,s,r,n),Nc(null,t,s,!0,e,n);case 19:return Og(e,t,n);case 22:return Rg(e,t,n)}throw Error(F(156,t.tag))};function Xg(e,t){return Sm(e,t)}function L1(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,n,s){return new L1(e,t,n,s)}function Gu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function D1(e){if(typeof e=="function")return Gu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gu)return 11;if(e===xu)return 14}return 2}function Pn(e,t){var n=e.alternate;return n===null?(n=mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Eo(e,t,n,s,r,i){var o=2;if(s=e,typeof e=="function")Gu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case js:return is(n.children,r,i,t);case mu:o=8,r|=8;break;case Xl:return e=mt(12,n,t,r|2),e.elementType=Xl,e.lanes=i,e;case Gl:return e=mt(13,n,t,r),e.elementType=Gl,e.lanes=i,e;case Jl:return e=mt(19,n,t,r),e.elementType=Jl,e.lanes=i,e;case om:return Ia(n,r,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rm:o=10;break e;case im:o=9;break e;case gu:o=11;break e;case xu:o=14;break e;case pn:o=16,s=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=mt(o,n,t,r),t.elementType=e,t.type=s,t.lanes=i,t}function is(e,t,n,s){return e=mt(7,e,s,t),e.lanes=n,e}function Ia(e,t,n,s){return e=mt(22,e,s,t),e.elementType=om,e.lanes=n,e.stateNode={isHidden:!1},e}function jl(e,t,n){return e=mt(6,e,null,t),e.lanes=n,e}function El(e,t,n){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function I1(e,t,n,s,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ol(0),this.expirationTimes=ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ol(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Ju(e,t,n,s,r,i,o,a,l){return e=new I1(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=mt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lu(i),e}function F1(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_s,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Gg(e){if(!e)return In;e=e._reactInternals;e:{if(ys(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(Ze(n))return Gm(e,n,t)}return t}function Jg(e,t,n,s,r,i,o,a,l){return e=Ju(n,s,!0,e,r,i,o,a,l),e.context=Gg(null),n=e.current,s=He(),r=Mn(n),i=nn(s,r),i.callback=t??null,Nn(n,i,r),e.current.lanes=r,ki(e,r,s),et(e,s),e}function Fa(e,t,n,s){var r=t.current,i=He(),o=Mn(r);return n=Gg(n),t.context===null?t.context=n:t.pendingContext=n,t=nn(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Nn(r,t,o),e!==null&&(Mt(e,r,o,i),wo(e,r,o)),o}function oa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ff(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zu(e,t){Ff(e,t),(e=e.alternate)&&Ff(e,t)}function z1(){return null}var Zg=typeof reportError=="function"?reportError:function(e){console.error(e)};function ed(e){this._internalRoot=e}za.prototype.render=ed.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Fa(e,t,null,null)};za.prototype.unmount=ed.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fs(function(){Fa(null,e,null,null)}),t[rn]=null}};function za(e){this._internalRoot=e}za.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gn.length&&t!==0&&t<gn[n].priority;n++);gn.splice(n,0,e),n===0&&Pm(e)}};function td(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ba(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zf(){}function B1(e,t,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var c=oa(o);i.call(c)}}var o=Jg(t,s,e,0,null,!1,!1,"",zf);return e._reactRootContainer=o,e[rn]=o.current,si(e.nodeType===8?e.parentNode:e),fs(),o}for(;r=e.lastChild;)e.removeChild(r);if(typeof s=="function"){var a=s;s=function(){var c=oa(l);a.call(c)}}var l=Ju(e,0,!1,null,null,!1,!1,"",zf);return e._reactRootContainer=l,e[rn]=l.current,si(e.nodeType===8?e.parentNode:e),fs(function(){Fa(t,l,n,s)}),l}function $a(e,t,n,s,r){var i=n._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var a=r;r=function(){var l=oa(o);a.call(l)}}Fa(t,o,e,r)}else o=B1(n,t,e,r,s);return oa(o)}Am=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ar(t.pendingLanes);n!==0&&(wu(t,n|1),et(t,ve()),!(Z&6)&&(er=ve()+500,Un()))}break;case 13:fs(function(){var s=on(e,1);if(s!==null){var r=He();Mt(s,e,1,r)}}),Zu(e,1)}};bu=function(e){if(e.tag===13){var t=on(e,134217728);if(t!==null){var n=He();Mt(t,e,134217728,n)}Zu(e,134217728)}};Nm=function(e){if(e.tag===13){var t=Mn(e),n=on(e,t);if(n!==null){var s=He();Mt(n,e,t,s)}Zu(e,t)}};Rm=function(){return ie};Mm=function(e,t){var n=ie;try{return ie=e,t()}finally{ie=n}};lc=function(e,t,n){switch(t){case"input":if(tc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=Ma(s);if(!r)throw Error(F(90));lm(s),tc(s,r)}}}break;case"textarea":um(e,n);break;case"select":t=n.value,t!=null&&Fs(e,!!n.multiple,t,!1)}};xm=Ku;ym=fs;var $1={usingClientEntryPoint:!1,Events:[_i,Ns,Ma,mm,gm,Ku]},vr={findFiberByHostInstance:Zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U1={bundleType:vr.bundleType,version:vr.version,rendererPackageName:vr.rendererPackageName,rendererConfig:vr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bm(e),e===null?null:e.stateNode},findFiberByHostInstance:vr.findFiberByHostInstance||z1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xi.isDisabled&&Xi.supportsFiber)try{Ca=Xi.inject(U1),Ht=Xi}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$1;lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!td(t))throw Error(F(200));return F1(e,t,null,n)};lt.createRoot=function(e,t){if(!td(e))throw Error(F(299));var n=!1,s="",r=Zg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Ju(e,1,!1,null,null,n,!1,s,r),e[rn]=t.current,si(e.nodeType===8?e.parentNode:e),new ed(t)};lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=bm(t),e=e===null?null:e.stateNode,e};lt.flushSync=function(e){return fs(e)};lt.hydrate=function(e,t,n){if(!Ba(t))throw Error(F(200));return $a(null,e,t,!0,n)};lt.hydrateRoot=function(e,t,n){if(!td(e))throw Error(F(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",o=Zg;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Jg(t,null,e,1,n??null,r,!1,i,o),e[rn]=t.current,si(e),s)for(e=0;e<s.length;e++)n=s[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new za(t)};lt.render=function(e,t,n){if(!Ba(t))throw Error(F(200));return $a(null,e,t,!1,n)};lt.unmountComponentAtNode=function(e){if(!Ba(e))throw Error(F(40));return e._reactRootContainer?(fs(function(){$a(null,null,e,!1,function(){e._reactRootContainer=null,e[rn]=null})}),!0):!1};lt.unstable_batchedUpdates=Ku;lt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Ba(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return $a(e,t,n,!1,s)};lt.version="18.3.1-next-f1338f8080-20240426";function e0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e0)}catch(e){console.error(e)}}e0(),em.exports=lt;var W1=em.exports,t0,Bf=W1;t0=Bf.createRoot,Bf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fi(){return fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fi.apply(this,arguments)}var bn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bn||(bn={}));const $f="popstate";function H1(e){e===void 0&&(e={});function t(s,r){let{pathname:i,search:o,hash:a}=s.location;return aa("",{pathname:i,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:hi(r)}return n0(t,n,null,e)}function V1(e){e===void 0&&(e={});function t(r,i){let{pathname:o="/",search:a="",hash:l=""}=vs(r.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),aa("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){let o=r.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=r.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:hi(i))}function s(r,i){nd(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return n0(t,n,s,e)}function be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function q1(){return Math.random().toString(36).substr(2,8)}function Uf(e,t){return{usr:e.state,key:e.key,idx:t}}function aa(e,t,n,s){return n===void 0&&(n=null),fi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?vs(t):t,{state:n,key:t&&t.key||s||q1()})}function hi(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function vs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function n0(e,t,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,o=r.history,a=bn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(fi({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){a=bn.Pop;let x=u(),m=x==null?null:x-c;c=x,l&&l({action:a,location:y.location,delta:m})}function h(x,m){a=bn.Push;let w=aa(y.location,x,m);n&&n(w,x),c=u()+1;let b=Uf(w,c),k=y.createHref(w);try{o.pushState(b,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;r.location.assign(k)}i&&l&&l({action:a,location:y.location,delta:1})}function g(x,m){a=bn.Replace;let w=aa(y.location,x,m);n&&n(w,x),c=u();let b=Uf(w,c),k=y.createHref(w);o.replaceState(b,"",k),i&&l&&l({action:a,location:y.location,delta:0})}function p(x){let m=r.location.origin!=="null"?r.location.origin:r.location.href,w=typeof x=="string"?x:hi(x);return w=w.replace(/ $/,"%20"),be(m,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,m)}let y={get action(){return a},get location(){return e(r,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener($f,f),l=x,()=>{r.removeEventListener($f,f),l=null}},createHref(x){return t(r,x)},createURL:p,encodeLocation(x){let m=p(x);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:g,go(x){return o.go(x)}};return y}var Wf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Wf||(Wf={}));function Y1(e,t,n){return n===void 0&&(n="/"),K1(e,t,n)}function K1(e,t,n,s){let r=typeof t=="string"?vs(t):t,i=sd(r.pathname||"/",n);if(i==null)return null;let o=s0(e);Q1(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=a2(i);a=r2(o[l],c)}return a}function s0(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(be(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let c=Tn([s,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(be(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),s0(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:n2(c,i.index),routesMeta:u})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))r(i,o);else for(let l of r0(i.path))r(i,o,l)}),t}function r0(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let o=r0(s.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),r&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Q1(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:s2(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const X1=/^:[\w-]+$/,G1=3,J1=2,Z1=1,e2=10,t2=-2,Hf=e=>e==="*";function n2(e,t){let n=e.split("/"),s=n.length;return n.some(Hf)&&(s+=t2),t&&(s+=J1),n.filter(r=>!Hf(r)).reduce((r,i)=>r+(X1.test(i)?G1:i===""?Z1:e2),s)}function s2(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function r2(e,t,n){let{routesMeta:s}=e,r={},i="/",o=[];for(let a=0;a<s.length;++a){let l=s[a],c=a===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=i2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f)return null;Object.assign(r,f.params),o.push({params:r,pathname:Tn([i,f.pathname]),pathnameBase:d2(Tn([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Tn([i,f.pathnameBase]))}return o}function i2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=o2(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:s.reduce((c,u,f)=>{let{paramName:h,isOptional:g}=u;if(h==="*"){let y=a[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const p=a[f];return g&&!p?c[h]=void 0:c[h]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function o2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),nd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(s.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function a2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return nd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function sd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function l2(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?vs(e):e;return{pathname:n?n.startsWith("/")?n:c2(n,t):t,search:f2(s),hash:h2(r)}}function c2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Cl(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function u2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function rd(e,t){let n=u2(e);return t?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function id(e,t,n,s){s===void 0&&(s=!1);let r;typeof e=="string"?r=vs(e):(r=fi({},e),be(!r.pathname||!r.pathname.includes("?"),Cl("?","pathname","search",r)),be(!r.pathname||!r.pathname.includes("#"),Cl("#","pathname","hash",r)),be(!r.search||!r.search.includes("#"),Cl("#","search","hash",r)));let i=e===""||r.pathname==="",o=i?"/":r.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!s&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;r.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=l2(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Tn=e=>e.join("/").replace(/\/\/+/g,"/"),d2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),f2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,h2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function p2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const i0=["post","put","patch","delete"];new Set(i0);const m2=["get",...i0];new Set(m2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},pi.apply(this,arguments)}const od=v.createContext(null),g2=v.createContext(null),Wn=v.createContext(null),Ua=v.createContext(null),un=v.createContext({outlet:null,matches:[],isDataRoute:!1}),o0=v.createContext(null);function x2(e,t){let{relative:n}=t===void 0?{}:t;or()||be(!1);let{basename:s,navigator:r}=v.useContext(Wn),{hash:i,pathname:o,search:a}=l0(e,{relative:n}),l=o;return s!=="/"&&(l=o==="/"?s:Tn([s,o])),r.createHref({pathname:l,search:a,hash:i})}function or(){return v.useContext(Ua)!=null}function qt(){return or()||be(!1),v.useContext(Ua).location}function a0(e){v.useContext(Wn).static||v.useLayoutEffect(e)}function kt(){let{isDataRoute:e}=v.useContext(un);return e?M2():y2()}function y2(){or()||be(!1);let e=v.useContext(od),{basename:t,future:n,navigator:s}=v.useContext(Wn),{matches:r}=v.useContext(un),{pathname:i}=qt(),o=JSON.stringify(rd(r,n.v7_relativeSplatPath)),a=v.useRef(!1);return a0(()=>{a.current=!0}),v.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){s.go(c);return}let f=id(c,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Tn([t,f.pathname])),(u.replace?s.replace:s.push)(f,u.state,u)},[t,s,o,i,e])}function v2(){let{matches:e}=v.useContext(un),t=e[e.length-1];return t?t.params:{}}function l0(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=v.useContext(Wn),{matches:r}=v.useContext(un),{pathname:i}=qt(),o=JSON.stringify(rd(r,s.v7_relativeSplatPath));return v.useMemo(()=>id(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function w2(e,t){return b2(e,t)}function b2(e,t,n,s){or()||be(!1);let{navigator:r}=v.useContext(Wn),{matches:i}=v.useContext(un),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=qt(),u;if(t){var f;let x=typeof t=="string"?vs(t):t;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||be(!1),u=x}else u=c;let h=u.pathname||"/",g=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let p=Y1(e,{pathname:g}),y=E2(p&&p.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Tn([l,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Tn([l,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,s);return t&&y?v.createElement(Ua.Provider,{value:{location:pi({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:bn.Pop}},y):y}function k2(){let e=R2(),t=p2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:r},n):null,null)}const S2=v.createElement(k2,null);class _2 extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(un.Provider,{value:this.props.routeContext},v.createElement(o0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function j2(e){let{routeContext:t,match:n,children:s}=e,r=v.useContext(od);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(un.Provider,{value:t},s)}function E2(e,t,n,s){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(r=n)==null?void 0:r.errors;if(a!=null){let u=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);u>=0||be(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:g}=n,p=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let g,p=!1,y=null,x=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||S2,l&&(c<0&&h===0?(P2("route-fallback"),p=!0,x=null):c===h&&(p=!0,x=f.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,h+1)),w=()=>{let b;return g?b=y:p?b=x:f.route.Component?b=v.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,v.createElement(j2,{match:f,routeContext:{outlet:u,matches:m,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?v.createElement(_2,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:w(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):w()},null)}var c0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(c0||{}),u0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(u0||{});function C2(e){let t=v.useContext(od);return t||be(!1),t}function A2(e){let t=v.useContext(g2);return t||be(!1),t}function N2(e){let t=v.useContext(un);return t||be(!1),t}function d0(e){let t=N2(),n=t.matches[t.matches.length-1];return n.route.id||be(!1),n.route.id}function R2(){var e;let t=v.useContext(o0),n=A2(),s=d0();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function M2(){let{router:e}=C2(c0.UseNavigateStable),t=d0(u0.UseNavigateStable),n=v.useRef(!1);return a0(()=>{n.current=!0}),v.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,pi({fromRouteId:t},i)))},[e,t])}const Vf={};function P2(e,t,n){Vf[e]||(Vf[e]=!0)}function f0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function yn(e){let{to:t,replace:n,state:s,relative:r}=e;or()||be(!1);let{future:i,static:o}=v.useContext(Wn),{matches:a}=v.useContext(un),{pathname:l}=qt(),c=kt(),u=id(t,rd(a,i.v7_relativeSplatPath),l,r==="path"),f=JSON.stringify(u);return v.useEffect(()=>c(JSON.parse(f),{replace:n,state:s,relative:r}),[c,f,r,n,s]),null}function ft(e){be(!1)}function h0(e){let{basename:t="/",children:n=null,location:s,navigationType:r=bn.Pop,navigator:i,static:o=!1,future:a}=e;or()&&be(!1);let l=t.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:i,static:o,future:pi({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof s=="string"&&(s=vs(s));let{pathname:u="/",search:f="",hash:h="",state:g=null,key:p="default"}=s,y=v.useMemo(()=>{let x=sd(u,l);return x==null?null:{location:{pathname:x,search:f,hash:h,state:g,key:p},navigationType:r}},[l,u,f,h,g,p,r]);return y==null?null:v.createElement(Wn.Provider,{value:c},v.createElement(Ua.Provider,{children:n,value:y}))}function T2(e){let{children:t,location:n}=e;return w2($c(t),n)}new Promise(()=>{});function $c(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(s,r)=>{if(!v.isValidElement(s))return;let i=[...t,r];if(s.type===v.Fragment){n.push.apply(n,$c(s.props.children,i));return}s.type!==ft&&be(!1),!s.props.index||!s.props.children||be(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=$c(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uc(){return Uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Uc.apply(this,arguments)}function O2(e,t){if(e==null)return{};var n={},s=Object.keys(e),r,i;for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function L2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function D2(e,t){return e.button===0&&(!t||t==="_self")&&!L2(e)}const I2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],F2="6";try{window.__reactRouterVersion=F2}catch{}const z2="startTransition",la=Py[z2];function B2(e){let{basename:t,children:n,future:s,window:r}=e,i=v.useRef();i.current==null&&(i.current=H1({window:r,v5Compat:!0}));let o=i.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=s||{},u=v.useCallback(f=>{c&&la?la(()=>l(f)):l(f)},[l,c]);return v.useLayoutEffect(()=>o.listen(u),[o,u]),v.useEffect(()=>f0(s),[s]),v.createElement(h0,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:s})}function $2(e){let{basename:t,children:n,future:s,window:r}=e,i=v.useRef();i.current==null&&(i.current=V1({window:r,v5Compat:!0}));let o=i.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=s||{},u=v.useCallback(f=>{c&&la?la(()=>l(f)):l(f)},[l,c]);return v.useLayoutEffect(()=>o.listen(u),[o,u]),v.useEffect(()=>f0(s),[s]),v.createElement(h0,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:s})}const U2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rr=v.forwardRef(function(t,n){let{onClick:s,relative:r,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f}=t,h=O2(t,I2),{basename:g}=v.useContext(Wn),p,y=!1;if(typeof c=="string"&&W2.test(c)&&(p=c,U2))try{let b=new URL(window.location.href),k=c.startsWith("//")?new URL(b.protocol+c):new URL(c),S=sd(k.pathname,g);k.origin===b.origin&&S!=null?c=S+k.search+k.hash:y=!0}catch{}let x=x2(c,{relative:r}),m=H2(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r,viewTransition:f});function w(b){s&&s(b),b.defaultPrevented||m(b)}return v.createElement("a",Uc({},h,{href:p||x,onClick:y||i?s:w,ref:n,target:l}))});var qf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qf||(qf={}));var Yf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Yf||(Yf={}));function H2(e,t){let{target:n,replace:s,state:r,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=kt(),c=qt(),u=l0(e,{relative:o});return v.useCallback(f=>{if(D2(f,n)){f.preventDefault();let h=s!==void 0?s:hi(c)===hi(u);l(e,{replace:h,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,u,s,r,n,e,i,o,a])}function V2({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Kf=v.forwardRef(V2);function q2({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Y2=v.forwardRef(q2);function K2({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 7.5h-.75A2.25 2.25 0 0 0 4.5 9.75v7.5a2.25 2.25 0 0 0 2.25 2.25h7.5a2.25 2.25 0 0 0 2.25-2.25v-7.5a2.25 2.25 0 0 0-2.25-2.25h-.75m0-3-3-3m0 0-3 3m3-3v11.25m6-2.25h.75a2.25 2.25 0 0 1 2.25 2.25v7.5a2.25 2.25 0 0 1-2.25 2.25h-7.5a2.25 2.25 0 0 1-2.25-2.25v-.75"}))}const Q2=v.forwardRef(K2);function X2({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"}))}const G2=v.forwardRef(X2);function J2({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Wc=v.forwardRef(J2);function Z2({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ew=v.forwardRef(Z2);function tw({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const nw=v.forwardRef(tw);function sw({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const rw=v.forwardRef(sw);function iw({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const ow=v.forwardRef(iw);function aw({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const lw=v.forwardRef(aw);function cw({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const uw=v.forwardRef(cw);function dw({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const fw=v.forwardRef(dw);function hw({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const p0=v.forwardRef(hw);function pw({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const mw=v.forwardRef(pw);function gw({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const xw=v.forwardRef(gw);function yw({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const vw=v.forwardRef(yw);function ww({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Co=v.forwardRef(ww);function bw({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m0-10.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.25-8.25-3.286Zm0 13.036h.008v.008H12v-.008Z"}))}const kw=v.forwardRef(bw);function Sw({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const _w=v.forwardRef(Sw);function jw({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Ew=v.forwardRef(jw);var m0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Qf=ne.createContext&&ne.createContext(m0),Cw=["attr","size","title"];function Aw(e,t){if(e==null)return{};var n=Nw(e,t),s,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)s=i[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Nw(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function ca(){return ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ca.apply(this,arguments)}function Xf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xf(Object(n),!0).forEach(function(s){Rw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xf(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Rw(e,t,n){return t=Mw(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mw(e){var t=Pw(e,"string");return typeof t=="symbol"?t:t+""}function Pw(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g0(e){return e&&e.map((t,n)=>ne.createElement(t.tag,ua({key:n},t.attr),g0(t.child)))}function Ei(e){return t=>ne.createElement(Tw,ca({attr:ua({},e.attr)},t),g0(e.child))}function Tw(e){var t=n=>{var{attr:s,size:r,title:i}=e,o=Aw(e,Cw),a=r||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),ne.createElement("svg",ca({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,o,{className:l,style:ua(ua({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&ne.createElement("title",null,i),e.children)};return Qf!==void 0?ne.createElement(Qf.Consumer,null,n=>t(n)):t(m0)}function Ow(e){return Ei({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(e)}function Lw(e){return Ei({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"},child:[]}]})(e)}function Dw(e){return Ei({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(e)}function Iw(e){return Ei({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function Fw(e){return Ei({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634.91 154.88C457.74-8.99 182.19-8.93 5.09 154.88c-6.66 6.16-6.79 16.59-.35 22.98l34.24 33.97c6.14 6.1 16.02 6.23 22.4.38 145.92-133.68 371.3-133.71 517.25 0 6.38 5.85 16.26 5.71 22.4-.38l34.24-33.97c6.43-6.39 6.3-16.82-.36-22.98zM320 352c-35.35 0-64 28.65-64 64s28.65 64 64 64 64-28.65 64-64-28.65-64-64-64zm202.67-83.59c-115.26-101.93-290.21-101.82-405.34 0-6.9 6.1-7.12 16.69-.57 23.15l34.44 33.99c6 5.92 15.66 6.32 22.05.8 83.95-72.57 209.74-72.41 293.49 0 6.39 5.52 16.05 5.13 22.05-.8l34.44-33.99c6.56-6.46 6.33-17.06-.56-23.15z"},child:[]}]})(e)}function zw(){const[e,t]=v.useState(navigator.onLine),[n,s]=v.useState(!1),[r,i]=v.useState([]);v.useEffect(()=>{const l=()=>{t(!0),o()},c=()=>{t(!1)};return window.addEventListener("online",l),window.addEventListener("offline",c),"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").then(u=>{console.log("Service Worker registered:",u)}).catch(u=>{console.error("Service Worker registration failed:",u)}),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",c)}},[]);const o=async()=>{if(navigator.onLine){s(!0);try{const l=await Gf();i(l),"serviceWorker"in navigator&&navigator.serviceWorker.controller&&(await navigator.serviceWorker.ready,await navigator.serviceWorker.sync.register("sync-data")),await Uw(),i([])}catch(l){console.error("Error syncing offline data:",l)}finally{s(!1)}}};return{isOnline:e,offlineSyncPending:n,pendingActions:r,saveOfflineAction:async l=>{try{await $w(l);const c=await Gf();i(c)}catch(c){console.error("Error saving offline action:",c)}},syncOfflineData:o}}const Bw="DevDashOfflineDB",Fn="pendingActions";async function ad(){return new Promise((e,t)=>{const n=indexedDB.open(Bw,1);n.onerror=()=>t(n.error),n.onsuccess=()=>e(n.result),n.onupgradeneeded=s=>{const r=s.target.result;r.objectStoreNames.contains(Fn)||r.createObjectStore(Fn,{keyPath:"id",autoIncrement:!0})}})}async function $w(e){const t=await ad();return new Promise((n,s)=>{const o=t.transaction(Fn,"readwrite").objectStore(Fn).add({...e,timestamp:new Date().toISOString()});o.onsuccess=()=>n(o.result),o.onerror=()=>s(o.error)})}async function Gf(){const e=await ad();return new Promise((t,n)=>{const i=e.transaction(Fn,"readonly").objectStore(Fn).getAll();i.onsuccess=()=>t(i.result),i.onerror=()=>n(i.error)})}async function Uw(){const e=await ad();return new Promise((t,n)=>{const i=e.transaction(Fn,"readwrite").objectStore(Fn).clear();i.onsuccess=()=>t(),i.onerror=()=>n(i.error)})}const Ww={"g d":"/","g p":"/projects","g s":"/security","g t":"/tasks","g a":"/activity","g m":"/me","n p":"/projects/new","n t":"/tasks/new","n b":"/projects/board/new",1:"view-kanban",2:"view-list",3:"view-calendar","?":"/shortcuts","/":"search",esc:"close","ctrl+s":"save","ctrl+z":"undo","ctrl+shift+z":"redo",r:"refresh",f:"filter",m:"menu"};function Hw(e={}){const t=kt(),n={...Ww,...e},s=v.useCallback(a=>{if(a.target.tagName==="INPUT"||a.target.tagName==="TEXTAREA"||a.target.isContentEditable)return;let l=[];a.ctrlKey&&l.push("ctrl"),a.altKey&&l.push("alt"),a.shiftKey&&l.push("shift"),a.metaKey&&l.push("meta"),l.push(a.key.toLowerCase());const c=l.join(" ");for(const[u,f]of Object.entries(n))if(u===c){a.preventDefault(),r(f);break}},[n,t]),r=v.useCallback(a=>{var l,c;if(typeof a=="string")if(a.startsWith("/"))t(a);else switch(a){case"search":(l=document.querySelector("#search-input"))==null||l.focus();break;case"close":(c=document.querySelector(".modal-close"))==null||c.click();break;default:typeof n[a]=="function"&&n[a]()}else typeof a=="function"&&a()},[t,n]);v.useEffect(()=>(document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}),[s]);const i=v.useCallback((a,l)=>{n[a]=l},[n]),o=v.useCallback(()=>({...n}),[n]);return{registerShortcut:i,getShortcuts:o}}const x0=v.createContext();function Vw({children:e}){const{isOnline:t,offlineSyncPending:n,pendingActions:s,saveOfflineAction:r,syncOfflineData:i}=zw(),{registerShortcut:o,getShortcuts:a}=Hw(),l={isOnline:t,offlineSyncPending:n,pendingActions:s,saveOfflineAction:r,syncOfflineData:i,registerShortcut:o,getShortcuts:a,isPWA:window.matchMedia("(display-mode: standalone)").matches,showConnectionStatus:!0};return d.jsxs(x0.Provider,{value:l,children:[e,l.showConnectionStatus&&d.jsxs("div",{className:`connection-status ${t?"online":"offline"}`,children:[t?"🟢 En ligne":"🔴 Hors ligne",n&&d.jsxs("div",{className:"sync-status",children:["Synchronisation en cours...",s.length>0&&`(${s.length} actions en attente)`]})]})]})}function ld(){const e=v.useContext(x0);if(!e)throw new Error("useApp must be used within an AppProvider");return e}function qw(e){return/^(\d{1,3}\.){3}\d{1,3}(:\d+)?$/.test(e)}function Yw(){const e=window.location.host;return qw(e)?`http://${e.split(":")[0]}:4000/api/events`:"/api/events"}function Kw({onProjectChange:e,onTaskChange:t,autoReconnect:n=!0,reconnectBaseDelay:s=2e3,maxDelay:r=6e4,maxReconnectAttempts:i=15}={}){const[o,a]=v.useState(!1),[l,c]=v.useState(null),[u,f]=v.useState(null),[h,g]=v.useState(0),p=v.useRef(null),y=v.useRef(null),x=v.useRef(null),m=v.useRef(0),w=Yw(),b=v.useCallback(()=>{p.current&&(p.current.close(),p.current=null),f(null);try{console.log(`Connexion aux événements SSE via: ${w}`);const k=new EventSource(w,{withCredentials:!0});p.current=k,k.onopen=()=>{x.current=Date.now(),a(!0),g(0)},k.onerror=S=>{if(a(!1),f("SSE error"),k.close(),p.current=null,n){const E=h+1;if(E>i){console.log(`[SSE] Arrêt des tentatives après ${i} échecs consécutifs`),f(`Connexion perdue après ${i} tentatives. Rafraîchissez la page.`);return}g(E);const j=E>3?Math.max(5e3,s):s,_=Math.min(r,j*Math.pow(2,E-1));console.log(`[SSE] Tentative de reconnexion #${E} dans ${Math.round(_/1e3)}s`),y.current=setTimeout(()=>{b()},_+Math.round(Math.random()*500))}},k.onmessage=S=>{var E,j;if(S.data)try{const _=JSON.parse(S.data);c(_),m.current++,_.type!=="ping"&&h>0&&g(0),(E=_.type)!=null&&E.startsWith("project.")&&e?e(_):(j=_.type)!=null&&j.startsWith("task.")&&t&&t(_)}catch(_){console.error("[SSE] Erreur parsing message:",_)}}}catch(k){f(k.message||"Failed to init SSE")}},[n,h,s,r,e,t]);return v.useEffect(()=>(b(),()=>{y.current&&clearTimeout(y.current),p.current&&p.current.close()}),[b]),{connected:o,lastEvent:l,error:u,reconnectAttempts:h,lastConnectedAt:x.current,eventsCount:m.current,resetConnection:b}}const Qw="modulepreload",Xw=function(e){return"/"+e},Jf={},cd=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=Xw(l),l in Jf)return;Jf[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Qw,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};var Fp,zp,Bp,$p;const Gw=((zp=(Fp=import.meta)==null?void 0:Fp.env)==null?void 0:zp.VITE_OFFLINE_SYNC)==="1"||(($p=(Bp=import.meta)==null?void 0:Bp.env)==null?void 0:$p.VITE_OFFLINE_SYNC)==="true",Hc={_shim:!0,projects:{bulkPut:async()=>{}},tasks:{bulkPut:async()=>{}},outbox:{add:async()=>{},orderBy:()=>({limit:()=>({toArray:async()=>[]})}),bulkDelete:async()=>{}},conflicts:{add:async()=>{}},meta:{put:async()=>{},get:async()=>null},version:()=>({stores:()=>{}})};let Xn=Hc,Gi=null;async function dn(){return Xn&&!Xn._shim?Xn:Gw?Gi||(Gi=cd(()=>import("./import-wrapper-prod-CJK5Fz-9.js"),[]).then(e=>{const t=e.default||e.Dexie||e,n=new t("DevDashOffline");return n.version(1).stores({projects:"id, version, updatedAt, status",tasks:"id, project, version, updatedAt, status",outbox:"++id, createdAt, entity, op, entityId, clientId",conflicts:"++id, entity, entityId, resolved, createdAt",meta:"key"}),Xn=n,n}).catch(e=>(console.warn("[offline] Initialisation Dexie échouée – fallback shim",e),Xn=Hc,Xn)),Gi):Hc}async function kn(){return dn()}function Wt(){return Xn}async function Ds(e){if(!Array.isArray(e))return;const t=await dn();t._shim||await t.tasks.bulkPut(e.map(n=>{var s,r;return{id:n._id||n.id,title:n.title,description:n.description,project:((s=n.project)==null?void 0:s._id)||n.project,assignee:((r=n.assignee)==null?void 0:r._id)||n.assignee,status:n.status,progress:n.progress,version:n.version??0,updatedAt:n.updatedAt||new Date().toISOString()}}))}async function y0(e,t){if(!e||!t)return;const n=await dn();if(!n._shim)try{await n.tasks.update(e,{...t,updatedAt:new Date().toISOString()})}catch{}}async function Hs(e){var s;const t=`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,n=await dn();if(n._shim)return t;if(await n.outbox.add({entity:e.entity,op:e.action,data:e.data||null,entityId:e.entityId||e.data&&(e.data.id||e.data._id)||null,version:e.version,clientId:t,createdAt:Date.now()}),"serviceWorker"in navigator)try{const r=await navigator.serviceWorker.ready;r.sync?await r.sync.register("devdash-outbox-sync"):(s=r.active)==null||s.postMessage({type:"OUTBOX_SYNC_REQUEST"})}catch{}return t}async function v0(e){const t=await dn();t._shim||await t.conflicts.add({entity:e.entity,entityId:e.entityId,clientId:e.clientId,reason:e.reason,serverVersion:e.serverVersion,clientVersion:e.clientVersion,serverData:e.serverData||null,clientData:e.clientData||null,originalData:e.originalData||null,resolved:!1,createdAt:Date.now()})}async function w0(e=25){const t=await dn();return t._shim?[]:t.outbox.orderBy("createdAt").limit(e).toArray()}async function b0(e){const t=await dn();t._shim||await t.outbox.bulkDelete(e)}async function Jn(e,t){const n=await dn();n._shim||await n.meta.put({key:e,value:t})}async function Vr(e){var n;const t=await dn();return t._shim?null:(n=await t.meta.get(e))==null?void 0:n.value}const k0=Object.freeze(Object.defineProperty({__proto__:null,cacheTasks:Ds,getDBSync:Wt,getMeta:Vr,getOutboxBatch:w0,initOfflineDB:kn,queueOperation:Hs,recordConflict:v0,removeOutboxItems:b0,setMeta:Jn,updateLocalTask:y0},Symbol.toStringTag,{value:"Module"}));function S0({enabled:e=!0,intervalMs:t=5e3}={}){const[n,s]=v.useState([]),[r,i]=v.useState(!0),[o,a]=v.useState(!1),l=v.useCallback(async()=>{if(!e)return;await kn();const y=Wt();if(y._shim){a(!0),s([]),i(!1);return}else o&&a(!1);try{const x=await y.conflicts.toArray();x.sort((m,w)=>m.resolved===w.resolved?w.createdAt-m.createdAt:m.resolved?1:-1),s(x)}catch(x){console.warn("[conflicts] load error",x.message)}finally{i(!1)}},[e]);v.useEffect(()=>{if(!e){i(!1);return}l();const y=setInterval(l,t);return()=>clearInterval(y)},[e,l,t]);const c=v.useCallback(async y=>{await kn();const x=Wt();if(!x._shim)try{await x.conflicts.update(y,{resolved:!0,resolvedAt:Date.now()}),s(m=>m.map(w=>w.id===y?{...w,resolved:!0,resolvedAt:Date.now()}:w))}catch(m){console.warn("[conflicts] markResolved error",m.message)}},[]),u=v.useCallback(async()=>{await kn();const y=Wt();if(!y._shim)try{const x=await y.conflicts.where("resolved").equals(!0).primaryKeys();x.length&&await y.conflicts.bulkDelete(x),s(m=>m.filter(w=>!w.resolved))}catch(x){console.warn("[conflicts] clearResolved error",x.message)}},[]),f=v.useCallback(async()=>{await kn();const y=Wt();if(!y._shim)try{const x=await y.conflicts.toCollection().primaryKeys();x.length&&await y.conflicts.bulkDelete(x),s([])}catch(x){console.warn("[conflicts] purgeAll error",x.message)}},[]),h=v.useCallback(async y=>{!y||!y.serverData||(await Hs({entity:y.entity,action:"upsert",data:y.serverData,entityId:y.entityId,version:y.serverVersion}),await c(y.id))},[c]),g=v.useCallback(async y=>{!y||!y.originalData||(await Hs({entity:y.entity,action:"upsert",data:y.originalData,entityId:y.entityId}),await c(y.id))},[c]),p=v.useCallback(async(y,x)=>{!y||!x||(await Hs({entity:y.entity,action:"upsert",data:x,entityId:y.entityId,version:y.serverVersion}),await c(y.id))},[c]);return{conflicts:n,loading:r,isShim:o,markResolved:c,clearResolved:u,purgeAll:f,applyServer:h,replayClient:g,manualMerge:p,refresh:l}}function Jw(e,t){try{const n=JSON.stringify(e||{},null,2).split(`
`),s=JSON.stringify(t||{},null,2).split(`
`),r=Math.max(n.length,s.length),i=[];for(let o=0;o<r;o++)i.push({left:n[o]||"",right:s[o]||"",changed:(n[o]||"")!==(s[o]||"")});return i}catch{return[]}}function Zw({title:e="Offline Conflicts",limit:t=50,compact:n=!1,autoHide:s=!1}){const{conflicts:r,loading:i,isShim:o,markResolved:a,clearResolved:l,purgeAll:c,applyServer:u,replayClient:f,manualMerge:h,refresh:g}=S0({enabled:!0}),[p,y]=v.useState(!1),[x,m]=v.useState(null),[w,b]=v.useState(""),k=v.useMemo(()=>r.filter(j=>p||!j.resolved).slice(0,t),[r,p,t]),S=r.some(j=>j.resolved),E=r.length>0;return s&&o&&!E&&!i?null:d.jsxs("div",{style:{border:"1px solid #444",padding:"0.75rem",borderRadius:8,background:"#1e1e1e",fontSize:n?"0.8rem":"0.9rem"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[d.jsxs("h3",{style:{margin:0,fontSize:"1rem"},children:[e," ",E?`(${k.length}${p?"":` / ${r.filter(j=>!j.resolved).length} unresolved`})`:""]}),d.jsxs("div",{style:{display:"flex",gap:6},children:[d.jsx("button",{onClick:g,title:"Refresh conflicts",disabled:o,children:"↻"}),E&&d.jsx("button",{onClick:()=>y(j=>!j),children:p?"Hide Resolved":"Show Resolved"}),d.jsx("button",{onClick:l,disabled:!S,children:"Clear Resolved"}),d.jsx("button",{onClick:c,disabled:!E,style:{color:E?"#ffb3b3":"#666"},children:"Purge All"})]})]}),o&&!E&&d.jsx("div",{style:{fontSize:"0.65rem",opacity:.6,marginBottom:6},children:"Offline sync inactif (mode simplifié) – ce panneau est caché automatiquement quand inutilisé."}),i&&d.jsx("div",{children:"Loading conflicts…"}),!i&&k.length===0&&d.jsx("div",{style:{opacity:.7},children:"No conflicts 🎉"}),!i&&k.length>0&&d.jsx("ul",{style:{listStyle:"none",margin:0,padding:0,display:"flex",flexDirection:"column",gap:10},children:k.map(j=>{const _=Jw(j.server,j.client),A=x===j.id;return d.jsxs("li",{style:{border:"1px solid #333",padding:"0.5rem",borderRadius:6,background:j.resolved?"#1b3320":"#2a1e1e"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",gap:8},children:[d.jsxs("div",{children:[d.jsx("strong",{children:j.entity})," ",d.jsx("code",{children:j.entityId||j.id})," – reason: ",d.jsx("em",{children:j.reason}),j.resolved&&d.jsx("span",{style:{marginLeft:8,color:"#8fd48f"},children:"RESOLVED"})]}),d.jsxs("div",{style:{display:"flex",gap:6},children:[!j.resolved&&!A&&d.jsxs(d.Fragment,{children:[j.serverData&&d.jsx("button",{onClick:()=>u(j),children:"Appliquer serveur"}),j.originalData&&d.jsx("button",{onClick:()=>f(j),children:"Rejouer client"}),d.jsx("button",{onClick:()=>{m(j.id),b(JSON.stringify({...j.serverData||{},...j.clientData||{}},null,2))},children:"Fusionner…"}),d.jsx("button",{onClick:()=>a(j.id),children:"Marquer résolu"})]}),A&&!j.resolved&&d.jsx("button",{onClick:()=>{m(null),b("")},children:"Annuler fusion"})]})]}),_.length>0&&!n&&!A&&d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:6,marginTop:8,maxHeight:200,overflow:"auto",fontFamily:"monospace",fontSize:"0.7rem",lineHeight:1.2},children:[d.jsxs("div",{style:{borderRight:"1px solid #444",paddingRight:4},children:[d.jsx("div",{style:{fontWeight:"bold",marginBottom:4},children:"Server"}),_.map((C,N)=>d.jsx("div",{style:{background:C.changed?"#3a2d2d":"transparent"},children:C.left},N))]}),d.jsxs("div",{children:[d.jsx("div",{style:{fontWeight:"bold",marginBottom:4},children:"Client"}),_.map((C,N)=>d.jsx("div",{style:{background:C.changed?"#2d3a31":"transparent"},children:C.right},N))]})]}),A&&!j.resolved&&d.jsxs("div",{style:{marginTop:8,display:"flex",flexDirection:"column",gap:6},children:[d.jsx("div",{style:{fontSize:"0.7rem",opacity:.8},children:"Éditez le JSON fusionné (doit être valide) :"}),d.jsx("textarea",{rows:8,style:{width:"100%",fontFamily:"monospace",fontSize:"0.7rem"},value:w,onChange:C=>b(C.target.value)}),d.jsxs("div",{style:{display:"flex",gap:8},children:[d.jsx("button",{onClick:()=>{try{const C=JSON.parse(w);h(j,C),m(null),b("")}catch(C){alert("JSON invalide: "+C.message)}},children:"Appliquer fusion"}),d.jsx("button",{onClick:()=>{m(null),b("")},children:"Annuler"})]})]}),d.jsxs("div",{style:{marginTop:4,opacity:.6,fontSize:"0.65rem"},children:["created ",new Date(j.createdAt).toLocaleTimeString()," ",j.serverVersion!=null&&j.clientVersion!=null&&`(server v${j.serverVersion} / client v${j.clientVersion})`]})]},j.id)})})]})}function Zf({children:e}){const t=qt(),n=kt(),{isOnline:s,registerShortcut:r}=ld(),[i,o]=v.useState(()=>localStorage.getItem("theme")==="dark"),{connected:a,reconnectAttempts:l}=Kw({onProjectChange:u=>{window.dispatchEvent(new CustomEvent("realtime:project",{detail:u}))},onTaskChange:u=>{window.dispatchEvent(new CustomEvent("realtime:task",{detail:u}))}}),c=u=>t.pathname===u;return v.useEffect(()=>{Object.entries({"g d":()=>n("/"),"g p":()=>n("/projects"),"g t":()=>n("/tasks"),"g s":()=>n("/security"),"?":()=>n("/shortcuts")}).forEach(([f,h])=>r(f,h))},[n,r]),v.useEffect(()=>{const u=document.documentElement;i?(u.classList.add("dark"),localStorage.setItem("theme","dark")):(u.classList.remove("dark"),localStorage.setItem("theme","light"))},[i]),d.jsxs("div",{className:"flex min-h-screen bg-slate-50 dark:bg-slate-900",children:[d.jsxs("nav",{className:"w-60 bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800 p-5 flex flex-col",children:[d.jsxs("div",{className:"mb-7 flex items-center justify-between",children:[d.jsx("h1",{className:"text-2xl font-semibold text-brand dark:text-white",children:"DevDash"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:s?"text-green-600":"text-rose-600",children:s?d.jsx(Fw,{}):d.jsx(Ow,{})}),d.jsx("div",{title:a?"Realtime actif":"Reconnect…",className:a?"w-2 h-2 rounded-full bg-emerald-500":"w-2 h-2 rounded-full bg-amber-500 animate-pulse"})]})]}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs(Rr,{to:"/",className:`px-3 py-2 rounded-md no-underline flex items-center gap-2 ${c("/")?"text-brand bg-sky-50 dark:bg-slate-800":"text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/60"}`,children:[d.jsx(mw,{className:"h-5 w-5"})," Dashboard"]}),d.jsxs(Rr,{to:"/projects",className:`px-3 py-2 rounded-md no-underline flex items-center gap-2 ${c("/projects")?"text-brand bg-sky-50 dark:bg-slate-800":"text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/60"}`,children:[d.jsx(p0,{className:"h-5 w-5"})," Projets"]}),d.jsx(Rr,{to:"/tasks",className:`px-3 py-2 rounded-md no-underline flex items-center gap-2 ${c("/tasks")?"text-brand bg-sky-50 dark:bg-slate-800":"text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/60"}`,children:"🗒️ Tâches"}),d.jsxs(Rr,{to:"/security",className:`px-3 py-2 rounded-md no-underline flex items-center gap-2 ${c("/security")?"text-brand bg-sky-50 dark:bg-slate-800":"text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/60"}`,children:[d.jsx(Co,{className:"h-5 w-5"})," Sécurité"]})]}),d.jsx("div",{className:"mt-8",children:d.jsxs("button",{onClick:()=>o(u=>!u),className:"w-full flex items-center justify-center gap-2 px-3 py-2 rounded-md border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-800",children:[i?d.jsx(_w,{className:"h-5 w-5"}):d.jsx(vw,{className:"h-5 w-5"})," ",i?"Mode clair":"Mode sombre"]})}),d.jsx("div",{className:"mt-2 text-[10px] text-slate-500 dark:text-slate-400 px-1",children:a?"Realtime OK":`Reco x${l}`}),d.jsx("div",{className:"mt-4",style:{flexGrow:1,overflowY:"auto"},children:d.jsx(Zw,{compact:!0,limit:25,title:"Conflits",autoHide:!0})})]}),d.jsx("main",{className:"flex-1 p-5 bg-slate-50 dark:bg-slate-900 overflow-y-auto text-slate-900 dark:text-slate-100",children:e})]})}function _0(e,t){return function(){return e.apply(t,arguments)}}const{toString:eb}=Object.prototype,{getPrototypeOf:ud}=Object,{iterator:Wa,toStringTag:j0}=Symbol,Ha=(e=>t=>{const n=eb.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Tt=e=>(e=e.toLowerCase(),t=>Ha(t)===e),Va=e=>t=>typeof t===e,{isArray:ar}=Array,mi=Va("undefined");function Ci(e){return e!==null&&!mi(e)&&e.constructor!==null&&!mi(e.constructor)&&tt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const E0=Tt("ArrayBuffer");function tb(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&E0(e.buffer),t}const nb=Va("string"),tt=Va("function"),C0=Va("number"),Ai=e=>e!==null&&typeof e=="object",sb=e=>e===!0||e===!1,Ao=e=>{if(Ha(e)!=="object")return!1;const t=ud(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(j0 in e)&&!(Wa in e)},rb=e=>{if(!Ai(e)||Ci(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ib=Tt("Date"),ob=Tt("File"),ab=Tt("Blob"),lb=Tt("FileList"),cb=e=>Ai(e)&&tt(e.pipe),ub=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||tt(e.append)&&((t=Ha(e))==="formdata"||t==="object"&&tt(e.toString)&&e.toString()==="[object FormData]"))},db=Tt("URLSearchParams"),[fb,hb,pb,mb]=["ReadableStream","Request","Response","Headers"].map(Tt),gb=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ni(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,r;if(typeof e!="object"&&(e=[e]),ar(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{if(Ci(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(s=0;s<o;s++)a=i[s],t.call(null,e[a],a,e)}}function A0(e,t){if(Ci(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,r;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const ns=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,N0=e=>!mi(e)&&e!==ns;function Vc(){const{caseless:e}=N0(this)&&this||{},t={},n=(s,r)=>{const i=e&&A0(t,r)||r;Ao(t[i])&&Ao(s)?t[i]=Vc(t[i],s):Ao(s)?t[i]=Vc({},s):ar(s)?t[i]=s.slice():t[i]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&Ni(arguments[s],n);return t}const xb=(e,t,n,{allOwnKeys:s}={})=>(Ni(t,(r,i)=>{n&&tt(r)?e[i]=_0(r,n):e[i]=r},{allOwnKeys:s}),e),yb=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),vb=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},wb=(e,t,n,s)=>{let r,i,o;const a={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)o=r[i],(!s||s(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&ud(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},bb=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},kb=e=>{if(!e)return null;if(ar(e))return e;let t=e.length;if(!C0(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Sb=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ud(Uint8Array)),_b=(e,t)=>{const s=(e&&e[Wa]).call(e);let r;for(;(r=s.next())&&!r.done;){const i=r.value;t.call(e,i[0],i[1])}},jb=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},Eb=Tt("HTMLFormElement"),Cb=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),eh=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Ab=Tt("RegExp"),R0=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Ni(n,(r,i)=>{let o;(o=t(r,i,e))!==!1&&(s[i]=o||r)}),Object.defineProperties(e,s)},Nb=e=>{R0(e,(t,n)=>{if(tt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(tt(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Rb=(e,t)=>{const n={},s=r=>{r.forEach(i=>{n[i]=!0})};return ar(e)?s(e):s(String(e).split(t)),n},Mb=()=>{},Pb=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Tb(e){return!!(e&&tt(e.append)&&e[j0]==="FormData"&&e[Wa])}const Ob=e=>{const t=new Array(10),n=(s,r)=>{if(Ai(s)){if(t.indexOf(s)>=0)return;if(Ci(s))return s;if(!("toJSON"in s)){t[r]=s;const i=ar(s)?[]:{};return Ni(s,(o,a)=>{const l=n(o,r+1);!mi(l)&&(i[a]=l)}),t[r]=void 0,i}}return s};return n(e,0)},Lb=Tt("AsyncFunction"),Db=e=>e&&(Ai(e)||tt(e))&&tt(e.then)&&tt(e.catch),M0=((e,t)=>e?setImmediate:t?((n,s)=>(ns.addEventListener("message",({source:r,data:i})=>{r===ns&&i===n&&s.length&&s.shift()()},!1),r=>{s.push(r),ns.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",tt(ns.postMessage)),Ib=typeof queueMicrotask<"u"?queueMicrotask.bind(ns):typeof process<"u"&&process.nextTick||M0,Fb=e=>e!=null&&tt(e[Wa]),M={isArray:ar,isArrayBuffer:E0,isBuffer:Ci,isFormData:ub,isArrayBufferView:tb,isString:nb,isNumber:C0,isBoolean:sb,isObject:Ai,isPlainObject:Ao,isEmptyObject:rb,isReadableStream:fb,isRequest:hb,isResponse:pb,isHeaders:mb,isUndefined:mi,isDate:ib,isFile:ob,isBlob:ab,isRegExp:Ab,isFunction:tt,isStream:cb,isURLSearchParams:db,isTypedArray:Sb,isFileList:lb,forEach:Ni,merge:Vc,extend:xb,trim:gb,stripBOM:yb,inherits:vb,toFlatObject:wb,kindOf:Ha,kindOfTest:Tt,endsWith:bb,toArray:kb,forEachEntry:_b,matchAll:jb,isHTMLForm:Eb,hasOwnProperty:eh,hasOwnProp:eh,reduceDescriptors:R0,freezeMethods:Nb,toObjectSet:Rb,toCamelCase:Cb,noop:Mb,toFiniteNumber:Pb,findKey:A0,global:ns,isContextDefined:N0,isSpecCompliantForm:Tb,toJSONObject:Ob,isAsyncFn:Lb,isThenable:Db,setImmediate:M0,asap:Ib,isIterable:Fb};function K(e,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}M.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const P0=K.prototype,T0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{T0[e]={value:e}});Object.defineProperties(K,T0);Object.defineProperty(P0,"isAxiosError",{value:!0});K.from=(e,t,n,s,r,i)=>{const o=Object.create(P0);return M.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),K.call(o,e.message,t,n,s,r),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const zb=null;function qc(e){return M.isPlainObject(e)||M.isArray(e)}function O0(e){return M.endsWith(e,"[]")?e.slice(0,-2):e}function th(e,t,n){return e?e.concat(t).map(function(r,i){return r=O0(r),!n&&i?"["+r+"]":r}).join(n?".":""):t}function Bb(e){return M.isArray(e)&&!e.some(qc)}const $b=M.toFlatObject(M,{},null,function(t){return/^is[A-Z]/.test(t)});function qa(e,t,n){if(!M.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=M.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!M.isUndefined(x[y])});const s=n.metaTokens,r=n.visitor||u,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(t);if(!M.isFunction(r))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(M.isDate(p))return p.toISOString();if(M.isBoolean(p))return p.toString();if(!l&&M.isBlob(p))throw new K("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(p)||M.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,y,x){let m=p;if(p&&!x&&typeof p=="object"){if(M.endsWith(y,"{}"))y=s?y:y.slice(0,-2),p=JSON.stringify(p);else if(M.isArray(p)&&Bb(p)||(M.isFileList(p)||M.endsWith(y,"[]"))&&(m=M.toArray(p)))return y=O0(y),m.forEach(function(b,k){!(M.isUndefined(b)||b===null)&&t.append(o===!0?th([y],k,i):o===null?y:y+"[]",c(b))}),!1}return qc(p)?!0:(t.append(th(x,y,i),c(p)),!1)}const f=[],h=Object.assign($b,{defaultVisitor:u,convertValue:c,isVisitable:qc});function g(p,y){if(!M.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(p),M.forEach(p,function(m,w){(!(M.isUndefined(m)||m===null)&&r.call(t,m,M.isString(w)?w.trim():w,y,h))===!0&&g(m,y?y.concat(w):[w])}),f.pop()}}if(!M.isObject(e))throw new TypeError("data must be an object");return g(e),t}function nh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function dd(e,t){this._pairs=[],e&&qa(e,this,t)}const L0=dd.prototype;L0.append=function(t,n){this._pairs.push([t,n])};L0.toString=function(t){const n=t?function(s){return t.call(this,s,nh)}:nh;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Ub(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function D0(e,t,n){if(!t)return e;const s=n&&n.encode||Ub;M.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(r?i=r(t,n):i=M.isURLSearchParams(t)?t.toString():new dd(t,n).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class sh{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){M.forEach(this.handlers,function(s){s!==null&&t(s)})}}const I0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wb=typeof URLSearchParams<"u"?URLSearchParams:dd,Hb=typeof FormData<"u"?FormData:null,Vb=typeof Blob<"u"?Blob:null,qb={isBrowser:!0,classes:{URLSearchParams:Wb,FormData:Hb,Blob:Vb},protocols:["http","https","file","blob","url","data"]},fd=typeof window<"u"&&typeof document<"u",Yc=typeof navigator=="object"&&navigator||void 0,Yb=fd&&(!Yc||["ReactNative","NativeScript","NS"].indexOf(Yc.product)<0),Kb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Qb=fd&&window.location.href||"http://localhost",Xb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fd,hasStandardBrowserEnv:Yb,hasStandardBrowserWebWorkerEnv:Kb,navigator:Yc,origin:Qb},Symbol.toStringTag,{value:"Module"})),Be={...Xb,...qb};function Gb(e,t){return qa(e,new Be.classes.URLSearchParams,{visitor:function(n,s,r,i){return Be.isNode&&M.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Jb(e){return M.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Zb(e){const t={},n=Object.keys(e);let s;const r=n.length;let i;for(s=0;s<r;s++)i=n[s],t[i]=e[i];return t}function F0(e){function t(n,s,r,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&M.isArray(r)?r.length:o,l?(M.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!a):((!r[o]||!M.isObject(r[o]))&&(r[o]=[]),t(n,s,r[o],i)&&M.isArray(r[o])&&(r[o]=Zb(r[o])),!a)}if(M.isFormData(e)&&M.isFunction(e.entries)){const n={};return M.forEachEntry(e,(s,r)=>{t(Jb(s),r,n,0)}),n}return null}function ek(e,t,n){if(M.isString(e))try{return(t||JSON.parse)(e),M.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Ri={transitional:I0,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,i=M.isObject(t);if(i&&M.isHTMLForm(t)&&(t=new FormData(t)),M.isFormData(t))return r?JSON.stringify(F0(t)):t;if(M.isArrayBuffer(t)||M.isBuffer(t)||M.isStream(t)||M.isFile(t)||M.isBlob(t)||M.isReadableStream(t))return t;if(M.isArrayBufferView(t))return t.buffer;if(M.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Gb(t,this.formSerializer).toString();if((a=M.isFileList(t))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return qa(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),ek(t)):t}],transformResponse:[function(t){const n=this.transitional||Ri.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(M.isResponse(t)||M.isReadableStream(t))return t;if(t&&M.isString(t)&&(s&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?K.from(a,K.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Be.classes.FormData,Blob:Be.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],e=>{Ri.headers[e]={}});const tk=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nk=e=>{const t={};let n,s,r;return e&&e.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!n||t[n]&&tk[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},rh=Symbol("internals");function wr(e){return e&&String(e).trim().toLowerCase()}function No(e){return e===!1||e==null?e:M.isArray(e)?e.map(No):String(e)}function sk(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const rk=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Al(e,t,n,s,r){if(M.isFunction(s))return s.call(this,t,n);if(r&&(t=n),!!M.isString(t)){if(M.isString(s))return t.indexOf(s)!==-1;if(M.isRegExp(s))return s.test(t)}}function ik(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function ok(e,t){const n=M.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(r,i,o){return this[s].call(this,t,r,i,o)},configurable:!0})})}let nt=class{constructor(t){t&&this.set(t)}set(t,n,s){const r=this;function i(a,l,c){const u=wr(l);if(!u)throw new Error("header name must be a non-empty string");const f=M.findKey(r,u);(!f||r[f]===void 0||c===!0||c===void 0&&r[f]!==!1)&&(r[f||l]=No(a))}const o=(a,l)=>M.forEach(a,(c,u)=>i(c,u,l));if(M.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(M.isString(t)&&(t=t.trim())&&!rk(t))o(nk(t),n);else if(M.isObject(t)&&M.isIterable(t)){let a={},l,c;for(const u of t){if(!M.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?M.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,n)}else t!=null&&i(n,t,s);return this}get(t,n){if(t=wr(t),t){const s=M.findKey(this,t);if(s){const r=this[s];if(!n)return r;if(n===!0)return sk(r);if(M.isFunction(n))return n.call(this,r,s);if(M.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=wr(t),t){const s=M.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||Al(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let r=!1;function i(o){if(o=wr(o),o){const a=M.findKey(s,o);a&&(!n||Al(s,s[a],a,n))&&(delete s[a],r=!0)}}return M.isArray(t)?t.forEach(i):i(t),r}clear(t){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const i=n[s];(!t||Al(this,this[i],i,t,!0))&&(delete this[i],r=!0)}return r}normalize(t){const n=this,s={};return M.forEach(this,(r,i)=>{const o=M.findKey(s,i);if(o){n[o]=No(r),delete n[i];return}const a=t?ik(i):String(i).trim();a!==i&&delete n[i],n[a]=No(r),s[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return M.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=t&&M.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[rh]=this[rh]={accessors:{}}).accessors,r=this.prototype;function i(o){const a=wr(o);s[a]||(ok(r,o),s[a]=!0)}return M.isArray(t)?t.forEach(i):i(t),this}};nt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(nt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});M.freezeMethods(nt);function Nl(e,t){const n=this||Ri,s=t||n,r=nt.from(s.headers);let i=s.data;return M.forEach(e,function(a){i=a.call(n,i,r.normalize(),t?t.status:void 0)}),r.normalize(),i}function z0(e){return!!(e&&e.__CANCEL__)}function lr(e,t,n){K.call(this,e??"canceled",K.ERR_CANCELED,t,n),this.name="CanceledError"}M.inherits(lr,K,{__CANCEL__:!0});function B0(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new K("Request failed with status code "+n.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function ak(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function lk(e,t){e=e||10;const n=new Array(e),s=new Array(e);let r=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=s[i];o||(o=c),n[r]=l,s[r]=c;let f=i,h=0;for(;f!==r;)h+=n[f++],f=f%e;if(r=(r+1)%e,r===i&&(i=(i+1)%e),c-o<t)return;const g=u&&c-u;return g?Math.round(h*1e3/g):void 0}}function ck(e,t){let n=0,s=1e3/t,r,i;const o=(c,u=Date.now())=>{n=u,r=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const u=Date.now(),f=u-n;f>=s?o(c,u):(r=c,i||(i=setTimeout(()=>{i=null,o(r)},s-f)))},()=>r&&o(r)]}const da=(e,t,n=3)=>{let s=0;const r=lk(50,250);return ck(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-s,c=r(l),u=o<=a;s=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(f)},n)},ih=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},oh=e=>(...t)=>M.asap(()=>e(...t)),uk=Be.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Be.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Be.origin),Be.navigator&&/(msie|trident)/i.test(Be.navigator.userAgent)):()=>!0,dk=Be.hasStandardBrowserEnv?{write(e,t,n,s,r,i){const o=[e+"="+encodeURIComponent(t)];M.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),M.isString(s)&&o.push("path="+s),M.isString(r)&&o.push("domain="+r),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function fk(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function hk(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function $0(e,t,n){let s=!fk(t);return e&&(s||n==!1)?hk(e,t):t}const ah=e=>e instanceof nt?{...e}:e;function hs(e,t){t=t||{};const n={};function s(c,u,f,h){return M.isPlainObject(c)&&M.isPlainObject(u)?M.merge.call({caseless:h},c,u):M.isPlainObject(u)?M.merge({},u):M.isArray(u)?u.slice():u}function r(c,u,f,h){if(M.isUndefined(u)){if(!M.isUndefined(c))return s(void 0,c,f,h)}else return s(c,u,f,h)}function i(c,u){if(!M.isUndefined(u))return s(void 0,u)}function o(c,u){if(M.isUndefined(u)){if(!M.isUndefined(c))return s(void 0,c)}else return s(void 0,u)}function a(c,u,f){if(f in t)return s(c,u);if(f in e)return s(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,f)=>r(ah(c),ah(u),f,!0)};return M.forEach(Object.keys({...e,...t}),function(u){const f=l[u]||r,h=f(e[u],t[u],u);M.isUndefined(h)&&f!==a||(n[u]=h)}),n}const U0=e=>{const t=hs({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:a}=t;t.headers=o=nt.from(o),t.url=D0($0(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(M.isFormData(n)){if(Be.hasStandardBrowserEnv||Be.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Be.hasStandardBrowserEnv&&(s&&M.isFunction(s)&&(s=s(t)),s||s!==!1&&uk(t.url))){const c=r&&i&&dk.read(i);c&&o.set(r,c)}return t},pk=typeof XMLHttpRequest<"u",mk=pk&&function(e){return new Promise(function(n,s){const r=U0(e);let i=r.data;const o=nt.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=r,u,f,h,g,p;function y(){g&&g(),p&&p(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let x=new XMLHttpRequest;x.open(r.method.toUpperCase(),r.url,!0),x.timeout=r.timeout;function m(){if(!x)return;const b=nt.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),S={data:!a||a==="text"||a==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:b,config:e,request:x};B0(function(j){n(j),y()},function(j){s(j),y()},S),x=null}"onloadend"in x?x.onloadend=m:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(m)},x.onabort=function(){x&&(s(new K("Request aborted",K.ECONNABORTED,e,x)),x=null)},x.onerror=function(){s(new K("Network Error",K.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let k=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const S=r.transitional||I0;r.timeoutErrorMessage&&(k=r.timeoutErrorMessage),s(new K(k,S.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,e,x)),x=null},i===void 0&&o.setContentType(null),"setRequestHeader"in x&&M.forEach(o.toJSON(),function(k,S){x.setRequestHeader(S,k)}),M.isUndefined(r.withCredentials)||(x.withCredentials=!!r.withCredentials),a&&a!=="json"&&(x.responseType=r.responseType),c&&([h,p]=da(c,!0),x.addEventListener("progress",h)),l&&x.upload&&([f,g]=da(l),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",g)),(r.cancelToken||r.signal)&&(u=b=>{x&&(s(!b||b.type?new lr(null,e,x):b),x.abort(),x=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const w=ak(r.url);if(w&&Be.protocols.indexOf(w)===-1){s(new K("Unsupported protocol "+w+":",K.ERR_BAD_REQUEST,e));return}x.send(i||null)})},gk=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,r;const i=function(c){if(!r){r=!0,a();const u=c instanceof Error?c:this.reason;s.abort(u instanceof K?u:new lr(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new K(`timeout ${t} of ms exceeded`,K.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:l}=s;return l.unsubscribe=()=>M.asap(a),l}},xk=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,r;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},yk=async function*(e,t){for await(const n of vk(e))yield*xk(n,t)},vk=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},lh=(e,t,n,s)=>{const r=yk(e,t);let i=0,o,a=l=>{o||(o=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await r.next();if(c){a(),l.close();return}let f=u.byteLength;if(n){let h=i+=f;n(h)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},Ya=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",W0=Ya&&typeof ReadableStream=="function",wk=Ya&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),H0=(e,...t)=>{try{return!!e(...t)}catch{return!1}},bk=W0&&H0(()=>{let e=!1;const t=new Request(Be.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),ch=64*1024,Kc=W0&&H0(()=>M.isReadableStream(new Response("").body)),fa={stream:Kc&&(e=>e.body)};Ya&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!fa[t]&&(fa[t]=M.isFunction(e[t])?n=>n[t]():(n,s)=>{throw new K(`Response type '${t}' is not supported`,K.ERR_NOT_SUPPORT,s)})})})(new Response);const kk=async e=>{if(e==null)return 0;if(M.isBlob(e))return e.size;if(M.isSpecCompliantForm(e))return(await new Request(Be.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(M.isArrayBufferView(e)||M.isArrayBuffer(e))return e.byteLength;if(M.isURLSearchParams(e)&&(e=e+""),M.isString(e))return(await wk(e)).byteLength},Sk=async(e,t)=>{const n=M.toFiniteNumber(e.getContentLength());return n??kk(t)},_k=Ya&&(async e=>{let{url:t,method:n,data:s,signal:r,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:h}=U0(e);c=c?(c+"").toLowerCase():"text";let g=gk([r,i&&i.toAbortSignal()],o),p;const y=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let x;try{if(l&&bk&&n!=="get"&&n!=="head"&&(x=await Sk(u,s))!==0){let S=new Request(t,{method:"POST",body:s,duplex:"half"}),E;if(M.isFormData(s)&&(E=S.headers.get("content-type"))&&u.setContentType(E),S.body){const[j,_]=ih(x,da(oh(l)));s=lh(S.body,ch,j,_)}}M.isString(f)||(f=f?"include":"omit");const m="credentials"in Request.prototype;p=new Request(t,{...h,signal:g,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:m?f:void 0});let w=await fetch(p,h);const b=Kc&&(c==="stream"||c==="response");if(Kc&&(a||b&&y)){const S={};["status","statusText","headers"].forEach(A=>{S[A]=w[A]});const E=M.toFiniteNumber(w.headers.get("content-length")),[j,_]=a&&ih(E,da(oh(a),!0))||[];w=new Response(lh(w.body,ch,j,()=>{_&&_(),y&&y()}),S)}c=c||"text";let k=await fa[M.findKey(fa,c)||"text"](w,e);return!b&&y&&y(),await new Promise((S,E)=>{B0(S,E,{data:k,headers:nt.from(w.headers),status:w.status,statusText:w.statusText,config:e,request:p})})}catch(m){throw y&&y(),m&&m.name==="TypeError"&&/Load failed|fetch/i.test(m.message)?Object.assign(new K("Network Error",K.ERR_NETWORK,e,p),{cause:m.cause||m}):K.from(m,m&&m.code,e,p)}}),Qc={http:zb,xhr:mk,fetch:_k};M.forEach(Qc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const uh=e=>`- ${e}`,jk=e=>M.isFunction(e)||e===null||e===!1,V0={getAdapter:e=>{e=M.isArray(e)?e:[e];const{length:t}=e;let n,s;const r={};for(let i=0;i<t;i++){n=e[i];let o;if(s=n,!jk(n)&&(s=Qc[(o=String(n)).toLowerCase()],s===void 0))throw new K(`Unknown adapter '${o}'`);if(s)break;r[o||"#"+i]=s}if(!s){const i=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(uh).join(`
`):" "+uh(i[0]):"as no adapter specified";throw new K("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:Qc};function Rl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new lr(null,e)}function dh(e){return Rl(e),e.headers=nt.from(e.headers),e.data=Nl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),V0.getAdapter(e.adapter||Ri.adapter)(e).then(function(s){return Rl(e),s.data=Nl.call(e,e.transformResponse,s),s.headers=nt.from(s.headers),s},function(s){return z0(s)||(Rl(e),s&&s.response&&(s.response.data=Nl.call(e,e.transformResponse,s.response),s.response.headers=nt.from(s.response.headers))),Promise.reject(s)})}const q0="1.11.0",Ka={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ka[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const fh={};Ka.transitional=function(t,n,s){function r(i,o){return"[Axios v"+q0+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,a)=>{if(t===!1)throw new K(r(o," has been removed"+(n?" in "+n:"")),K.ERR_DEPRECATED);return n&&!fh[o]&&(fh[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};Ka.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Ek(e,t,n){if(typeof e!="object")throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const i=s[r],o=t[i];if(o){const a=e[i],l=a===void 0||o(a,i,e);if(l!==!0)throw new K("option "+i+" must be "+l,K.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new K("Unknown option "+i,K.ERR_BAD_OPTION)}}const Ro={assertOptions:Ek,validators:Ka},Dt=Ro.validators;let os=class{constructor(t){this.defaults=t||{},this.interceptors={request:new sh,response:new sh}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=hs(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:i}=n;s!==void 0&&Ro.assertOptions(s,{silentJSONParsing:Dt.transitional(Dt.boolean),forcedJSONParsing:Dt.transitional(Dt.boolean),clarifyTimeoutError:Dt.transitional(Dt.boolean)},!1),r!=null&&(M.isFunction(r)?n.paramsSerializer={serialize:r}:Ro.assertOptions(r,{encode:Dt.function,serialize:Dt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ro.assertOptions(n,{baseUrl:Dt.spelling("baseURL"),withXsrfToken:Dt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&M.merge(i.common,i[n.method]);i&&M.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),n.headers=nt.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,f=0,h;if(!l){const p=[dh.bind(this),void 0];for(p.unshift(...a),p.push(...c),h=p.length,u=Promise.resolve(n);f<h;)u=u.then(p[f++],p[f++]);return u}h=a.length;let g=n;for(f=0;f<h;){const p=a[f++],y=a[f++];try{g=p(g)}catch(x){y.call(this,x);break}}try{u=dh.call(this,g)}catch(p){return Promise.reject(p)}for(f=0,h=c.length;f<h;)u=u.then(c[f++],c[f++]);return u}getUri(t){t=hs(this.defaults,t);const n=$0(t.baseURL,t.url,t.allowAbsoluteUrls);return D0(n,t.params,t.paramsSerializer)}};M.forEach(["delete","get","head","options"],function(t){os.prototype[t]=function(n,s){return this.request(hs(s||{},{method:t,url:n,data:(s||{}).data}))}});M.forEach(["post","put","patch"],function(t){function n(s){return function(i,o,a){return this.request(hs(a||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}os.prototype[t]=n(),os.prototype[t+"Form"]=n(!0)});let Ck=class Y0{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(a=>{s.subscribe(a),i=a}).then(r);return o.cancel=function(){s.unsubscribe(i)},o},t(function(i,o,a){s.reason||(s.reason=new lr(i,o,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Y0(function(r){t=r}),cancel:t}}};function Ak(e){return function(n){return e.apply(null,n)}}function Nk(e){return M.isObject(e)&&e.isAxiosError===!0}const Xc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xc).forEach(([e,t])=>{Xc[t]=e});function K0(e){const t=new os(e),n=_0(os.prototype.request,t);return M.extend(n,os.prototype,t,{allOwnKeys:!0}),M.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return K0(hs(e,r))},n}const ke=K0(Ri);ke.Axios=os;ke.CanceledError=lr;ke.CancelToken=Ck;ke.isCancel=z0;ke.VERSION=q0;ke.toFormData=qa;ke.AxiosError=K;ke.Cancel=ke.CanceledError;ke.all=function(t){return Promise.all(t)};ke.spread=Ak;ke.isAxiosError=Nk;ke.mergeConfig=hs;ke.AxiosHeaders=nt;ke.formToJSON=e=>F0(M.isHTMLForm(e)?new FormData(e):e);ke.getAdapter=V0.getAdapter;ke.HttpStatusCode=Xc;ke.default=ke;const{Axios:KE,AxiosError:QE,CanceledError:XE,isCancel:GE,CancelToken:JE,VERSION:ZE,all:e3,Cancel:t3,isAxiosError:n3,spread:s3,toFormData:r3,AxiosHeaders:i3,HttpStatusCode:o3,formToJSON:a3,getAdapter:l3,mergeConfig:c3}=ke,Ml={};function Rk(e){return/^(\d{1,3}\.){3}\d{1,3}(:\d+)?$/.test(e)}let tr=(Ml==null?void 0:Ml.VITE_API_URL)||"/api";const Q0=window.location.host,X0=Rk(Q0);if(X0){const e=Q0.split(":")[0];if(tr==="/api"){const t=`http://${e}:4000`;console.warn("[API Bootstrap] Mode IP détecté mais VITE_API_URL non défini. Hypothèse backend:",t),tr=t}}console.log("API URL configured as (final):",tr);function Mi(e){if(e.startsWith("/api/")){if(tr.endsWith("/api")){const t=e.replace(/^\/api/,"");return console.log(`Removing duplicate /api prefix: ${e} -> ${t}`),t}}else if(!tr.endsWith("/api")&&X0){const t=`/api${e}`;return console.log(`Adding /api prefix for IP mode: ${e} -> ${t}`),t}return e}const U=ke.create({baseURL:tr,withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}}),Mk=U.get,Pk=U.post,Tk=U.put,Ok=U.patch,Lk=U.delete;U.get=function(e,t){return Mk.call(this,Mi(e),t)};U.post=function(e,t,n){return Pk.call(this,Mi(e),t,n)};U.put=function(e,t,n){return Tk.call(this,Mi(e),t,n)};U.patch=function(e,t,n){return Ok.call(this,Mi(e),t,n)};U.delete=function(e,t){return Lk.call(this,Mi(e),t)};console.log("API client configured with baseURL:",U.defaults.baseURL);let hh=0,Pl=!1;const Dk=400,Ik=2e3,Mo=e=>{try{const t=Date.now();if(typeof window>"u"||!e||window.location.pathname===e||Pl||t-hh<Dk)return;Pl=!0,hh=t,window.location.replace(e),setTimeout(()=>{Pl=!1},Ik)}catch{try{window.location.href=e}catch{}}},ha=()=>{localStorage.removeItem("token"),localStorage.removeItem("tempToken"),localStorage.removeItem("user"),localStorage.removeItem("sessionId"),localStorage.removeItem("sessionExpiry")},Gc=(e,t,n,s)=>{localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("sessionId",n),localStorage.setItem("sessionExpiry",s)};U.interceptors.request.use(e=>{const t=localStorage.getItem("token"),n=localStorage.getItem("tempToken"),s=localStorage.getItem("sessionId"),i=(()=>{try{return new URL(e.url,"http://local").pathname||""}catch{return e.url||""}})().replace(/\/api\/api\//,"/api/"),o=i.includes("/auth/login")||i.includes("/auth/register")||i.includes("/auth/verify-2fa");console.log("📤 Request Config:",{url:e.url,method:e.method,hasToken:!!t,hasTempToken:!!n,hasSessionId:!!s}),o||(t?e.headers.Authorization=`Bearer ${t}`:n&&(e.headers.Authorization=`Bearer ${n}`),s&&t&&(e.headers["X-Session-Id"]=s));const a=localStorage.getItem("sessionExpiry");return!o&&t&&a&&new Date(a)<new Date?(console.log("❌ Session expired, redirecting to login"),ha(),window.location.pathname!=="/login"&&Mo("/login?expired=true"),Promise.reject(new Error("Session expired"))):e},e=>(console.error("Request error:",e),Promise.reject(e)));U.interceptors.response.use(e=>{var r,i,o,a;const t=((r=e==null?void 0:e.data)==null?void 0:r.data)??(e==null?void 0:e.data);console.log("📥 Réponse reçue:",{url:e.config.url,status:e.status,hasSessionData:!!(t!=null&&t.session)||!!(t!=null&&t.expiresAt)});const n=((i=t==null?void 0:t.session)==null?void 0:i.expiresAt)||(t==null?void 0:t.expiresAt);n&&(localStorage.setItem("sessionExpiry",n),console.log("⏰ Session expiry mise à jour:",n));const s=((o=e.headers)==null?void 0:o["x-session-id"])||((a=e.headers)==null?void 0:a["X-Session-Id"]);return s&&!localStorage.getItem("sessionId")&&(localStorage.setItem("sessionId",s),console.log("🆔 Session ID fixé depuis l’en-tête:",s)),e},async e=>{var s,r,i,o,a,l,c,u,f,h,g,p,y,x,m,w,b;if(console.error("❌ Erreur de réponse:",{url:(s=e.config)==null?void 0:s.url,status:(r=e.response)==null?void 0:r.status,message:(o=(i=e.response)==null?void 0:i.data)==null?void 0:o.message}),((a=e.response)==null?void 0:a.status)===409&&e.config)try{const{recordConflict:k,initOfflineDB:S,getDBSync:E}=await cd(async()=>{const{recordConflict:_,initOfflineDB:A,getDBSync:C}=await Promise.resolve().then(()=>k0);return{recordConflict:_,initOfflineDB:A,getDBSync:C}},void 0);if(await S(),!E()._shim){const _=((l=e.response.data)==null?void 0:l.server)||((c=e.response.data)==null?void 0:c.serverData),A=((u=e.response.data)==null?void 0:u.client)||((f=e.response.data)==null?void 0:f.clientData),C=((h=e.response.data)==null?void 0:h.reason)||((g=e.response.data)==null?void 0:g.message)||"version_mismatch",N=(()=>{const O=(e.config.url||"").toLowerCase();return O.includes("/tasks")?"task":O.includes("/projects")?"project":"unknown"})(),P=(()=>{const O=(e.config.url||"").match(/\/(projects|tasks)\/([^/?#]+)/i);return O?O[2]:void 0})(),T=((p=e.config.headers)==null?void 0:p["X-Entity-Version"])||void 0,R=((y=e.response.data)==null?void 0:y.serverVersion)||void 0;await k({entity:N,entityId:P,clientId:void 0,reason:C,serverVersion:R,clientVersion:T,serverData:_,clientData:A,originalData:A}),console.warn("[offline-conflict] Conflit enregistré (409)",{entity:N,entityId:P,reason:C})}}catch(k){console.warn("[offline-conflict] Enregistrement conflit échoué",k)}const t=e.config,n=!!localStorage.getItem("tempToken");if(((x=e.response)==null?void 0:x.status)===401&&!t._retry){if(((m=e.response.data)==null?void 0:m.message)==="Session expired or invalid")return console.log("🚫 Session expirée ou invalide"),ha(),window.location.pathname!=="/login"&&Mo("/login?expired=true"),Promise.reject(e);if((w=e.response.data)!=null&&w.requires2FA)return console.log("🔒 2FA requis"),window.location.pathname!=="/security"&&Mo("/security"),Promise.reject(e)}return((b=e.response)==null?void 0:b.status)===401&&(n||(ha(),window.location.pathname!=="/login"&&Mo("/login"))),Promise.reject(e)});const Fk=async e=>{var t,n,s,r,i,o,a,l,c,u,f,h,g;try{if(e.tempToken){console.log("🔐 Vérification code 2FA"),console.log("📤 Envoi vers:",U.defaults.baseURL+"/auth/verify-2fa");const p=await U.post("/auth/verify-2fa",{code:e.code,tempToken:e.tempToken});console.log("✅ Réponse 2FA:",p.data);const y=((t=p.data)==null?void 0:t.data)??p.data,{token:x,user:m,sessionId:w,expiresAt:b}=y||{};return Gc(x,m,w,b),{user:m}}else{console.log("🔑 Tentative de connexion:",{email:e.email}),console.log("📤 Envoi vers:",U.defaults.baseURL+"/auth/login");const p=await U.post("/auth/login",{email:e.email,password:e.password,rememberMe:!!e.rememberMe});console.log("✅ Réponse serveur:",p.data);const y=((n=p.data)==null?void 0:n.data)??p.data;if(y.requires2FA)return{requires2FA:!0,tempToken:y.tempToken,setupRequired:!!y.setupRequired};const{token:x,user:m,sessionId:w,expiresAt:b}=y;return Gc(x,m,w,b),{user:m}}}catch(p){if(console.error("❌ Erreur:",((s=p.response)==null?void 0:s.data)||p.message),console.error("Détails de l'erreur:"),console.error("- URL:",(r=p.config)==null?void 0:r.url),console.error("- Méthode:",(i=p.config)==null?void 0:i.method),console.error("- BaseURL:",U.defaults.baseURL),console.error("- Status:",(o=p.response)==null?void 0:o.status),console.error("- Headers:",(a=p.config)==null?void 0:a.headers),p.code==="ECONNABORTED"||p.code==="ERR_NETWORK"||!p.response)throw new Error(`Impossible de se connecter au serveur: ${U.defaults.baseURL}. Vérifiez que le serveur backend est en cours d'exécution.`);if(((c=(l=p.response)==null?void 0:l.data)==null?void 0:c.attemptsRemaining)!==void 0||(f=(u=p.response)==null?void 0:u.data)!=null&&f.lockedUntil){const y={attemptsRemaining:p.response.data.attemptsRemaining,lockedUntil:p.response.data.lockedUntil},x=new Error(((g=(h=p.response)==null?void 0:h.data)==null?void 0:g.message)||"Login failed");throw x.meta=y,x}throw p}},zk=async e=>(await U.post("/api/auth/password/forgot",{email:e})).data,Bk=async({token:e,password:t})=>(await U.post("/api/auth/password/reset",{token:e,password:t})).data,$k=async()=>{try{const e=localStorage.getItem("sessionId");e&&await U.delete(`/api/auth/sessions/${e}`)}catch(e){console.error("Logout error:",e)}finally{ha()}},G0=async(e,t)=>{var s,r;const n=localStorage.getItem("tempToken");try{console.log(`Vérification 2FA avec le code: ${e&&e.length>0?"****":"manquant"} et tempToken: ${n?"présent":"manquant"}`);const i=await U.post("/api/auth/verify-2fa",{code:e,tempToken:n});console.log("Réponse de vérification 2FA:",i.status);const o=((s=i.data)==null?void 0:s.data)??i.data;return o!=null&&o.token&&(o!=null&&o.user)&&(o!=null&&o.sessionId)&&(Gc(o.token,o.user,o.sessionId,o.expiresAt),localStorage.removeItem("tempToken")),o}catch(i){throw console.error("Erreur de vérification 2FA:",(r=i.response)==null?void 0:r.status,i.message),i}},Uk=async e=>{var t,n;try{console.log(`Vérification setup 2FA avec le code: ${e&&e.length>0?"****":"manquant"}`);const s=await U.post("/api/2fa/verify",{code:e});return console.log("Réponse de vérification setup 2FA:",s.status),s.data}catch(s){throw console.error("Erreur de vérification setup 2FA:",(t=s.response)==null?void 0:t.status,s.message),console.error("URL utilisée:",(n=s.config)==null?void 0:n.url),s}},J0=async()=>{var e;try{return(await U.post("/api/2fa/setup")).data}catch(t){if(((e=t.response)==null?void 0:e.status)===409)return{alreadyEnabled:!0};throw t}},Wk=async e=>(await U.post("/api/2fa/disable",{code:e})).data,Tl=async()=>{var n;const e=await U.get("/api/auth/sessions");return((n=e==null?void 0:e.data)==null?void 0:n.data)??(e==null?void 0:e.data)},Hk=async e=>{var n;const t=await U.delete(`/api/auth/sessions/${e}`);return((n=t==null?void 0:t.data)==null?void 0:n.data)??(t==null?void 0:t.data)},Vk=async()=>{var t;const e=await U.delete("/api/auth/sessions/others");return((t=e==null?void 0:e.data)==null?void 0:t.data)??(e==null?void 0:e.data)},Ol=async()=>{var t;const e=await U.get("/api/auth/audit-logs");return((t=e==null?void 0:e.data)==null?void 0:t.data)??(e==null?void 0:e.data)},ph=async()=>{var t;const e=await U.get("/api/2fa/status");return((t=e==null?void 0:e.data)==null?void 0:t.data)??(e==null?void 0:e.data)};async function qk(e){var n;const t=await U.post("/api/sync/batch",{operations:e});return((n=t==null?void 0:t.data)==null?void 0:n.data)??(t==null?void 0:t.data)}async function Z0({title:e,description:t,project:n,assignee:s}){var o;const r={title:e,description:t,project:n,assignee:s};if(navigator&&!navigator.onLine)try{const{queueOperation:a,cacheTasks:l}=await cd(async()=>{const{queueOperation:u,cacheTasks:f}=await Promise.resolve().then(()=>k0);return{queueOperation:u,cacheTasks:f}},void 0),c=`tmp-${Date.now()}-${Math.random().toString(36).slice(2,8)}`;return await a({entity:"task",action:"upsert",data:{...r,id:c},entityId:c}),await l([{_id:c,...r,status:"todo",progress:0,version:0,createdAt:new Date().toISOString()}]),{offline:!0,id:c}}catch(a){console.warn("Offline queue failed, falling back to direct create",a)}const i=await U.post("/api/tasks",r);return((o=i==null?void 0:i.data)==null?void 0:o.data)??(i==null?void 0:i.data)}async function Yk({since:e,projectId:t}={}){var i;const n=[];e&&n.push(`since=${encodeURIComponent(e)}`),t&&n.push(`projectId=${encodeURIComponent(t)}`);const s=n.length?`?${n.join("&")}`:"",r=await U.get(`/api/tasks${s}`);return((i=r==null?void 0:r.data)==null?void 0:i.data)??(r==null?void 0:r.data)}async function ex(e,t){var s;const n=await U.patch(`/api/tasks/${e}`,t);return((s=n==null?void 0:n.data)==null?void 0:s.data)??(n==null?void 0:n.data)}function tx({enabled:e=!0,intervalMs:t=8e3,maxIntervalMs:n=5*6e4}={}){const[s,r]=v.useState(!1),[i,o]=v.useState(null),[a,l]=v.useState([]),[c,u]=v.useState(0),[f,h]=v.useState(null),[g,p]=v.useState(0),y=v.useRef(null),x=v.useRef(null),m=v.useCallback(S=>{if(S<=0)return 0;const E=4e3*Math.pow(2,S-1),j=Math.min(E,n),_=Math.round(j*(.15*Math.random()));return j+_},[n]),w=v.useCallback(async S=>{const E=m(S),j=Date.now()+E;p(E),h(new Date(j).toISOString()),await Jn("syncFailureCount",S),await Jn("syncNextAttemptAt",j)},[m]),b=v.useCallback(async()=>{u(0),p(0),h(null),await Jn("syncFailureCount",0),await Jn("syncNextAttemptAt",null)},[]),k=v.useCallback(async()=>{var S,E;if(e&&navigator.onLine&&!s){if(c>0&&f){const j=new Date(f).getTime();if(Date.now()<j)return}r(!0);try{const j=await w0(50);if(!j.length){await b(),r(!1);return}const _=j.map(N=>({entity:N.entity,op:N.op,data:N.data,id:N.entityId,version:N.version,clientId:N.clientId})),A=await qk(_),C=[];if(A!=null&&A.applied){const N=Wt();for(const P of A.applied){const T=j.find(R=>R.clientId===P.clientId);if(T&&C.push(T.id),N&&!N._shim){if(P.entity==="project")try{await N.projects.update(P.id,{version:P.version})}catch{}else if(P.entity==="task")try{await N.tasks.update(P.id,{version:P.version})}catch{}}}}if(A!=null&&A.conflicts){const N=[];for(const P of A.conflicts){const T=j.find(R=>R.clientId===P.clientId);T&&C.push(T.id),await v0({entity:P.entity,entityId:P.id,clientId:P.clientId,reason:P.reason,serverVersion:(S=P.server)==null?void 0:S.version,clientVersion:(E=P.client)==null?void 0:E.version,serverData:P.server||null,clientData:P.client||null,originalData:(T==null?void 0:T.data)||null}),N.push(P)}N.length&&l(P=>[...P,...N])}C.length&&await b0(C),o(new Date().toISOString()),await Jn("lastSync",new Date().toISOString()),await b()}catch(j){console.warn("[offline-sync] flush error",j.message);const _=c+1;u(_),await w(_)}finally{r(!1)}}},[e,s,c,f,b,w]);return v.useEffect(()=>{if(e)return y.current&&clearInterval(y.current),y.current=setInterval(()=>{k()},t),()=>y.current&&clearInterval(y.current)},[e,t,k]),v.useEffect(()=>{if(e)return x.current&&clearInterval(x.current),x.current=setInterval(()=>{if(c>0&&f){const S=new Date(f).getTime();Date.now()>=S&&navigator.onLine&&k()}},1e3),()=>x.current&&clearInterval(x.current)},[e,c,f,k]),v.useEffect(()=>{if(!e)return;const S=()=>setTimeout(()=>k(),300);return window.addEventListener("online",S),()=>window.removeEventListener("online",S)},[e,k]),v.useEffect(()=>{if(!e)return;const S=E=>{var j;((j=E.data)==null?void 0:j.type)==="OFFLINE_OUTBOX_FLUSH"&&k()};return navigator!=null&&navigator.serviceWorker&&navigator.serviceWorker.addEventListener("message",S),()=>{var E;return(E=navigator==null?void 0:navigator.serviceWorker)==null?void 0:E.removeEventListener("message",S)}},[e,k]),v.useEffect(()=>{(async()=>{const S=await Vr("lastSync");S&&o(S);const E=await Vr("syncFailureCount");typeof E=="number"&&E>0&&u(E);const j=await Vr("syncNextAttemptAt");if(j){const _=new Date(j).toISOString();h(_);const A=new Date(j).getTime()-Date.now();A>0&&p(A)}})()},[]),{flush:k,syncing:s,lastSync:i,conflicts:a,failureCount:c,nextAttemptAt:f,backoffMs:g}}function Kk({enabled:e=!0,projectId:t}={}){const[n,s]=v.useState([]),[r,i]=v.useState(!0),[o,a]=v.useState(!1),[l,c]=v.useState(null),[u,f]=v.useState(null),[h,g]=v.useState(!1),p=v.useCallback(()=>{if(!e)return;g(!0);const b="__tasks_delta_timer";window[b]&&clearTimeout(window[b]),window[b]=setTimeout(()=>{x()},600)},[e]),y=v.useCallback(async()=>{if(!e){i(!1);return}await kn();const b=Wt();if(b._shim){i(!1);return}try{let k=b.tasks;if(t){const S=await k.where("project").equals(t).toArray();s(S)}else{const S=await k.toArray();s(S)}}catch(k){c(k.message)}finally{i(!1)}},[e,t]),x=v.useCallback(async()=>{if(e){a(!0);try{const b=await Vr(t?`lastTasksSync:${t}`:"lastTasksSyncAll"),k=await Yk({since:b,projectId:t});if(Array.isArray(k)&&k.length){await Ds(k),await kn();const E=Wt();let j;t?j=await E.tasks.where("project").equals(t).toArray():j=await E.tasks.toArray(),s(j)}const S=new Date().toISOString();await Jn(t?`lastTasksSync:${t}`:"lastTasksSyncAll",S),f(S),g(!1)}catch(b){c(b.message)}finally{a(!1)}}},[e,t]);v.useEffect(()=>{y().then(x)},[y,x]),v.useEffect(()=>{if(!e)return;const b=k=>{const S=k.detail;S&&(S.type==="task.updated"||S.type==="task.created"||S.type==="task.deleted")&&(!t||S.project===t)&&p()};return window.addEventListener("realtime:task",b),()=>window.removeEventListener("realtime:task",b)},[e,t,p]);const m=v.useCallback(async({title:b,description:k})=>{const S=`tmp-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,E={id:S,title:b,description:k,project:t,status:"todo",progress:0,version:0,updatedAt:new Date().toISOString()};s(j=>[E,...j]);try{if(!navigator.onLine)return await Hs({entity:"task",action:"upsert",data:{...E},entityId:S}),await Ds([E]),{offline:!0,id:S};const j=await Z0({title:b,description:k,project:t});return s(_=>_.map(A=>A.id===S?{...A,id:j._id||j.id,_id:j._id||j.id,...j}:A)),await Ds([j]),j}catch(j){throw s(_=>_.filter(A=>A.id!==S)),j}},[t]),w=v.useCallback(async(b,k)=>{s(E=>E.map(j=>j.id===b?{...j,...k,updatedAt:new Date().toISOString()}:j));let S;try{const E=Wt();if(E&&!E._shim){const j=await E.tasks.get(b);S=j==null?void 0:j.version}}catch{}try{if(!navigator.onLine)return await Hs({entity:"task",action:"patch",data:{...k},entityId:b,version:S}),await y0(b,k),{offline:!0};const E=await ex(b,k).catch(()=>null);if(E&&(E._id||E.id)){const j={id:E._id||E.id,version:E.version,updatedAt:E.updatedAt};s(_=>_.map(A=>A.id===b?{...A,...k,...j}:A)),await Ds([E])}return{ok:!0}}catch(E){c(E.message)}},[]);return{tasks:n,loading:r,deltaLoading:o,stale:h,error:l,refresh:x,lastDelta:u,createInline:m,updateInline:w}}const mh=!1;function Qk({projectId:e}){const{tasks:t,loading:n,deltaLoading:s,stale:r,error:i,refresh:o,lastDelta:a,createInline:l,updateInline:c}=Kk({projectId:e}),{outboxPending:u}=tx(),{conflicts:f}=S0(),[h,g]=v.useState(""),[p,y]=v.useState(""),[x,m]=v.useState(null),[w,b]=v.useState(null),[k,S]=v.useState(""),[E,j]=v.useState(""),[_,A]=v.useState(null),[C,N]=v.useState(!1),[P,T]=v.useState(!1),[R,O]=v.useState(""),I=10*60*1e3,[$,L]=v.useState(null),[D,z]=v.useState(!1),B=new Set(f.filter(H=>H.collection==="tasks").map(H=>H.docId)),q=a?new Date(a):null,Q=q?"Dernière synchro: "+q.toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"";v.useEffect(()=>{if(!a){O("");return}const H=()=>{const St=Date.now()-new Date(a).getTime();if(St>I&&navigator.onLine&&!s&&$!==a&&(L(a),z(!0),setTimeout(()=>z(!1),5e3),setTimeout(()=>{try{o()}catch{}},150)),St<4e3){O("à l'instant");return}const Ot=Math.floor(St/1e3);if(Ot<60){O("il y a "+Ot+"s");return}const _t=Math.floor(Ot/60);if(Ot<120){const st=Ot%60;O("il y a "+_t+"m "+(st<10?"0"+st:st)+"s");return}if(_t<60){O("il y a "+_t+"m");return}const ut=Math.floor(_t/60);if(ut<24){O("il y a "+ut+"h");return}const V=Math.floor(ut/24);O("il y a "+V+"j")};H();const Re=setInterval(H,5e3);return()=>clearInterval(Re)},[a,s,o,$]),v.useEffect(()=>{$&&a&&$!==a&&L(null)},[a]);const se={animation:"pulseFade 1.4s ease-in-out infinite"};if(typeof document<"u"&&!document.getElementById("autoRefreshBadgeKeyframes")){const H=document.createElement("style");H.id="autoRefreshBadgeKeyframes",H.innerHTML="@keyframes autoBadgeIn {0%{opacity:0;transform:translateY(-4px)}100%{opacity:1;transform:translateY(0)}}@keyframes autoBadgeOut {0%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(-4px)}}",document.head.appendChild(H)}if(typeof document<"u"&&!document.getElementById("pulseFadeKeyframes")){const H=document.createElement("style");H.id="pulseFadeKeyframes",H.innerHTML="@keyframes pulseFade { 0%{opacity:1} 50%{opacity:.35} 100%{opacity:1} }",document.head.appendChild(H)}if(n)return d.jsx("div",{children:"Chargement des tâches locales…"});if(i)return d.jsxs("div",{className:"error",children:["Erreur: ",i]});async function he(H){if(H.preventDefault(),!!h.trim()){N(!0);try{await l({title:h.trim(),description:p.trim(),status:x==null?void 0:x.suggestedStatus,estimatedMinutes:x==null?void 0:x.estimatedMinutes}),g(""),y(""),m(null)}finally{N(!1)}}}function te(H){b(H.id||H._id),S(H.title||""),j(H.description||""),A(null)}async function je(H){const Re={title:k,description:E,status:_==null?void 0:_.suggestedStatus,estimatedMinutes:_==null?void 0:_.estimatedMinutes};if(Object.keys(Re).forEach(St=>Re[St]===void 0&&delete Re[St]),await c(H,Re),navigator.onLine&&!String(H).startsWith("tmp-"))try{await ex(H,Re)}catch{}b(null)}return d.jsxs("div",{className:"task-list-offline",children:[d.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:12},children:[d.jsx("h2",{style:{margin:0},children:"Tâches"}),s&&d.jsx("span",{style:{fontSize:12,color:"#888"},children:"Maj…"}),D&&!s&&d.jsx("span",{style:{fontSize:11,background:"#2563eb",color:"#fff",padding:"2px 6px",borderRadius:4,animation:"autoBadgeIn 220ms ease-out, autoBadgeOut 400ms ease-in 4.4s forwards"},title:"Rafraîchissement automatique déclenché (inactivité > 10 min)",children:"Auto-refresh"}),r&&!s&&d.jsx("span",{style:{fontSize:11,background:"#f59e0b",color:"#fff",padding:"2px 6px",borderRadius:4,display:"inline-flex",alignItems:"center",gap:4,...se},title:(Q?Q+`
`:"")+"Données potentiellement périmées; un événement serveur a signalé des changements.",children:"Stale"}),a&&!s&&d.jsxs("span",{style:{fontSize:11,color:"#666"},title:Q,children:["• ",R||""]}),d.jsx("button",{onClick:o,style:{marginLeft:"auto"},children:"Rafraîchir"})]}),d.jsxs("form",{onSubmit:he,style:{display:"flex",flexDirection:"column",gap:6,marginBottom:16,padding:12,border:"1px solid #ddd",borderRadius:6},children:[d.jsx("strong",{children:"Nouvelle tâche"}),d.jsx("input",{placeholder:"Titre",value:h,onChange:H=>g(H.target.value),disabled:C}),d.jsx("textarea",{placeholder:"Description",value:p,onChange:H=>y(H.target.value),rows:2,disabled:C}),x&&d.jsxs("div",{style:{fontSize:12,background:"#f5f7ff",padding:6,borderRadius:4},children:[d.jsxs("div",{children:[d.jsx("strong",{children:"Statut suggéré:"})," ",x.suggestedStatus]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Durée estimée:"})," ~",x.estimatedMinutes," min"]}),d.jsxs("div",{style:{opacity:.7},children:["Confiance: ",(x.confidence*100).toFixed(0),"%"]}),d.jsx("button",{type:"button",style:{marginTop:4},onClick:()=>m(null),children:"Retirer"})]}),d.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[d.jsx("button",{type:"submit",disabled:C||!h.trim(),children:"Créer"}),mh,P&&d.jsx("span",{style:{fontSize:12},children:"AI…"}),C&&d.jsx("span",{style:{fontSize:12},children:"Ajout…"})]})]}),d.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[t.map(H=>{const Re=H.id||H._id,St=u&&u.some(ut=>ut.collection==="tasks"&&ut.docId===Re),Ot=B.has(Re),_t=w===Re;return d.jsxs("li",{style:{border:"1px solid #ddd",borderRadius:6,padding:8,marginBottom:6,background:Ot?"#ffecec":St?"#fff9e6":"#fff"},children:[!_t&&d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[d.jsx("strong",{style:{flex:1},children:H.title||"Sans titre"}),H.status&&d.jsx("span",{style:{fontSize:11,background:"#eef",padding:"2px 6px",borderRadius:4},children:H.status}),St&&d.jsx("span",{style:{fontSize:11,background:"#ffce00",padding:"2px 6px",borderRadius:4},children:"En attente"}),Ot&&d.jsx("span",{style:{fontSize:11,background:"#ff4d4f",color:"#fff",padding:"2px 6px",borderRadius:4},children:"Conflit"}),d.jsx("button",{onClick:()=>te(H),style:{fontSize:12},children:"Modifier"})]}),_t&&d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[d.jsx("input",{value:k,onChange:ut=>S(ut.target.value)}),d.jsx("textarea",{rows:2,value:E,onChange:ut=>j(ut.target.value)}),_&&d.jsxs("div",{style:{fontSize:12,background:"#f5f7ff",padding:6,borderRadius:4},children:[d.jsxs("div",{children:[d.jsx("strong",{children:"Statut suggéré:"})," ",_.suggestedStatus]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Durée estimée:"})," ~",_.estimatedMinutes," min"]}),d.jsxs("div",{style:{opacity:.7},children:["Confiance: ",(_.confidence*100).toFixed(0),"%"]}),d.jsx("button",{type:"button",style:{marginTop:4},onClick:()=>A(null),children:"Retirer"})]}),d.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[d.jsx("button",{onClick:()=>je(Re),disabled:!k.trim(),children:"Sauver"}),d.jsx("button",{type:"button",onClick:()=>b(null),children:"Annuler"}),mh,P&&d.jsx("span",{style:{fontSize:12},children:"AI…"})]})]}),!_t&&H.description&&d.jsx("div",{style:{fontSize:12,opacity:.8,marginTop:4},children:H.description}),!_t&&H.estimatedMinutes&&d.jsxs("div",{style:{fontSize:11,opacity:.65,marginTop:4},children:["Estimation: ~",H.estimatedMinutes," min"]})]},Re)}),!t.length&&d.jsx("li",{style:{padding:12,fontStyle:"italic"},children:"Aucune tâche."})]})]})}function Qa(){const[e,t]=v.useState(!0),[n,s]=v.useState(!1),[r,i]=v.useState(null),[o,a]=v.useState({enabled:!1}),[l,c]=v.useState([]),[u,f]=v.useState([]);v.useEffect(()=>{(async()=>{var E;console.log("🔍 Verifying authentication...");try{const j=localStorage.getItem("user"),_=localStorage.getItem("token"),A=localStorage.getItem("sessionExpiry");if(!_||!j||!A){console.log("❌ No valid session found"),s(!1),i(null),t(!1);return}if(new Date(A)<new Date){console.log("❌ Session expired"),h(),t(!1);return}const C=JSON.parse(j);i(C),s(!0);const N=await Promise.allSettled([Tl(),Ol(),ph()]);N[0].status==="fulfilled"&&c(N[0].value),N[2].status==="fulfilled"&&a({enabled:!!((E=N[2].value)!=null&&E.enabled)}),N[1].status==="fulfilled"&&f(N[1].value)}catch(j){console.error("❌ Verification failed:",j),h()}finally{t(!1)}})()},[]);const h=async()=>{await $k(),s(!1),i(null),c([]),f([])},g=async S=>{var E;try{const j=await Fk(S);if(j.requires2FA)return{requires2FA:!0,tempToken:j.tempToken,setupRequired:j.setupRequired};if(j.user){i(j.user),s(!0);const _=await Promise.allSettled([Tl(),Ol(),ph()]);return _[0].status==="fulfilled"&&c(_[0].value),_[1].status==="fulfilled"&&f(_[1].value),_[2].status==="fulfilled"&&a({enabled:!!((E=_[2].value)!=null&&E.enabled)}),{user:j.user}}return!1}catch(j){throw console.error("Login failed:",j),j}},p=async()=>{try{return await J0()}catch(S){throw console.error("2FA setup failed:",S),S}},y=async S=>{try{return await G0(S)}catch(E){throw console.error("2FA verification failed:",E),E}},x=async S=>{try{return await Wk(S)}catch(E){throw console.error("2FA disable failed:",E),E}},m=async()=>{try{const S=await Tl();return c(S),S}catch(S){throw console.error("Failed to refresh sessions:",S),S}};return{isVerifying:e,isAuthenticated:n,user:r,twoFactor:o,login:g,logout:h,setup2FA:p,verify2FA:y,disable2FA:x,sessions:l,refreshSessions:m,revokeSession:async S=>{try{await Hk(S),await m()}catch(E){throw console.error("Session revocation failed:",E),E}},revokeOtherSessions:async()=>{try{await Vk(),await m()}catch(S){throw console.error("Failed to revoke other sessions:",S),S}},auditLogs:u,refreshAuditLogs:async()=>{try{const S=await Ol();return f(S),S}catch(S){throw console.error("Failed to refresh audit logs:",S),S}}}}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Pi(e){return e+.5|0}const Sn=(e,t,n)=>Math.max(Math.min(e,n),t);function Mr(e){return Sn(Pi(e*2.55),0,255)}function On(e){return Sn(Pi(e*255),0,255)}function Jt(e){return Sn(Pi(e/2.55)/100,0,1)}function gh(e){return Sn(Pi(e*100),0,100)}const dt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Jc=[..."0123456789ABCDEF"],Xk=e=>Jc[e&15],Gk=e=>Jc[(e&240)>>4]+Jc[e&15],Ji=e=>(e&240)>>4===(e&15),Jk=e=>Ji(e.r)&&Ji(e.g)&&Ji(e.b)&&Ji(e.a);function Zk(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&dt[e[1]]*17,g:255&dt[e[2]]*17,b:255&dt[e[3]]*17,a:t===5?dt[e[4]]*17:255}:(t===7||t===9)&&(n={r:dt[e[1]]<<4|dt[e[2]],g:dt[e[3]]<<4|dt[e[4]],b:dt[e[5]]<<4|dt[e[6]],a:t===9?dt[e[7]]<<4|dt[e[8]]:255})),n}const eS=(e,t)=>e<255?t(e):"";function tS(e){var t=Jk(e)?Xk:Gk;return e?"#"+t(e.r)+t(e.g)+t(e.b)+eS(e.a,t):void 0}const nS=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function nx(e,t,n){const s=t*Math.min(n,1-n),r=(i,o=(i+e/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function sS(e,t,n){const s=(r,i=(r+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function rS(e,t,n){const s=nx(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)s[r]*=1-t-n,s[r]+=t;return s}function iS(e,t,n,s,r){return e===r?(t-n)/s+(t<n?6:0):t===r?(n-e)/s+2:(e-t)/s+4}function hd(e){const n=e.r/255,s=e.g/255,r=e.b/255,i=Math.max(n,s,r),o=Math.min(n,s,r),a=(i+o)/2;let l,c,u;return i!==o&&(u=i-o,c=a>.5?u/(2-i-o):u/(i+o),l=iS(n,s,r,u,i),l=l*60+.5),[l|0,c||0,a]}function pd(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(On)}function md(e,t,n){return pd(nx,e,t,n)}function oS(e,t,n){return pd(rS,e,t,n)}function aS(e,t,n){return pd(sS,e,t,n)}function sx(e){return(e%360+360)%360}function lS(e){const t=nS.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?Mr(+t[5]):On(+t[5]));const r=sx(+t[2]),i=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?s=oS(r,i,o):t[1]==="hsv"?s=aS(r,i,o):s=md(r,i,o),{r:s[0],g:s[1],b:s[2],a:n}}function cS(e,t){var n=hd(e);n[0]=sx(n[0]+t),n=md(n),e.r=n[0],e.g=n[1],e.b=n[2]}function uS(e){if(!e)return;const t=hd(e),n=t[0],s=gh(t[1]),r=gh(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${r}%, ${Jt(e.a)})`:`hsl(${n}, ${s}%, ${r}%)`}const xh={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},yh={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function dS(){const e={},t=Object.keys(yh),n=Object.keys(xh);let s,r,i,o,a;for(s=0;s<t.length;s++){for(o=a=t[s],r=0;r<n.length;r++)i=n[r],a=a.replace(i,xh[i]);i=parseInt(yh[o],16),e[a]=[i>>16&255,i>>8&255,i&255]}return e}let Zi;function fS(e){Zi||(Zi=dS(),Zi.transparent=[0,0,0,0]);const t=Zi[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const hS=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function pS(e){const t=hS.exec(e);let n=255,s,r,i;if(t){if(t[7]!==s){const o=+t[7];n=t[8]?Mr(o):Sn(o*255,0,255)}return s=+t[1],r=+t[3],i=+t[5],s=255&(t[2]?Mr(s):Sn(s,0,255)),r=255&(t[4]?Mr(r):Sn(r,0,255)),i=255&(t[6]?Mr(i):Sn(i,0,255)),{r:s,g:r,b:i,a:n}}}function mS(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Jt(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Ll=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,bs=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function gS(e,t,n){const s=bs(Jt(e.r)),r=bs(Jt(e.g)),i=bs(Jt(e.b));return{r:On(Ll(s+n*(bs(Jt(t.r))-s))),g:On(Ll(r+n*(bs(Jt(t.g))-r))),b:On(Ll(i+n*(bs(Jt(t.b))-i))),a:e.a+n*(t.a-e.a)}}function eo(e,t,n){if(e){let s=hd(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=md(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function rx(e,t){return e&&Object.assign(t||{},e)}function vh(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=On(e[3]))):(t=rx(e,{r:0,g:0,b:0,a:1}),t.a=On(t.a)),t}function xS(e){return e.charAt(0)==="r"?pS(e):lS(e)}class gi{constructor(t){if(t instanceof gi)return t;const n=typeof t;let s;n==="object"?s=vh(t):n==="string"&&(s=Zk(t)||fS(t)||xS(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=rx(this._rgb);return t&&(t.a=Jt(t.a)),t}set rgb(t){this._rgb=vh(t)}rgbString(){return this._valid?mS(this._rgb):void 0}hexString(){return this._valid?tS(this._rgb):void 0}hslString(){return this._valid?uS(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,r=t.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=s.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-c,s.r=255&c*s.r+i*r.r+.5,s.g=255&c*s.g+i*r.g+.5,s.b=255&c*s.b+i*r.b+.5,s.a=o*s.a+(1-o)*r.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=gS(this._rgb,t._rgb,n)),this}clone(){return new gi(this.rgb)}alpha(t){return this._rgb.a=On(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Pi(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return eo(this._rgb,2,t),this}darken(t){return eo(this._rgb,2,-t),this}saturate(t){return eo(this._rgb,1,t),this}desaturate(t){return eo(this._rgb,1,-t),this}rotate(t){return cS(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Yt(){}const yS=(()=>{let e=0;return()=>e++})();function ae(e){return e==null}function Ce(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ee(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function wt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function It(e,t){return wt(e)?e:t}function J(e,t){return typeof e>"u"?t:e}const vS=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,ix=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function ue(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function re(e,t,n,s){let r,i,o;if(Ce(e))for(i=e.length,r=0;r<i;r++)t.call(n,e[r],r);else if(ee(e))for(o=Object.keys(e),i=o.length,r=0;r<i;r++)t.call(n,e[o[r]],o[r])}function pa(e,t){let n,s,r,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(r=e[n],i=t[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function ma(e){if(Ce(e))return e.map(ma);if(ee(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let r=0;for(;r<s;++r)t[n[r]]=ma(e[n[r]]);return t}return e}function ox(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function wS(e,t,n,s){if(!ox(e))return;const r=t[e],i=n[e];ee(r)&&ee(i)?xi(r,i,s):t[e]=ma(i)}function xi(e,t,n){const s=Ce(t)?t:[t],r=s.length;if(!ee(e))return e;n=n||{};const i=n.merger||wS;let o;for(let a=0;a<r;++a){if(o=s[a],!ee(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)i(l[c],e,o,n)}return e}function qr(e,t){return xi(e,t,{merger:bS})}function bS(e,t,n){if(!ox(e))return;const s=t[e],r=n[e];ee(s)&&ee(r)?qr(s,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=ma(r))}const wh={"":e=>e,x:e=>e.x,y:e=>e.y};function kS(e){const t=e.split("."),n=[];let s="";for(const r of t)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function SS(e){const t=kS(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function ps(e,t){return(wh[t]||(wh[t]=SS(t)))(e)}function gd(e){return e.charAt(0).toUpperCase()+e.slice(1)}const yi=e=>typeof e<"u",zn=e=>typeof e=="function",bh=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function _S(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const oe=Math.PI,_e=2*oe,ga=Number.POSITIVE_INFINITY,jS=oe/180,Ne=oe/2,Hn=oe/4,kh=oe*2/3,ax=Math.log10,Ln=Math.sign;function Po(e,t,n){return Math.abs(e-t)<n}function Sh(e){const t=Math.round(e);e=Po(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(ax(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function ES(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((r,i)=>r-i).pop(),t}function CS(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function xa(e){return!CS(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function AS(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function NS(e,t,n){let s,r,i;for(s=0,r=e.length;s<r;s++)i=e[s][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function tn(e){return e*(oe/180)}function RS(e){return e*(180/oe)}function _h(e){if(!wt(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function lx(e,t){const n=t.x-e.x,s=t.y-e.y,r=Math.sqrt(n*n+s*s);let i=Math.atan2(s,n);return i<-.5*oe&&(i+=_e),{angle:i,distance:r}}function MS(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function $t(e){return(e%_e+_e)%_e}function ya(e,t,n,s){const r=$t(e),i=$t(t),o=$t(n),a=$t(i-r),l=$t(o-r),c=$t(r-i),u=$t(r-o);return r===i||r===o||s&&i===o||a>l&&c<u}function Ge(e,t,n){return Math.max(t,Math.min(n,e))}function PS(e){return Ge(e,-32768,32767)}function ss(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function xd(e,t,n){n=n||(o=>e[o]<t);let s=e.length-1,r=0,i;for(;s-r>1;)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}const Zc=(e,t,n,s)=>xd(e,n,s?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),TS=(e,t,n)=>xd(e,n,s=>e[s][t]>=n);function OS(e,t,n){let s=0,r=e.length;for(;s<r&&e[s]<t;)s++;for(;r>s&&e[r-1]>n;)r--;return s>0||r<e.length?e.slice(s,r):e}const cx=["push","pop","shift","splice","unshift"];function LS(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),cx.forEach(n=>{const s="_onData"+gd(n),r=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...i){const o=r.apply(this,i);return e._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...i)}),o}})})}function jh(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,r=s.indexOf(t);r!==-1&&s.splice(r,1),!(s.length>0)&&(cx.forEach(i=>{delete e[i]}),delete e._chartjs)}function ux(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const dx=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function fx(e,t){let n=[],s=!1;return function(...r){n=r,s||(s=!0,dx.call(window,()=>{s=!1,e.apply(t,n)}))}}function DS(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const yd=e=>e==="start"?"left":e==="end"?"right":"center",Fe=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,IS=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t,to=e=>e===0||e===1,Eh=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*_e/n)),Ch=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*_e/n)+1,Yr={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Ne)+1,easeOutSine:e=>Math.sin(e*Ne),easeInOutSine:e=>-.5*(Math.cos(oe*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>to(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>to(e)?e:Eh(e,.075,.3),easeOutElastic:e=>to(e)?e:Ch(e,.075,.3),easeInOutElastic(e){return to(e)?e:e<.5?.5*Eh(e*2,.1125,.45):.5+.5*Ch(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Yr.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Yr.easeInBounce(e*2)*.5:Yr.easeOutBounce(e*2-1)*.5+.5};function hx(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Ah(e){return hx(e)?e:new gi(e)}function Dl(e){return hx(e)?e:new gi(e).saturate(.5).darken(.1).hexString()}const FS=["x","y","borderWidth","radius","tension"],zS=["color","borderColor","backgroundColor"];function BS(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:zS},numbers:{type:"number",properties:FS}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function $S(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Nh=new Map;function US(e,t){t=t||{};const n=e+JSON.stringify(t);let s=Nh.get(n);return s||(s=new Intl.NumberFormat(e,t),Nh.set(n,s)),s}function vd(e,t,n){return US(t,n).format(e)}const WS={values(e){return Ce(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let r,i=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),i=HS(e,n)}const o=ax(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),vd(e,s,l)}};function HS(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var px={formatters:WS};function VS(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:px.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ms=Object.create(null),eu=Object.create(null);function Kr(e,t){if(!t)return e;const n=t.split(".");for(let s=0,r=n.length;s<r;++s){const i=n[s];e=e[i]||(e[i]=Object.create(null))}return e}function Il(e,t,n){return typeof t=="string"?xi(Kr(e,t),n):xi(Kr(e,""),t)}class qS{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>Dl(r.backgroundColor),this.hoverBorderColor=(s,r)=>Dl(r.borderColor),this.hoverColor=(s,r)=>Dl(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Il(this,t,n)}get(t){return Kr(this,t)}describe(t,n){return Il(eu,t,n)}override(t,n){return Il(ms,t,n)}route(t,n,s,r){const i=Kr(this,t),o=Kr(this,s),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[r];return ee(l)?Object.assign({},c,l):J(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var we=new qS({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[BS,$S,VS]);function YS(e){return!e||ae(e.size)||ae(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Rh(e,t,n,s,r){let i=t[r];return i||(i=t[r]=e.measureText(r).width,n.push(r)),i>s&&(s=i),s}function Vn(e,t,n){const s=e.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((t-r)*s)/s+r}function Mh(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Ph(e,t,n,s){mx(e,t,n,s,null)}function mx(e,t,n,s,r){let i,o,a,l,c,u,f,h;const g=t.pointStyle,p=t.rotation,y=t.radius;let x=(p||0)*jS;if(g&&typeof g=="object"&&(i=g.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(x),e.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),e.restore();return}if(!(isNaN(y)||y<=0)){switch(e.beginPath(),g){default:r?e.ellipse(n,s,r/2,y,0,0,_e):e.arc(n,s,y,0,_e),e.closePath();break;case"triangle":u=r?r/2:y,e.moveTo(n+Math.sin(x)*u,s-Math.cos(x)*y),x+=kh,e.lineTo(n+Math.sin(x)*u,s-Math.cos(x)*y),x+=kh,e.lineTo(n+Math.sin(x)*u,s-Math.cos(x)*y),e.closePath();break;case"rectRounded":c=y*.516,l=y-c,o=Math.cos(x+Hn)*l,f=Math.cos(x+Hn)*(r?r/2-c:l),a=Math.sin(x+Hn)*l,h=Math.sin(x+Hn)*(r?r/2-c:l),e.arc(n-f,s-a,c,x-oe,x-Ne),e.arc(n+h,s-o,c,x-Ne,x),e.arc(n+f,s+a,c,x,x+Ne),e.arc(n-h,s+o,c,x+Ne,x+oe),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*y,u=r?r/2:l,e.rect(n-u,s-l,2*u,2*l);break}x+=Hn;case"rectRot":f=Math.cos(x)*(r?r/2:y),o=Math.cos(x)*y,a=Math.sin(x)*y,h=Math.sin(x)*(r?r/2:y),e.moveTo(n-f,s-a),e.lineTo(n+h,s-o),e.lineTo(n+f,s+a),e.lineTo(n-h,s+o),e.closePath();break;case"crossRot":x+=Hn;case"cross":f=Math.cos(x)*(r?r/2:y),o=Math.cos(x)*y,a=Math.sin(x)*y,h=Math.sin(x)*(r?r/2:y),e.moveTo(n-f,s-a),e.lineTo(n+f,s+a),e.moveTo(n+h,s-o),e.lineTo(n-h,s+o);break;case"star":f=Math.cos(x)*(r?r/2:y),o=Math.cos(x)*y,a=Math.sin(x)*y,h=Math.sin(x)*(r?r/2:y),e.moveTo(n-f,s-a),e.lineTo(n+f,s+a),e.moveTo(n+h,s-o),e.lineTo(n-h,s+o),x+=Hn,f=Math.cos(x)*(r?r/2:y),o=Math.cos(x)*y,a=Math.sin(x)*y,h=Math.sin(x)*(r?r/2:y),e.moveTo(n-f,s-a),e.lineTo(n+f,s+a),e.moveTo(n+h,s-o),e.lineTo(n-h,s+o);break;case"line":o=r?r/2:Math.cos(x)*y,a=Math.sin(x)*y,e.moveTo(n-o,s-a),e.lineTo(n+o,s+a);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(x)*(r?r/2:y),s+Math.sin(x)*y);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function gx(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function wd(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function bd(e){e.restore()}function KS(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ae(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function QS(e,t,n,s,r){if(r.strikethrough||r.underline){const i=e.measureText(s),o=t-i.actualBoundingBoxLeft,a=t+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function XS(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function vi(e,t,n,s,r,i={}){const o=Ce(t)?t:[t],a=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(e.save(),e.font=r.string,KS(e,i),l=0;l<o.length;++l)c=o[l],i.backdrop&&XS(e,i.backdrop),a&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),ae(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(c,n,s,i.maxWidth)),e.fillText(c,n,s,i.maxWidth),QS(e,n,s,c,i),s+=Number(r.lineHeight);e.restore()}function va(e,t){const{x:n,y:s,w:r,h:i,radius:o}=t;e.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*oe,oe,!0),e.lineTo(n,s+i-o.bottomLeft),e.arc(n+o.bottomLeft,s+i-o.bottomLeft,o.bottomLeft,oe,Ne,!0),e.lineTo(n+r-o.bottomRight,s+i),e.arc(n+r-o.bottomRight,s+i-o.bottomRight,o.bottomRight,Ne,0,!0),e.lineTo(n+r,s+o.topRight),e.arc(n+r-o.topRight,s+o.topRight,o.topRight,0,-Ne,!0),e.lineTo(n+o.topLeft,s)}const GS=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,JS=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ZS(e,t){const n=(""+e).match(GS);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const e_=e=>+e||0;function kd(e,t){const n={},s=ee(t),r=s?Object.keys(t):t,i=ee(e)?s?o=>J(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of r)n[o]=e_(i(o));return n}function xx(e){return kd(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Vs(e){return kd(e,["topLeft","topRight","bottomLeft","bottomRight"])}function bt(e){const t=xx(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function $e(e,t){e=e||{},t=t||we.font;let n=J(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=J(e.style,t.style);s&&!(""+s).match(JS)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:J(e.family,t.family),lineHeight:ZS(J(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:J(e.weight,t.weight),string:""};return r.string=YS(r),r}function no(e,t,n,s){let r,i,o;for(r=0,i=e.length;r<i;++r)if(o=e[r],o!==void 0&&o!==void 0)return o}function t_(e,t,n){const{min:s,max:r}=e,i=ix(t,(r-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(i)),max:o(r,i)}}function cr(e,t){return Object.assign(Object.create(e),t)}function Sd(e,t=[""],n,s,r=()=>e[0]){const i=n||e;typeof s>"u"&&(s=bx("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:s,_getTarget:r,override:a=>Sd([a,...e],t,i,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return vx(a,l,()=>c_(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return Oh(a).includes(l)},ownKeys(a){return Oh(a)},set(a,l,c){const u=a._storage||(a._storage=r());return a[l]=u[l]=c,delete a._keys,!0}})}function nr(e,t,n,s){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:yx(e,s),setContext:i=>nr(e,i,n,s),override:i=>nr(e.override(i),t,n,s)};return new Proxy(r,{deleteProperty(i,o){return delete i[o],delete e[o],!0},get(i,o,a){return vx(i,o,()=>s_(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(i,o,a){return e[o]=a,delete i[o],!0}})}function yx(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:s,isScriptable:zn(n)?n:()=>n,isIndexable:zn(s)?s:()=>s}}const n_=(e,t)=>e?e+gd(t):t,_d=(e,t)=>ee(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function vx(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function s_(e,t,n){const{_proxy:s,_context:r,_subProxy:i,_descriptors:o}=e;let a=s[t];return zn(a)&&o.isScriptable(t)&&(a=r_(t,a,e,n)),Ce(a)&&a.length&&(a=i_(t,a,e,o.isIndexable)),_d(t,a)&&(a=nr(a,r,i&&i[t],o)),a}function r_(e,t,n,s){const{_proxy:r,_context:i,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(i,o||s);return a.delete(e),_d(e,l)&&(l=jd(r._scopes,r,e,l)),l}function i_(e,t,n,s){const{_proxy:r,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&s(e))return t[i.index%t.length];if(ee(t[0])){const l=t,c=r._scopes.filter(u=>u!==l);t=[];for(const u of l){const f=jd(c,r,e,u);t.push(nr(f,i,o&&o[e],a))}}return t}function wx(e,t,n){return zn(e)?e(t,n):e}const o_=(e,t)=>e===!0?t:typeof e=="string"?ps(t,e):void 0;function a_(e,t,n,s,r){for(const i of t){const o=o_(n,i);if(o){e.add(o);const a=wx(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function jd(e,t,n,s){const r=t._rootScopes,i=wx(t._fallback,n,s),o=[...e,...r],a=new Set;a.add(s);let l=Th(a,o,n,i||n,s);return l===null||typeof i<"u"&&i!==n&&(l=Th(a,o,i,l,s),l===null)?!1:Sd(Array.from(a),[""],r,i,()=>l_(t,n,s))}function Th(e,t,n,s,r){for(;n;)n=a_(e,t,n,s,r);return n}function l_(e,t,n){const s=e._getTarget();t in s||(s[t]={});const r=s[t];return Ce(r)&&ee(n)?n:r||{}}function c_(e,t,n,s){let r;for(const i of t)if(r=bx(n_(i,e),n),typeof r<"u")return _d(e,r)?jd(n,s,e,r):r}function bx(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s<"u")return s}}function Oh(e){let t=e._keys;return t||(t=e._keys=u_(e._scopes)),t}function u_(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(r=>!r.startsWith("_")))t.add(s);return Array.from(t)}function Ed(){return typeof window<"u"&&typeof document<"u"}function Cd(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function wa(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const Xa=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function d_(e,t){return Xa(e).getPropertyValue(t)}const f_=["top","right","bottom","left"];function as(e,t,n){const s={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=f_[r];s[i]=parseFloat(e[t+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const h_=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function p_(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:r,offsetY:i}=s;let o=!1,a,l;if(h_(r,i,e.target))a=r,l=i;else{const c=t.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Gn(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,r=Xa(n),i=r.boxSizing==="border-box",o=as(r,"padding"),a=as(r,"border","width"),{x:l,y:c,box:u}=p_(e,n),f=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:g,height:p}=t;return i&&(g-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-f)/g*n.width/s),y:Math.round((c-h)/p*n.height/s)}}function m_(e,t,n){let s,r;if(t===void 0||n===void 0){const i=e&&Cd(e);if(!i)t=e.clientWidth,n=e.clientHeight;else{const o=i.getBoundingClientRect(),a=Xa(i),l=as(a,"border","width"),c=as(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,s=wa(a.maxWidth,i,"clientWidth"),r=wa(a.maxHeight,i,"clientHeight")}}return{width:t,height:n,maxWidth:s||ga,maxHeight:r||ga}}const so=e=>Math.round(e*10)/10;function g_(e,t,n,s){const r=Xa(e),i=as(r,"margin"),o=wa(r.maxWidth,e,"clientWidth")||ga,a=wa(r.maxHeight,e,"clientHeight")||ga,l=m_(e,t,n);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const h=as(r,"border","width"),g=as(r,"padding");c-=g.width+h.width,u-=g.height+h.height}return c=Math.max(0,c-i.width),u=Math.max(0,s?c/s:u-i.height),c=so(Math.min(c,o,l.maxWidth)),u=so(Math.min(u,a,l.maxHeight)),c&&!u&&(u=so(c/2)),(t!==void 0||n!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=so(Math.floor(u*s))),{width:c,height:u}}function Lh(e,t,n){const s=t||1,r=Math.floor(e.height*s),i=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||o.height!==r||o.width!==i?(e.currentDevicePixelRatio=s,o.height=r,o.width=i,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const x_=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Ed()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Dh(e,t){const n=d_(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const y_=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},v_=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function qs(e,t,n){return e?y_(t,n):v_()}function kx(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function Sx(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function ro(e,t,n){return e.options.clip?e[n]:t[n]}function w_(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:ro(n,t,"left"),right:ro(n,t,"right"),top:ro(s,t,"top"),bottom:ro(s,t,"bottom")}:t}function b_(e,t){const n=t._clip;if(n.disabled)return!1;const s=w_(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class k_{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,r){const i=n.listeners[r],o=n.duration;i.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=dx.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const i=s.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(t),a=!0):(i[o]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,s,t,"progress")),i.length||(s.running=!1,this._notify(r,s,t,"complete"),s.initial=!1),n+=i.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Kt=new k_;const Ih="transparent",S_={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=Ah(e||Ih),r=s.valid&&Ah(t||Ih);return r&&r.valid?r.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class __{constructor(t,n,s,r){const i=n[s];r=no([t.to,r,i,t.from]);const o=no([t.from,i,r]);this._active=!0,this._fn=t.fn||S_[t.type||typeof o],this._easing=Yr[t.easing]||Yr.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const r=this._target[this._prop],i=s-this._start,o=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=no([t.to,n,r,t.from]),this._from=no([t.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,r=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<s),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=i;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(i,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][n]()}}class _x{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!ee(t))return;const n=Object.keys(we.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const i=t[r];if(!ee(i))return;const o={};for(const a of n)o[a]=i[a];(Ce(i.properties)&&i.properties||[r]).forEach(a=>{(a===r||!s.has(a))&&s.set(a,o)})})}_animateOptions(t,n){const s=n.options,r=E_(t,s);if(!r)return[];const i=this._createAnimations(r,s);return s.$shared&&j_(t.options.$animations,s).then(()=>{t.options=s},()=>{}),i}_createAnimations(t,n){const s=this._properties,r=[],i=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(t,n));continue}const u=n[c];let f=i[c];const h=s.get(c);if(f)if(h&&f.active()){f.update(h,u,a);continue}else f.cancel();if(!h||!h.duration){t[c]=u;continue}i[c]=f=new __(h,t,c,u),r.push(f)}return r}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return Kt.add(this._chart,s),!0}}function j_(e,t){const n=[],s=Object.keys(t);for(let r=0;r<s.length;r++){const i=e[s[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function E_(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Fh(e,t){const n=e&&e.options||{},s=n.reverse,r=n.min===void 0?t:0,i=n.max===void 0?t:0;return{start:s?i:r,end:s?r:i}}function C_(e,t,n){if(n===!1)return!1;const s=Fh(e,n),r=Fh(t,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function A_(e){let t,n,s,r;return ee(e)?(t=e.top,n=e.right,s=e.bottom,r=e.left):t=n=s=r=e,{top:t,right:n,bottom:s,left:r,disabled:e===!1}}function jx(e,t){const n=[],s=e._getSortedDatasetMetas(t);let r,i;for(r=0,i=s.length;r<i;++r)n.push(s[r].index);return n}function zh(e,t,n,s={}){const r=e.keys,i=s.mode==="single";let o,a,l,c;if(t===null)return;let u=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(u=!0,s.all)continue;break}c=e.values[l],wt(c)&&(i||t===0||Ln(t)===Ln(c))&&(t+=c)}return!u&&!s.all?0:t}function N_(e,t){const{iScale:n,vScale:s}=t,r=n.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[r]:u,[i]:e[u]};return a}function Fl(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function R_(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function M_(e){const{min:t,max:n,minDefined:s,maxDefined:r}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function P_(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function Bh(e,t,n,s){for(const r of t.getMatchingVisibleMetas(s).reverse()){const i=e[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function $h(e,t){const{chart:n,_cachedMeta:s}=e,r=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=s,l=i.axis,c=o.axis,u=R_(i,o,s),f=t.length;let h;for(let g=0;g<f;++g){const p=t[g],{[l]:y,[c]:x}=p,m=p._stacks||(p._stacks={});h=m[c]=P_(r,u,y),h[a]=x,h._top=Bh(h,o,!0,s.type),h._bottom=Bh(h,o,!1,s.type);const w=h._visualValues||(h._visualValues={});w[a]=x}}function zl(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function T_(e,t){return cr(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function O_(e,t,n){return cr(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function br(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const r of t){const i=r._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}const Bl=e=>e==="reset"||e==="none",Uh=(e,t)=>t?e:Object.assign({},e),L_=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:jx(n,!0),values:null};class Ys{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Fl(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&br(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(f,h,g,p)=>f==="x"?h:f==="r"?p:g,i=n.xAxisID=J(s.xAxisID,zl(t,"x")),o=n.yAxisID=J(s.yAxisID,zl(t,"y")),a=n.rAxisID=J(s.rAxisID,zl(t,"r")),l=n.indexAxis,c=n.iAxisID=r(l,i,o,a),u=n.vAxisID=r(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&jh(this._data,this),t._stacked&&br(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(ee(n)){const r=this._cachedMeta;this._data=N_(n,r)}else if(s!==n){if(s){jh(s,this);const r=this._cachedMeta;br(r),r._parsed=[]}n&&Object.isExtensible(n)&&LS(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const i=n._stacked;n._stacked=Fl(n.vScale,n),n.stack!==s.stack&&(r=!0,br(n),n.stack=s.stack),this._resyncElements(t),(r||i!==n._stacked)&&($h(this,n._parsed),n._stacked=Fl(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:r}=this,{iScale:i,_stacked:o}=s,a=i.axis;let l=t===0&&n===r.length?!0:s._sorted,c=t>0&&s._parsed[t-1],u,f,h;if(this._parsing===!1)s._parsed=r,s._sorted=!0,h=r;else{Ce(r[t])?h=this.parseArrayData(s,r,t,n):ee(r[t])?h=this.parseObjectData(s,r,t,n):h=this.parsePrimitiveData(s,r,t,n);const g=()=>f[a]===null||c&&f[a]<c[a];for(u=0;u<n;++u)s._parsed[u+t]=f=h[u],l&&(g()&&(l=!1),c=f);s._sorted=l}o&&$h(this,h)}parsePrimitiveData(t,n,s,r){const{iScale:i,vScale:o}=t,a=i.axis,l=o.axis,c=i.getLabels(),u=i===o,f=new Array(r);let h,g,p;for(h=0,g=r;h<g;++h)p=h+s,f[h]={[a]:u||i.parse(c[p],p),[l]:o.parse(n[p],p)};return f}parseArrayData(t,n,s,r){const{xScale:i,yScale:o}=t,a=new Array(r);let l,c,u,f;for(l=0,c=r;l<c;++l)u=l+s,f=n[u],a[l]={x:i.parse(f[0],u),y:o.parse(f[1],u)};return a}parseObjectData(t,n,s,r){const{xScale:i,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,f,h,g;for(u=0,f=r;u<f;++u)h=u+s,g=n[h],c[u]={x:i.parse(ps(g,a),h),y:o.parse(ps(g,l),h)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const r=this.chart,i=this._cachedMeta,o=n[t.axis],a={keys:jx(r,!0),values:n._stacks[t.axis]._visualValues};return zh(a,o,i.index,{mode:s})}updateRangeFromParsed(t,n,s,r){const i=s[n.axis];let o=i===null?NaN:i;const a=r&&s._stacks[n.axis];r&&a&&(r.values=a,o=zh(r,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const s=this._cachedMeta,r=s._parsed,i=s._sorted&&t===s.iScale,o=r.length,a=this._getOtherScale(t),l=L_(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=M_(a);let h,g;function p(){g=r[h];const y=g[a.axis];return!wt(g[t.axis])||u>y||f<y}for(h=0;h<o&&!(!p()&&(this.updateRangeFromParsed(c,t,g,l),i));++h);if(i){for(h=o-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(c,t,g,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let r,i,o;for(r=0,i=n.length;r<i;++r)o=n[r][t.axis],wt(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,r=n.vScale,i=this.getParsed(t);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=A_(J(this.options.clip,C_(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(t,i,a,l),u=a;u<a+l;++u){const f=r[u];f.hidden||(f.active&&c?o.push(f):f.draw(t,i))}for(u=0;u<o.length;++u)o[u].draw(t,i)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const r=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];i=o.$context||(o.$context=O_(this.getContext(),t,o)),i.parsed=this.getParsed(t),i.raw=r.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=T_(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=s,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const r=n==="active",i=this._cachedDataOpts,o=t+"-"+n,a=i[o],l=this.enableOptionSharing&&yi(s);if(a)return Uh(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),f=r?[`${t}Hover`,"hover",t,""]:[t,""],h=c.getOptionScopes(this.getDataset(),u),g=Object.keys(we.elements[t]),p=()=>this.getContext(s,r,n),y=c.resolveNamedOptions(h,g,p,f);return y.$shared&&(y.$shared=l,i[o]=Object.freeze(Uh(y,l))),y}_resolveAnimations(t,n,s){const r=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(r.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),f);l=u.createResolver(h,this.getContext(t,s,n))}const c=new _x(r,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Bl(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),r=this._sharedOptions,i=this.getSharedOptions(s),o=this.includeOptions(n,i)||i!==r;return this.updateSharedOptions(i,n,s),{sharedOptions:i,includeOptions:o}}updateElement(t,n,s,r){Bl(r)?Object.assign(t,s):this._resolveAnimations(n,r).update(t,s)}updateSharedOptions(t,n,s){t&&!Bl(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,r){t.active=r;const i=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(t,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=s.length,i=n.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,t):i<r&&this._removeElements(i,r-i)}_insertElements(t,n,s=!0){const r=this._cachedMeta,i=r.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(i),a=t;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(t,n),s&&this.updateElements(i,t,n,"reset")}updateElements(t,n,s,r){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(t,n);s._stacked&&br(s,r)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,r]=t;this[n](s,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Y(Ys,"defaults",{}),Y(Ys,"datasetElementType",null),Y(Ys,"dataElementType",null);function D_(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let s=[];for(let r=0,i=n.length;r<i;r++)s=s.concat(n[r].controller.getAllParsedValues(e));e._cache.$bar=ux(s.sort((r,i)=>r-i))}return e._cache.$bar}function I_(e){const t=e.iScale,n=D_(t,e.type);let s=t._length,r,i,o,a;const l=()=>{o===32767||o===-32768||(yi(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(r=0,i=n.length;r<i;++r)o=t.getPixelForValue(n[r]),l();for(a=void 0,r=0,i=t.ticks.length;r<i;++r)o=t.getPixelForTick(r),l();return s}function F_(e,t,n,s){const r=n.barThickness;let i,o;return ae(r)?(i=t.min*n.categoryPercentage,o=n.barPercentage):(i=r*s,o=1),{chunk:i/s,ratio:o,start:t.pixels[e]-i/2}}function z_(e,t,n,s){const r=t.pixels,i=r[e];let o=e>0?r[e-1]:null,a=e<r.length-1?r[e+1]:null;const l=n.categoryPercentage;o===null&&(o=i-(a===null?t.end-t.start:a-i)),a===null&&(a=i+i-o);const c=i-(i-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:n.barPercentage,start:c}}function B_(e,t,n,s){const r=n.parse(e[0],s),i=n.parse(e[1],s),o=Math.min(r,i),a=Math.max(r,i);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:i,min:o,max:a}}function Ex(e,t,n,s){return Ce(e)?B_(e,t,n,s):t[n.axis]=n.parse(e,s),t}function Wh(e,t,n,s){const r=e.iScale,i=e.vScale,o=r.getLabels(),a=r===i,l=[];let c,u,f,h;for(c=n,u=n+s;c<u;++c)h=t[c],f={},f[r.axis]=a||r.parse(o[c],c),l.push(Ex(h,f,i,c));return l}function $l(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function $_(e,t,n){return e!==0?Ln(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function U_(e){let t,n,s,r,i;return e.horizontal?(t=e.base>e.x,n="left",s="right"):(t=e.base<e.y,n="bottom",s="top"),t?(r="end",i="start"):(r="start",i="end"),{start:n,end:s,reverse:t,top:r,bottom:i}}function W_(e,t,n,s){let r=t.borderSkipped;const i={};if(!r){e.borderSkipped=i;return}if(r===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=U_(e);r==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===s?r=c:(n._bottom||0)===s?r=u:(i[Hh(u,o,a,l)]=!0,r=c)),i[Hh(r,o,a,l)]=!0,e.borderSkipped=i}function Hh(e,t,n,s){return s?(e=H_(e,t,n),e=Vh(e,n,t)):e=Vh(e,t,n),e}function H_(e,t,n){return e===t?n:e===n?t:e}function Vh(e,t,n){return e==="start"?t:e==="end"?n:e}function V_(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class To extends Ys{parsePrimitiveData(t,n,s,r){return Wh(t,n,s,r)}parseArrayData(t,n,s,r){return Wh(t,n,s,r)}parseObjectData(t,n,s,r){const{iScale:i,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=i.axis==="x"?a:l,u=o.axis==="x"?a:l,f=[];let h,g,p,y;for(h=s,g=s+r;h<g;++h)y=n[h],p={},p[i.axis]=i.parse(ps(y,c),h),f.push(Ex(ps(y,u),p,o,h));return f}updateRangeFromParsed(t,n,s,r){super.updateRangeFromParsed(t,n,s,r);const i=s._custom;i&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:s,vScale:r}=n,i=this.getParsed(t),o=i._custom,a=$l(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,s,r){const i=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(n,r);for(let g=n;g<n+s;g++){const p=this.getParsed(g),y=i||ae(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),x=this._calculateBarIndexPixels(g,u),m=(p._stacks||{})[a.axis],w={horizontal:c,base:y.base,enableBorderRadius:!m||$l(p._custom)||o===m._top||o===m._bottom,x:c?y.head:x.center,y:c?x.center:y.head,height:c?x.size:Math.abs(y.size),width:c?Math.abs(y.size):x.size};h&&(w.options=f||this.resolveDataElementOptions(g,t[g].active?"active":r));const b=w.options||t[g].options;W_(w,b,m,o),V_(w,b,u.ratio),this.updateElement(t[g],g,w,r)}}_getStacks(t,n){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[s.axis],c=u=>{const f=u._parsed.find(g=>g[s.axis]===l),h=f&&f[u.vScale.axis];if(ae(h)||isNaN(h))return!0};for(const u of r)if(!(n!==void 0&&c(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[J(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,s){const r=this._getStacks(t,s),i=n!==void 0?r.indexOf(n):-1;return i===-1?r.length-1:i}_getRuler(){const t=this.options,n=this._cachedMeta,s=n.iScale,r=[];let i,o;for(i=0,o=n.data.length;i<o;++i)r.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const a=t.barThickness;return{min:a||I_(n),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:s,index:r},options:{base:i,minBarLength:o}}=this,a=i||0,l=this.getParsed(t),c=l._custom,u=$l(c);let f=l[n.axis],h=0,g=s?this.applyStack(n,l,s):f,p,y;g!==f&&(h=g-f,g=f),u&&(f=c.barStart,g=c.barEnd-c.barStart,f!==0&&Ln(f)!==Ln(c.barEnd)&&(h=0),h+=f);const x=!ae(i)&&!u?i:h;let m=n.getPixelForValue(x);if(this.chart.getDataVisibility(t)?p=n.getPixelForValue(h+g):p=m,y=p-m,Math.abs(y)<o){y=$_(y,n,a)*o,f===a&&(m-=y/2);const w=n.getPixelForDecimal(0),b=n.getPixelForDecimal(1),k=Math.min(w,b),S=Math.max(w,b);m=Math.max(Math.min(m,S),k),p=m+y,s&&!u&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(p)-n.getValueForPixel(m))}if(m===n.getPixelForValue(a)){const w=Ln(y)*n.getLineWidthForValue(a)/2;m+=w,y-=w}return{size:y,base:m,head:p,center:p+y/2}}_calculateBarIndexPixels(t,n){const s=n.scale,r=this.options,i=r.skipNull,o=J(r.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(n.grouped){const u=i?this._getStackCount(t):n.stackCount,f=r.barThickness==="flex"?z_(t,n,r,u*c):F_(t,n,r,u*c),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(J(h,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0)+g;a=f.start+f.chunk*p+f.chunk/2,l=Math.min(o,f.chunk*f.ratio)}else a=s.getPixelForValue(this.getParsed(t)[s.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,s=t.data,r=s.length;let i=0;for(;i<r;++i)this.getParsed(i)[n.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}Y(To,"id","bar"),Y(To,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Y(To,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function q_(e,t,n){let s=1,r=1,i=0,o=0;if(t<_e){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),f=Math.cos(l),h=Math.sin(l),g=(b,k,S)=>ya(b,a,l,!0)?1:Math.max(k,k*n,S,S*n),p=(b,k,S)=>ya(b,a,l,!0)?-1:Math.min(k,k*n,S,S*n),y=g(0,c,f),x=g(Ne,u,h),m=p(oe,c,f),w=p(oe+Ne,u,h);s=(y-m)/2,r=(x-w)/2,i=-(y+m)/2,o=-(x+w)/2}return{ratioX:s,ratioY:r,offsetX:i,offsetY:o}}class Pr extends Ys{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let i=l=>+s[l];if(ee(s[t])){const{key:l="value"}=this._parsing;i=c=>+ps(s[c],l)}let o,a;for(o=t,a=t+n;o<a;++o)r._parsed[o]=i(o)}}_getRotation(){return tn(this.options.rotation-90)}_getCircumference(){return tn(this.options.circumference)}_getRotationExtents(){let t=_e,n=-_e;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,i=r._getRotation(),o=r._getCircumference();t=Math.min(t,i),n=Math.max(n,i+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:s}=n,r=this._cachedMeta,i=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(vS(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:g,offsetX:p,offsetY:y}=q_(f,u,l),x=(s.width-o)/h,m=(s.height-o)/g,w=Math.max(Math.min(x,m)/2,0),b=ix(this.options.radius,w),k=Math.max(b*l,0),S=(b-k)/this._getVisibleDatasetWeightTotal();this.offsetX=p*b,this.offsetY=y*b,r.total=this.calculateTotal(),this.outerRadius=b-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*c,0),this.updateElements(i,0,i.length,t)}_circumference(t,n){const s=this.options,r=this._cachedMeta,i=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*i/_e)}updateElements(t,n,s,r){const i=r==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,f=(a.top+a.bottom)/2,h=i&&c.animateScale,g=h?0:this.innerRadius,p=h?0:this.outerRadius,{sharedOptions:y,includeOptions:x}=this._getSharedOptions(n,r);let m=this._getRotation(),w;for(w=0;w<n;++w)m+=this._circumference(w,i);for(w=n;w<n+s;++w){const b=this._circumference(w,i),k=t[w],S={x:u+this.offsetX,y:f+this.offsetY,startAngle:m,endAngle:m+b,circumference:b,outerRadius:p,innerRadius:g};x&&(S.options=y||this.resolveDataElementOptions(w,k.active?"active":r)),m+=b,this.updateElement(k,w,S,r)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let s=0,r;for(r=0;r<n.length;r++){const i=t._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?_e*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart,r=s.data.labels||[],i=vd(n._parsed[t],s.options.locale);return{label:r[t]||"",value:i}}getMaxBorderWidth(t){let n=0;const s=this.chart;let r,i,o,a,l;if(!t){for(r=0,i=s.data.datasets.length;r<i;++r)if(s.isDatasetVisible(r)){o=s.getDatasetMeta(r),t=o.data,a=o.controller;break}}if(!t)return 0;for(r=0,i=t.length;r<i;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let s=0,r=t.length;s<r;++s){const i=this.resolveDataElementOptions(s);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(t){return Math.max(J(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Y(Pr,"id","doughnut"),Y(Pr,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Y(Pr,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Y(Pr,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:r}}=t.legend.options;return n.labels.map((i,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});function qn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ad{constructor(t){Y(this,"options");this.options=t||{}}static override(t){Object.assign(Ad.prototype,t)}init(){}formats(){return qn()}parse(){return qn()}format(){return qn()}add(){return qn()}diff(){return qn()}startOf(){return qn()}endOf(){return qn()}}var Y_={_date:Ad};function K_(e,t,n,s){const{controller:r,data:i,_sorted:o}=e,a=r._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&i.length){const c=a._reversePixels?TS:Zc;if(s){if(r._sharedOptions){const u=i[0],f=typeof u.getRange=="function"&&u.getRange(t);if(f){const h=c(i,t,n-f),g=c(i,t,n+f);return{lo:h.lo,hi:g.hi}}}}else{const u=c(i,t,n);if(l){const{vScale:f}=r._cachedMeta,{_parsed:h}=e,g=h.slice(0,u.lo+1).reverse().findIndex(y=>!ae(y[f.axis]));u.lo-=Math.max(0,g);const p=h.slice(u.hi).findIndex(y=>!ae(y[f.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:i.length-1}}function Ga(e,t,n,s,r){const i=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=i.length;a<l;++a){const{index:c,data:u}=i[a],{lo:f,hi:h}=K_(i[a],t,o,r);for(let g=f;g<=h;++g){const p=u[g];p.skip||s(p,c,g)}}}function Q_(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,r){const i=t?Math.abs(s.x-r.x):0,o=n?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Ul(e,t,n,s,r){const i=[];return!r&&!e.isPointInArea(t)||Ga(e,n,t,function(a,l,c){!r&&!gx(a,e.chartArea,0)||a.inRange(t.x,t.y,s)&&i.push({element:a,datasetIndex:l,index:c})},!0),i}function X_(e,t,n,s){let r=[];function i(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:f}=lx(o,{x:t.x,y:t.y});ya(f,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return Ga(e,n,t,i),r}function G_(e,t,n,s,r,i){let o=[];const a=Q_(n);let l=Number.POSITIVE_INFINITY;function c(u,f,h){const g=u.inRange(t.x,t.y,r);if(s&&!g)return;const p=u.getCenterPoint(r);if(!(!!i||e.isPointInArea(p))&&!g)return;const x=a(t,p);x<l?(o=[{element:u,datasetIndex:f,index:h}],l=x):x===l&&o.push({element:u,datasetIndex:f,index:h})}return Ga(e,n,t,c),o}function Wl(e,t,n,s,r,i){return!i&&!e.isPointInArea(t)?[]:n==="r"&&!s?X_(e,t,n,r):G_(e,t,n,s,r,i)}function qh(e,t,n,s,r){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Ga(e,n,t,(l,c,u)=>{l[o]&&l[o](t[n],r)&&(i.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,r))}),s&&!a?[]:i}var J_={modes:{index(e,t,n,s){const r=Gn(t,e),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Ul(e,r,i,s,o):Wl(e,r,i,!1,s,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,f=c.data[u];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,n,s){const r=Gn(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Ul(e,r,i,s,o):Wl(e,r,i,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,n,s){const r=Gn(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return Ul(e,r,i,s,o)},nearest(e,t,n,s){const r=Gn(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return Wl(e,r,i,n.intersect,s,o)},x(e,t,n,s){const r=Gn(t,e);return qh(e,r,"x",n.intersect,s)},y(e,t,n,s){const r=Gn(t,e);return qh(e,r,"y",n.intersect,s)}}};const Cx=["left","top","right","bottom"];function kr(e,t){return e.filter(n=>n.pos===t)}function Yh(e,t){return e.filter(n=>Cx.indexOf(n.pos)===-1&&n.box.axis===t)}function Sr(e,t){return e.sort((n,s)=>{const r=t?s:n,i=t?n:s;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function Z_(e){const t=[];let n,s,r,i,o,a;for(n=0,s=(e||[]).length;n<s;++n)r=e[n],{position:i,options:{stack:o,stackWeight:a=1}}=r,t.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&i+o,stackWeight:a});return t}function e5(e){const t={};for(const n of e){const{stack:s,pos:r,stackWeight:i}=n;if(!s||!Cx.includes(r))continue;const o=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}function t5(e,t){const n=e5(e),{vBoxMaxWidth:s,hBoxMaxHeight:r}=t;let i,o,a;for(i=0,o=e.length;i<o;++i){a=e[i];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&t.availableWidth,a.height=r):(a.width=s,a.height=u?u*r:l&&t.availableHeight)}return n}function n5(e){const t=Z_(e),n=Sr(t.filter(c=>c.box.fullSize),!0),s=Sr(kr(t,"left"),!0),r=Sr(kr(t,"right")),i=Sr(kr(t,"top"),!0),o=Sr(kr(t,"bottom")),a=Yh(t,"x"),l=Yh(t,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:kr(t,"chartArea"),vertical:s.concat(r).concat(l),horizontal:i.concat(o).concat(a)}}function Kh(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function Ax(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function s5(e,t,n,s){const{pos:r,box:i}=n,o=e.maxPadding;if(!ee(r)){n.size&&(e[r]-=n.size);const f=s[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?i.height:i.width),n.size=f.size/f.count,e[r]+=n.size}i.getPadding&&Ax(o,i.getPadding());const a=Math.max(0,t.outerWidth-Kh(o,e,"left","right")),l=Math.max(0,t.outerHeight-Kh(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function r5(e){const t=e.maxPadding;function n(s){const r=Math.max(t[s]-e[s],0);return e[s]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function i5(e,t){const n=t.maxPadding;function s(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{i[o]=Math.max(t[o],n[o])}),i}return s(e?["left","right"]:["top","bottom"])}function Tr(e,t,n,s){const r=[];let i,o,a,l,c,u;for(i=0,o=e.length,c=0;i<o;++i){a=e[i],l=a.box,l.update(a.width||t.w,a.height||t.h,i5(a.horizontal,t));const{same:f,other:h}=s5(t,n,a,s);c|=f&&r.length,u=u||h,l.fullSize||r.push(a)}return c&&Tr(r,t,n,s)||u}function io(e,t,n,s,r){e.top=n,e.left=t,e.right=t+s,e.bottom=n+r,e.width=s,e.height=r}function Qh(e,t,n,s){const r=n.padding;let{x:i,y:o}=t;for(const a of e){const l=a.box,c=s[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const f=t.w*u,h=c.size||l.height;yi(c.start)&&(o=c.start),l.fullSize?io(l,r.left,o,n.outerWidth-r.right-r.left,h):io(l,t.left+c.placed,o,f,h),c.start=o,c.placed+=f,o=l.bottom}else{const f=t.h*u,h=c.size||l.width;yi(c.start)&&(i=c.start),l.fullSize?io(l,i,r.top,h,n.outerHeight-r.bottom-r.top):io(l,i,t.top+c.placed,h,f),c.start=i,c.placed+=f,i=l.right}}t.x=i,t.y=o}var gt={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const r=bt(e.options.layout.padding),i=Math.max(t-r.width,0),o=Math.max(n-r.height,0),a=n5(e.boxes),l=a.vertical,c=a.horizontal;re(e.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=l.reduce((y,x)=>x.box.options&&x.box.options.display===!1?y:y+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},r);Ax(h,bt(s));const g=Object.assign({maxPadding:h,w:i,h:o,x:r.left,y:r.top},r),p=t5(l.concat(c),f);Tr(a.fullSize,g,f,p),Tr(l,g,f,p),Tr(c,g,f,p)&&Tr(l,g,f,p),r5(g),Qh(a.leftAndTop,g,f,p),g.x+=g.w,g.y+=g.h,Qh(a.rightAndBottom,g,f,p),e.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},re(a.chartArea,y=>{const x=y.box;Object.assign(x,e.chartArea),x.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class Nx{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,r){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,r?Math.floor(n/r):s)}}isAttached(t){return!0}updateConfig(t){}}class o5 extends Nx{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Oo="$chartjs",a5={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Xh=e=>e===null||e==="";function l5(e,t){const n=e.style,s=e.getAttribute("height"),r=e.getAttribute("width");if(e[Oo]={initial:{height:s,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Xh(r)){const i=Dh(e,"width");i!==void 0&&(e.width=i)}if(Xh(s))if(e.style.height==="")e.height=e.width/(t||2);else{const i=Dh(e,"height");i!==void 0&&(e.height=i)}return e}const Rx=x_?{passive:!0}:!1;function c5(e,t,n){e&&e.addEventListener(t,n,Rx)}function u5(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,Rx)}function d5(e,t){const n=a5[e.type]||e.type,{x:s,y:r}=Gn(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:r!==void 0?r:null}}function ba(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function f5(e,t,n){const s=e.canvas,r=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||ba(a.addedNodes,s),o=o&&!ba(a.removedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function h5(e,t,n){const s=e.canvas,r=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||ba(a.removedNodes,s),o=o&&!ba(a.addedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const wi=new Map;let Gh=0;function Mx(){const e=window.devicePixelRatio;e!==Gh&&(Gh=e,wi.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function p5(e,t){wi.size||window.addEventListener("resize",Mx),wi.set(e,t)}function m5(e){wi.delete(e),wi.size||window.removeEventListener("resize",Mx)}function g5(e,t,n){const s=e.canvas,r=s&&Cd(s);if(!r)return;const i=fx((a,l)=>{const c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||i(c,u)});return o.observe(r),p5(e,i),o}function Hl(e,t,n){n&&n.disconnect(),t==="resize"&&m5(e)}function x5(e,t,n){const s=e.canvas,r=fx(i=>{e.ctx!==null&&n(d5(i,e))},e);return c5(s,t,r),r}class y5 extends Nx{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(l5(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[Oo])return!1;const s=n[Oo].initial;["height","width"].forEach(i=>{const o=s[i];ae(o)?n.removeAttribute(i):n.setAttribute(i,o)});const r=s.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[Oo],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const r=t.$proxies||(t.$proxies={}),o={attach:f5,detach:h5,resize:g5}[n]||x5;r[n]=o(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),r=s[n];if(!r)return;({attach:Hl,detach:Hl,resize:Hl}[n]||u5)(t,n,r),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,r){return g_(t,n,s,r)}isAttached(t){const n=t&&Cd(t);return!!(n&&n.isConnected)}}function v5(e){return!Ed()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?o5:y5}class ln{constructor(){Y(this,"x");Y(this,"y");Y(this,"active",!1);Y(this,"options");Y(this,"$animations")}tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return xa(this.x)&&xa(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const r={};return t.forEach(i=>{r[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),r}}Y(ln,"defaults",{}),Y(ln,"defaultRoutes");function w5(e,t){const n=e.options.ticks,s=b5(e),r=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?S5(t):[],o=i.length,a=i[0],l=i[o-1],c=[];if(o>r)return _5(t,c,i,o/r),c;const u=k5(i,t,r);if(o>0){let f,h;const g=o>1?Math.round((l-a)/(o-1)):null;for(oo(t,c,u,ae(g)?0:a-g,a),f=0,h=o-1;f<h;f++)oo(t,c,u,i[f],i[f+1]);return oo(t,c,u,l,ae(g)?t.length:l+g),c}return oo(t,c,u),c}function b5(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(s,r))}function k5(e,t,n){const s=j5(e),r=t.length/n;if(!s)return Math.max(r,1);const i=ES(s);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>r)return l}return Math.max(r,1)}function S5(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function _5(e,t,n,s){let r=0,i=n[0],o;for(s=Math.ceil(s),o=0;o<e.length;o++)o===i&&(t.push(e[o]),r++,i=n[r*s])}function oo(e,t,n,s,r){const i=J(s,0),o=Math.min(J(r,e.length),e.length);let a=0,l,c,u;for(n=Math.ceil(n),r&&(l=r-s,n=l/Math.floor(l/n)),u=i;u<0;)a++,u=Math.round(i+a*n);for(c=Math.max(i,0);c<o;c++)c===u&&(t.push(e[c]),a++,u=Math.round(i+a*n))}function j5(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const E5=e=>e==="left"?"right":e==="right"?"left":e,Jh=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,Zh=(e,t)=>Math.min(t||e,e);function ep(e,t){const n=[],s=e.length/t,r=e.length;let i=0;for(;i<r;i+=s)n.push(e[Math.floor(i)]);return n}function C5(e,t,n){const s=e.ticks.length,r=Math.min(t,s-1),i=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(r),c;if(!(n&&(s===1?c=Math.max(l-i,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(r-1))/2,l+=r<t?c:-c,l<i-a||l>o+a)))return l}function A5(e,t){re(e,n=>{const s=n.gc,r=s.length/2;let i;if(r>t){for(i=0;i<r;++i)delete n.data[s[i]];s.splice(0,r)}})}function _r(e){return e.drawTicks?e.tickLength:0}function tp(e,t){if(!e.display)return 0;const n=$e(e.font,t),s=bt(e.padding);return(Ce(e.text)?e.text.length:1)*n.lineHeight+s.height}function N5(e,t){return cr(e,{scale:t,type:"scale"})}function R5(e,t,n){return cr(e,{tick:n,index:t,type:"tick"})}function M5(e,t,n){let s=yd(e);return(n&&t!=="right"||!n&&t==="right")&&(s=E5(s)),s}function P5(e,t,n,s){const{top:r,left:i,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let f=0,h,g,p;const y=o-r,x=a-i;if(e.isHorizontal()){if(g=Fe(s,i,a),ee(n)){const m=Object.keys(n)[0],w=n[m];p=u[m].getPixelForValue(w)+y-t}else n==="center"?p=(c.bottom+c.top)/2+y-t:p=Jh(e,n,t);h=a-i}else{if(ee(n)){const m=Object.keys(n)[0],w=n[m];g=u[m].getPixelForValue(w)-x+t}else n==="center"?g=(c.left+c.right)/2-x+t:g=Jh(e,n,t);p=Fe(s,o,r),f=n==="left"?-Ne:Ne}return{titleX:g,titleY:p,maxWidth:h,rotation:f}}class ur extends ln{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:r}=this;return t=It(t,Number.POSITIVE_INFINITY),n=It(n,Number.NEGATIVE_INFINITY),s=It(s,Number.POSITIVE_INFINITY),r=It(r,Number.NEGATIVE_INFINITY),{min:It(t,s),max:It(n,r),minDefined:wt(t),maxDefined:wt(n)}}getMinMax(t){let{min:n,max:s,minDefined:r,maxDefined:i}=this.getUserBounds(),o;if(r&&i)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),r||(n=Math.min(n,o.min)),i||(s=Math.max(s,o.max));return n=i&&n>s?s:n,s=r&&n>s?n:s,{min:It(n,It(s,n)),max:It(s,It(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ue(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:r,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=t_(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?ep(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=w5(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ue(this.options.afterUpdate,[this])}beforeSetDimensions(){ue(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ue(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ue(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ue(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,r,i;for(s=0,r=t.length;s<r;s++)i=t[s],i.label=ue(n.callback,[i.value,s,t],this)}afterTickToLabelConversion(){ue(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ue(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=Zh(this.ticks.length,t.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!n.display||r>=i||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),f=u.widest.width,h=u.highest.height,g=Ge(this.chart.width-f,0,this.maxWidth);a=t.offset?this.maxWidth/s:g/(s-1),f+6>a&&(a=g/(s-(t.offset?.5:1)),l=this.maxHeight-_r(t.grid)-n.padding-tp(t.title,this.chart.options.font),c=Math.sqrt(f*f+h*h),o=RS(Math.min(Math.asin(Ge((u.highest.height+6)/a,-1,1)),Math.asin(Ge(l/c,-1,1))-Math.asin(Ge(h/c,-1,1)))),o=Math.max(r,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){ue(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ue(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:r,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=tp(r,n.options.font);if(a?(t.width=this.maxWidth,t.height=_r(i)+l):(t.height=this.maxHeight,t.width=_r(i)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:f,highest:h}=this._getLabelSizes(),g=s.padding*2,p=tn(this.labelRotation),y=Math.cos(p),x=Math.sin(p);if(a){const m=s.mirror?0:x*f.width+y*h.height;t.height=Math.min(this.maxHeight,t.height+m+g)}else{const m=s.mirror?0:y*f.width+x*h.height;t.width=Math.min(this.maxWidth,t.width+m+g)}this._calculatePadding(c,u,x,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,r){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,g=0;l?c?(h=r*t.width,g=s*n.height):(h=s*t.height,g=r*n.width):i==="start"?g=n.width:i==="end"?h=t.width:i!=="inner"&&(h=t.width/2,g=n.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((g-f+o)*this.width/(this.width-f),0)}else{let u=n.height/2,f=t.height/2;i==="start"?(u=0,f=t.height):i==="end"&&(u=n.height,f=0),this.paddingTop=u+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ue(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)ae(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=ep(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:r,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/Zh(n,s));let c=0,u=0,f,h,g,p,y,x,m,w,b,k,S;for(f=0;f<n;f+=l){if(p=t[f].label,y=this._resolveTickFontOptions(f),r.font=x=y.string,m=i[x]=i[x]||{data:{},gc:[]},w=y.lineHeight,b=k=0,!ae(p)&&!Ce(p))b=Rh(r,m.data,m.gc,b,p),k=w;else if(Ce(p))for(h=0,g=p.length;h<g;++h)S=p[h],!ae(S)&&!Ce(S)&&(b=Rh(r,m.data,m.gc,b,S),k+=w);o.push(b),a.push(k),c=Math.max(b,c),u=Math.max(k,u)}A5(i,n);const E=o.indexOf(c),j=a.indexOf(u),_=A=>({width:o[A]||0,height:a[A]||0});return{first:_(0),last:_(n-1),widest:_(E),highest:_(j),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return PS(this._alignToPixels?Vn(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=R5(this.getContext(),t,s))}return this.$context||(this.$context=N5(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=tn(this.labelRotation),s=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*s>a*r?a/s:l/r:l*r<a*s?l/s:a/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,r=this.options,{grid:i,position:o,border:a}=r,l=i.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=_r(i),g=[],p=a.setContext(this.getContext()),y=p.display?p.width:0,x=y/2,m=function(I){return Vn(s,I,y)};let w,b,k,S,E,j,_,A,C,N,P,T;if(o==="top")w=m(this.bottom),j=this.bottom-h,A=w-x,N=m(t.top)+x,T=t.bottom;else if(o==="bottom")w=m(this.top),N=t.top,T=m(t.bottom)-x,j=w+x,A=this.top+h;else if(o==="left")w=m(this.right),E=this.right-h,_=w-x,C=m(t.left)+x,P=t.right;else if(o==="right")w=m(this.left),C=t.left,P=m(t.right)-x,E=w+x,_=this.left+h;else if(n==="x"){if(o==="center")w=m((t.top+t.bottom)/2+.5);else if(ee(o)){const I=Object.keys(o)[0],$=o[I];w=m(this.chart.scales[I].getPixelForValue($))}N=t.top,T=t.bottom,j=w+x,A=j+h}else if(n==="y"){if(o==="center")w=m((t.left+t.right)/2);else if(ee(o)){const I=Object.keys(o)[0],$=o[I];w=m(this.chart.scales[I].getPixelForValue($))}E=w-x,_=E-h,C=t.left,P=t.right}const R=J(r.ticks.maxTicksLimit,f),O=Math.max(1,Math.ceil(f/R));for(b=0;b<f;b+=O){const I=this.getContext(b),$=i.setContext(I),L=a.setContext(I),D=$.lineWidth,z=$.color,B=L.dash||[],q=L.dashOffset,Q=$.tickWidth,se=$.tickColor,he=$.tickBorderDash||[],te=$.tickBorderDashOffset;k=C5(this,b,l),k!==void 0&&(S=Vn(s,k,D),c?E=_=C=P=S:j=A=N=T=S,g.push({tx1:E,ty1:j,tx2:_,ty2:A,x1:C,y1:N,x2:P,y2:T,width:D,color:z,borderDash:B,borderDashOffset:q,tickWidth:Q,tickColor:se,tickBorderDash:he,tickBorderDashOffset:te}))}return this._ticksLength=f,this._borderValue=w,g}_computeLabelItems(t){const n=this.axis,s=this.options,{position:r,ticks:i}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:f}=i,h=_r(s.grid),g=h+u,p=f?-u:g,y=-tn(this.labelRotation),x=[];let m,w,b,k,S,E,j,_,A,C,N,P,T="middle";if(r==="top")E=this.bottom-p,j=this._getXAxisLabelAlignment();else if(r==="bottom")E=this.top+p,j=this._getXAxisLabelAlignment();else if(r==="left"){const O=this._getYAxisLabelAlignment(h);j=O.textAlign,S=O.x}else if(r==="right"){const O=this._getYAxisLabelAlignment(h);j=O.textAlign,S=O.x}else if(n==="x"){if(r==="center")E=(t.top+t.bottom)/2+g;else if(ee(r)){const O=Object.keys(r)[0],I=r[O];E=this.chart.scales[O].getPixelForValue(I)+g}j=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")S=(t.left+t.right)/2-g;else if(ee(r)){const O=Object.keys(r)[0],I=r[O];S=this.chart.scales[O].getPixelForValue(I)}j=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?T="top":l==="end"&&(T="bottom"));const R=this._getLabelSizes();for(m=0,w=a.length;m<w;++m){b=a[m],k=b.label;const O=i.setContext(this.getContext(m));_=this.getPixelForTick(m)+i.labelOffset,A=this._resolveTickFontOptions(m),C=A.lineHeight,N=Ce(k)?k.length:1;const I=N/2,$=O.color,L=O.textStrokeColor,D=O.textStrokeWidth;let z=j;o?(S=_,j==="inner"&&(m===w-1?z=this.options.reverse?"left":"right":m===0?z=this.options.reverse?"right":"left":z="center"),r==="top"?c==="near"||y!==0?P=-N*C+C/2:c==="center"?P=-R.highest.height/2-I*C+C:P=-R.highest.height+C/2:c==="near"||y!==0?P=C/2:c==="center"?P=R.highest.height/2-I*C:P=R.highest.height-N*C,f&&(P*=-1),y!==0&&!O.showLabelBackdrop&&(S+=C/2*Math.sin(y))):(E=_,P=(1-N)*C/2);let B;if(O.showLabelBackdrop){const q=bt(O.backdropPadding),Q=R.heights[m],se=R.widths[m];let he=P-q.top,te=0-q.left;switch(T){case"middle":he-=Q/2;break;case"bottom":he-=Q;break}switch(j){case"center":te-=se/2;break;case"right":te-=se;break;case"inner":m===w-1?te-=se:m>0&&(te-=se/2);break}B={left:te,top:he,width:se+q.width,height:Q+q.height,color:O.backdropColor}}x.push({label:k,font:A,textOffset:P,options:{rotation:y,color:$,strokeColor:L,strokeWidth:D,textAlign:z,textBaseline:T,translation:[S,E],backdrop:B}})}return x}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-tn(this.labelRotation))return t==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:r,padding:i}}=this.options,o=this._getLabelSizes(),a=t+i,l=o.widest.width;let c,u;return n==="left"?r?(u=this.right+i,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?r?(u=this.left+i,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:r,width:i,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,r,i,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(i=>i.value===t);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(i=0,o=r.length;i<o;++i){const l=r[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:r}}=this,i=s.setContext(this.getContext()),o=s.display?i.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,f,h;this.isHorizontal()?(c=Vn(t,this.left,o)-o/2,u=Vn(t,this.right,a)+a/2,f=h=l):(f=Vn(t,this.top,o)-o/2,h=Vn(t,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(c,f),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&wd(s,r);const i=this.getLabelItems(t);for(const o of i){const a=o.options,l=o.font,c=o.label,u=o.textOffset;vi(s,c,0,u,l,a)}r&&bd(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:r}}=this;if(!s.display)return;const i=$e(s.font),o=bt(s.padding),a=s.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||ee(n)?(l+=o.bottom,Ce(s.text)&&(l+=i.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:f,rotation:h}=P5(this,l,n,a);vi(t,s.text,0,0,i,{color:s.color,maxWidth:f,rotation:h,textAlign:M5(a,n,r),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=J(t.grid&&t.grid.z,-1),r=J(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ur.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[s]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return $e(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ao{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;L5(n)&&(s=this.register(n));const r=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in r||(r[i]=t,T5(t,o,s),this.override&&we.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,r=this.scope;s in n&&delete n[s],r&&s in we[r]&&(delete we[r][s],this.override&&delete ms[s])}}function T5(e,t,n){const s=xi(Object.create(null),[n?we.get(n):{},we.get(t),e.defaults]);we.set(t,s),e.defaultRoutes&&O5(t,e.defaultRoutes),e.descriptors&&we.describe(t,e.descriptors)}function O5(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),r=s.pop(),i=[e].concat(s).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");we.route(i,r,l,a)})}function L5(e){return"id"in e&&"defaults"in e}class D5{constructor(){this.controllers=new ao(Ys,"datasets",!0),this.elements=new ao(ln,"elements"),this.plugins=new ao(Object,"plugins"),this.scales=new ao(ur,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(r=>{const i=s||this._getRegistryForType(r);s||i.isForType(r)||i===this.plugins&&r.id?this._exec(t,i,r):re(r,o=>{const a=s||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,s){const r=gd(t);ue(s["before"+r],[],s),n[t](s),ue(s["after"+r],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const r=n.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return r}}var Bt=new D5;class I5{constructor(){this._init=[]}notify(t,n,s,r){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(i,t,n,s);return n==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,s,r){r=r||{};for(const i of t){const o=i.plugin,a=o[s],l=[n,r,i.options];if(ue(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){ae(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,r=J(s.options&&s.options.plugins,{}),i=F5(s);return r===!1&&!n?[]:B5(t,i,r,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,r=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,s),t,"stop"),this._notify(r(s,n),t,"start")}}function F5(e){const t={},n=[],s=Object.keys(Bt.plugins.items);for(let i=0;i<s.length;i++)n.push(Bt.getPlugin(s[i]));const r=e.plugins||[];for(let i=0;i<r.length;i++){const o=r[i];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function z5(e,t){return!t&&e===!1?null:e===!0?{}:e}function B5(e,{plugins:t,localIds:n},s,r){const i=[],o=e.getContext();for(const a of t){const l=a.id,c=z5(s[l],r);c!==null&&i.push({plugin:a,options:$5(e.config,{plugin:a,local:n[l]},c,o)})}return i}function $5(e,{plugin:t,local:n},s,r){const i=e.pluginScopeKeys(t),o=e.getOptionScopes(s,i);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function tu(e,t){const n=we.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function U5(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function W5(e,t){return e===t?"_index_":"_value_"}function np(e){if(e==="x"||e==="y"||e==="r")return e}function H5(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function nu(e,...t){if(np(e))return e;for(const n of t){const s=n.axis||H5(n.position)||e.length>1&&np(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function sp(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function V5(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return sp(e,"x",n[0])||sp(e,"y",n[0])}return{}}function q5(e,t){const n=ms[e.type]||{scales:{}},s=t.scales||{},r=tu(e.type,t),i=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!ee(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=nu(o,a,V5(o,e),we.scales[a.type]),c=W5(l,r),u=n.scales||{};i[o]=qr(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||tu(a,t),u=(ms[a]||{}).scales||{};Object.keys(u).forEach(f=>{const h=U5(f,l),g=o[h+"AxisID"]||h;i[g]=i[g]||Object.create(null),qr(i[g],[{axis:h},s[g],u[f]])})}),Object.keys(i).forEach(o=>{const a=i[o];qr(a,[we.scales[a.type],we.scale])}),i}function Px(e){const t=e.options||(e.options={});t.plugins=J(t.plugins,{}),t.scales=q5(e,t)}function Tx(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Y5(e){return e=e||{},e.data=Tx(e.data),Px(e),e}const rp=new Map,Ox=new Set;function lo(e,t){let n=rp.get(e);return n||(n=t(),rp.set(e,n),Ox.add(n)),n}const jr=(e,t,n)=>{const s=ps(t,n);s!==void 0&&e.add(s)};class K5{constructor(t){this._config=Y5(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Tx(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Px(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return lo(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return lo(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return lo(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return lo(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let r=s.get(t);return(!r||n)&&(r=new Map,s.set(t,r)),r}getOptionScopes(t,n,s){const{options:r,type:i}=this,o=this._cachedScopes(t,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{t&&(l.add(t),u.forEach(f=>jr(l,t,f))),u.forEach(f=>jr(l,r,f)),u.forEach(f=>jr(l,ms[i]||{},f)),u.forEach(f=>jr(l,we,f)),u.forEach(f=>jr(l,eu,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Ox.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,ms[n]||{},we.datasets[n]||{},{type:n},we,eu]}resolveNamedOptions(t,n,s,r=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=ip(this._resolverCache,t,r);let l=o;if(X5(o,n)){i.$shared=!1,s=zn(s)?s():s;const c=this.createResolver(t,s,a);l=nr(o,s,c)}for(const c of n)i[c]=l[c];return i}createResolver(t,n,s=[""],r){const{resolver:i}=ip(this._resolverCache,t,s);return ee(n)?nr(i,n,void 0,r):i}}function ip(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const r=n.join();let i=s.get(r);return i||(i={resolver:Sd(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(r,i)),i}const Q5=e=>ee(e)&&Object.getOwnPropertyNames(e).some(t=>zn(e[t]));function X5(e,t){const{isScriptable:n,isIndexable:s}=yx(e);for(const r of t){const i=n(r),o=s(r),a=(o||i)&&e[r];if(i&&(zn(a)||Q5(a))||o&&Ce(a))return!0}return!1}var G5="4.5.0";const J5=["top","bottom","left","right","chartArea"];function op(e,t){return e==="top"||e==="bottom"||J5.indexOf(e)===-1&&t==="x"}function ap(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function lp(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),ue(n&&n.onComplete,[e],t)}function Z5(e){const t=e.chart,n=t.options.animation;ue(n&&n.onProgress,[e],t)}function Lx(e){return Ed()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Lo={},cp=e=>{const t=Lx(e);return Object.values(Lo).filter(n=>n.canvas===t).pop()};function ej(e,t,n){const s=Object.keys(e);for(const r of s){const i=+r;if(i>=t){const o=e[r];delete e[r],(n>0||i>t)&&(e[i+n]=o)}}}function tj(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}var hn;let Ja=(hn=class{static register(...t){Bt.add(...t),up()}static unregister(...t){Bt.remove(...t),up()}constructor(t,n){const s=this.config=new K5(n),r=Lx(t),i=cp(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||v5(r)),this.platform.updateConfig(s);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=yS(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new I5,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=DS(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],Lo[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Kt.listen(this,"complete",lp),Kt.listen(this,"progress",Z5),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:r,_aspectRatio:i}=this;return ae(t)?n&&i?i:r?s/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Bt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Lh(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Mh(this.canvas,this.ctx),this}stop(){return Kt.stop(this),this}resize(t,n){Kt.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,r=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,n,i),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Lh(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),ue(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};re(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,r=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=nu(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),re(i,o=>{const a=o.options,l=a.id,c=nu(l,a),u=J(a.type,o.dtype);(a.position===void 0||op(a.position,c)!==op(o.dposition))&&(a.position=o.dposition),r[l]=!0;let f=null;if(l in s&&s[l].type===u)f=s[l];else{const h=Bt.getScale(u);f=new h({id:l,type:u,ctx:this.ctx,chart:this}),s[f.id]=f}f.init(a,t)}),re(r,(o,a)=>{o||delete s[a]}),re(s,o=>{gt.configure(this,o,o.options),gt.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((r,i)=>r.index-i.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(ap("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,r)=>{n.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){const i=n[s];let o=this.getDatasetMeta(s);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=i.indexAxis||tu(a,this.options),o.order=i.order||0,o.index=s,o.label=""+i.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=Bt.getController(a),{datasetElementType:c,dataElementType:u}=we.datasets[a];Object.assign(l,{dataElementType:Bt.getElement(u),datasetElementType:c&&Bt.getElement(c)}),o.controller=new l(this,s),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){re(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:f}=this.getDatasetMeta(c),h=!r&&i.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),r||re(i,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(ap("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){re(this.scales,t=>{gt.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!bh(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:i}of n){const o=s==="_removeElements"?-i:i;ej(t,r,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=i=>new Set(t.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),r=s(0);for(let i=1;i<n;i++)if(!bh(r,s(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gt.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],re(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,zn(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),r={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Kt.has(this)?this.attached&&!Kt.running(this)&&Kt.start(this):(this.draw(),lp({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let r,i;for(r=0,i=n.length;r<i;++r){const o=n[r];(!t||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},r=b_(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&wd(n,r),t.controller.draw(),r&&bd(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return gx(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,r){const i=J_.modes[n];return typeof i=="function"?i(this,t,s,r):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let r=s.filter(i=>i&&i._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=cr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const r=s?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,r);yi(n)?(i.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),o.update(i,{visible:s}),this.update(a=>a.datasetIndex===t?r:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Kt.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Mh(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Lo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(i,o)=>{n.addEventListener(this,i,o),t[i]=o},r=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};re(this.options.events,i=>s(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},r=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),s("resize",i),s("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){re(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},re(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const r=s?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!pa(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const r=this.options.hover,i=(l,c)=>l.filter(u=>!c.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),o=i(n,t),a=s?t:i(t,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const i=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(i||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:r=[],options:i}=this,o=n,a=this._getActiveElements(t,r,s,o),l=_S(t),c=tj(t,this._lastEvent,s,l);s&&(this._lastEvent=null,ue(i.onHover,[t,a,this],this),l&&ue(i.onClick,[t,a,this],this));const u=!pa(a,r);return(u||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=c,u}_getActiveElements(t,n,s,r){if(t.type==="mouseout")return[];if(!s)return n;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,r)}},Y(hn,"defaults",we),Y(hn,"instances",Lo),Y(hn,"overrides",ms),Y(hn,"registry",Bt),Y(hn,"version",G5),Y(hn,"getChart",cp),hn);function up(){return re(Ja.instances,e=>e._plugins.invalidate())}function nj(e,t,n){const{startAngle:s,x:r,y:i,outerRadius:o,innerRadius:a,options:l}=t,{borderWidth:c,borderJoinStyle:u}=l,f=Math.min(c/o,$t(s-n));if(e.beginPath(),e.arc(r,i,o-c/2,s+f/2,n-f/2),a>0){const h=Math.min(c/a,$t(s-n));e.arc(r,i,a+c/2,n-h/2,s+h/2,!0)}else{const h=Math.min(c/2,o*$t(s-n));if(u==="round")e.arc(r,i,h,n-oe/2,s+oe/2,!0);else if(u==="bevel"){const g=2*h*h,p=-g*Math.cos(n+oe/2)+r,y=-g*Math.sin(n+oe/2)+i,x=g*Math.cos(s+oe/2)+r,m=g*Math.sin(s+oe/2)+i;e.lineTo(p,y),e.lineTo(x,m)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function sj(e,t,n){const{startAngle:s,pixelMargin:r,x:i,y:o,outerRadius:a,innerRadius:l}=t;let c=r/a;e.beginPath(),e.arc(i,o,a,s-c,n+c),l>r?(c=r/l,e.arc(i,o,l,n+c,s-c,!0)):e.arc(i,o,r,n+Ne,s-Ne),e.closePath(),e.clip()}function rj(e){return kd(e,["outerStart","outerEnd","innerStart","innerEnd"])}function ij(e,t,n,s){const r=rj(e.options.borderRadius),i=(n-t)/2,o=Math.min(i,s*t/2),a=l=>{const c=(n-Math.min(i,l))*s/2;return Ge(l,0,Math.min(i,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Ge(r.innerStart,0,o),innerEnd:Ge(r.innerEnd,0,o)}}function ks(e,t,n,s){return{x:n+e*Math.cos(t),y:s+e*Math.sin(t)}}function ka(e,t,n,s,r,i){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,f=Math.max(t.outerRadius+s+n-c,0),h=u>0?u+s+n+c:0;let g=0;const p=r-l;if(s){const O=u>0?u-s:0,I=f>0?f-s:0,$=(O+I)/2,L=$!==0?p*$/($+s):p;g=(p-L)/2}const y=Math.max(.001,p*f-n/oe)/f,x=(p-y)/2,m=l+x+g,w=r-x-g,{outerStart:b,outerEnd:k,innerStart:S,innerEnd:E}=ij(t,h,f,w-m),j=f-b,_=f-k,A=m+b/j,C=w-k/_,N=h+S,P=h+E,T=m+S/N,R=w-E/P;if(e.beginPath(),i){const O=(A+C)/2;if(e.arc(o,a,f,A,O),e.arc(o,a,f,O,C),k>0){const D=ks(_,C,o,a);e.arc(D.x,D.y,k,C,w+Ne)}const I=ks(P,w,o,a);if(e.lineTo(I.x,I.y),E>0){const D=ks(P,R,o,a);e.arc(D.x,D.y,E,w+Ne,R+Math.PI)}const $=(w-E/h+(m+S/h))/2;if(e.arc(o,a,h,w-E/h,$,!0),e.arc(o,a,h,$,m+S/h,!0),S>0){const D=ks(N,T,o,a);e.arc(D.x,D.y,S,T+Math.PI,m-Ne)}const L=ks(j,m,o,a);if(e.lineTo(L.x,L.y),b>0){const D=ks(j,A,o,a);e.arc(D.x,D.y,b,m-Ne,A)}}else{e.moveTo(o,a);const O=Math.cos(A)*f+o,I=Math.sin(A)*f+a;e.lineTo(O,I);const $=Math.cos(C)*f+o,L=Math.sin(C)*f+a;e.lineTo($,L)}e.closePath()}function oj(e,t,n,s,r){const{fullCircles:i,startAngle:o,circumference:a}=t;let l=t.endAngle;if(i){ka(e,t,n,s,l,r);for(let c=0;c<i;++c)e.fill();isNaN(a)||(l=o+(a%_e||_e))}return ka(e,t,n,s,l,r),e.fill(),l}function aj(e,t,n,s,r){const{fullCircles:i,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:f,borderDashOffset:h,borderRadius:g}=l,p=l.borderAlign==="inner";if(!c)return;e.setLineDash(f||[]),e.lineDashOffset=h,p?(e.lineWidth=c*2,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let y=t.endAngle;if(i){ka(e,t,n,s,y,r);for(let x=0;x<i;++x)e.stroke();isNaN(a)||(y=o+(a%_e||_e))}p&&sj(e,t,y),l.selfJoin&&y-o>=oe&&g===0&&u!=="miter"&&nj(e,t,y),i||(ka(e,t,n,s,y,r),e.stroke())}class Or extends ln{constructor(n){super();Y(this,"circumference");Y(this,"endAngle");Y(this,"fullCircles");Y(this,"innerRadius");Y(this,"outerRadius");Y(this,"pixelMargin");Y(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.getProps(["x","y"],r),{angle:o,distance:a}=lx(i,{x:n,y:s}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),g=(this.options.spacing+this.options.borderWidth)/2,p=J(h,c-l),y=ya(o,l,c)&&l!==c,x=p>=_e||y,m=ss(a,u+g,f+g);return x&&m}getCenterPoint(n){const{x:s,y:r,startAngle:i,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,f=(i+o)/2,h=(a+l+u+c)/2;return{x:s+Math.cos(f)*h,y:r+Math.sin(f)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:r}=this,i=(s.offset||0)/4,o=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=r>_e?Math.floor(r/_e):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const c=1-Math.sin(Math.min(oe,r||0)),u=i*c;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,oj(n,this,u,o,a),aj(n,this,u,o,a),n.restore()}}Y(Or,"id","arc"),Y(Or,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Y(Or,"defaultRoutes",{backgroundColor:"backgroundColor"}),Y(Or,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Dx(e,t){const{x:n,y:s,base:r,width:i,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,f;return e.horizontal?(f=o/2,a=Math.min(n,r),l=Math.max(n,r),c=s-f,u=s+f):(f=i/2,a=n-f,l=n+f,c=Math.min(s,r),u=Math.max(s,r)),{left:a,top:c,right:l,bottom:u}}function _n(e,t,n,s){return e?0:Ge(t,n,s)}function lj(e,t,n){const s=e.options.borderWidth,r=e.borderSkipped,i=xx(s);return{t:_n(r.top,i.top,0,n),r:_n(r.right,i.right,0,t),b:_n(r.bottom,i.bottom,0,n),l:_n(r.left,i.left,0,t)}}function cj(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,i=Vs(r),o=Math.min(t,n),a=e.borderSkipped,l=s||ee(r);return{topLeft:_n(!l||a.top||a.left,i.topLeft,0,o),topRight:_n(!l||a.top||a.right,i.topRight,0,o),bottomLeft:_n(!l||a.bottom||a.left,i.bottomLeft,0,o),bottomRight:_n(!l||a.bottom||a.right,i.bottomRight,0,o)}}function uj(e){const t=Dx(e),n=t.right-t.left,s=t.bottom-t.top,r=lj(e,n/2,s/2),i=cj(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:i},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function Vl(e,t,n,s){const r=t===null,i=n===null,a=e&&!(r&&i)&&Dx(e,s);return a&&(r||ss(t,a.left,a.right))&&(i||ss(n,a.top,a.bottom))}function dj(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function fj(e,t){e.rect(t.x,t.y,t.w,t.h)}function ql(e,t,n={}){const s=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-s,o=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+s,y:e.y+r,w:e.w+i,h:e.h+o,radius:e.radius}}class Do extends ln{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:s,backgroundColor:r}}=this,{inner:i,outer:o}=uj(this),a=dj(o.radius)?va:fj;t.save(),(o.w!==i.w||o.h!==i.h)&&(t.beginPath(),a(t,ql(o,n,i)),t.clip(),a(t,ql(i,-n,o)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),a(t,ql(i,n)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,n,s){return Vl(this,t,n,s)}inXRange(t,n){return Vl(this,t,null,n)}inYRange(t,n){return Vl(this,null,t,n)}getCenterPoint(t){const{x:n,y:s,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(n+r)/2:n,y:i?s:(s+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Y(Do,"id","bar"),Y(Do,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Y(Do,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const dp=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},hj=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class fp extends ln{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=ue(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,r)=>t.sort(s,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,r=$e(s.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=dp(s,i);let c,u;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,i,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,r){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let f=t;i.textAlign="left",i.textBaseline="middle";let h=-1,g=-u;return this.legendItems.forEach((p,y)=>{const x=s+n/2+i.measureText(p.text).width;(y===0||c[c.length-1]+x+2*a>o)&&(f+=u,c[c.length-(y>0?0:1)]=0,g+=u,h++),l[y]={left:0,top:g,row:h,width:x,height:r},c[c.length-1]+=x+a}),f}_fitCols(t,n,s,r){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let f=a,h=0,g=0,p=0,y=0;return this.legendItems.forEach((x,m)=>{const{itemWidth:w,itemHeight:b}=pj(s,n,i,x,r);m>0&&g+b+2*a>u&&(f+=h+a,c.push({width:h,height:g}),p+=h+a,y++,h=g=0),l[m]={left:p,top:g,col:y,width:w,height:b},h=Math.max(h,w),g+=b+a}),f+=h,c.push({width:h,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:r},rtl:i}}=this,o=qs(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=Fe(s,this.left+r,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Fe(s,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+t+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=Fe(s,this.top+t+r,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Fe(s,this.top+t+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;wd(t,this),this._draw(),bd(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:r}=this,{align:i,labels:o}=t,a=we.color,l=qs(t.rtl,this.left,this.width),c=$e(o.font),{padding:u}=o,f=c.size,h=f/2;let g;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:p,boxHeight:y,itemHeight:x}=dp(o,f),m=function(E,j,_){if(isNaN(p)||p<=0||isNaN(y)||y<0)return;r.save();const A=J(_.lineWidth,1);if(r.fillStyle=J(_.fillStyle,a),r.lineCap=J(_.lineCap,"butt"),r.lineDashOffset=J(_.lineDashOffset,0),r.lineJoin=J(_.lineJoin,"miter"),r.lineWidth=A,r.strokeStyle=J(_.strokeStyle,a),r.setLineDash(J(_.lineDash,[])),o.usePointStyle){const C={radius:y*Math.SQRT2/2,pointStyle:_.pointStyle,rotation:_.rotation,borderWidth:A},N=l.xPlus(E,p/2),P=j+h;mx(r,C,N,P,o.pointStyleWidth&&p)}else{const C=j+Math.max((f-y)/2,0),N=l.leftForLtr(E,p),P=Vs(_.borderRadius);r.beginPath(),Object.values(P).some(T=>T!==0)?va(r,{x:N,y:C,w:p,h:y,radius:P}):r.rect(N,C,p,y),r.fill(),A!==0&&r.stroke()}r.restore()},w=function(E,j,_){vi(r,_.text,E,j+x/2,c,{strikethrough:_.hidden,textAlign:l.textAlign(_.textAlign)})},b=this.isHorizontal(),k=this._computeTitleHeight();b?g={x:Fe(i,this.left+u,this.right-s[0]),y:this.top+u+k,line:0}:g={x:this.left+u,y:Fe(i,this.top+k+u,this.bottom-n[0].height),line:0},kx(this.ctx,t.textDirection);const S=x+u;this.legendItems.forEach((E,j)=>{r.strokeStyle=E.fontColor,r.fillStyle=E.fontColor;const _=r.measureText(E.text).width,A=l.textAlign(E.textAlign||(E.textAlign=o.textAlign)),C=p+h+_;let N=g.x,P=g.y;l.setWidth(this.width),b?j>0&&N+C+u>this.right&&(P=g.y+=S,g.line++,N=g.x=Fe(i,this.left+u,this.right-s[g.line])):j>0&&P+S>this.bottom&&(N=g.x=N+n[g.line].width+u,g.line++,P=g.y=Fe(i,this.top+k+u,this.bottom-n[g.line].height));const T=l.x(N);if(m(T,P,E),N=IS(A,N+p+h,b?N+C:this.right,t.rtl),w(l.x(N),P,E),b)g.x+=C+u;else if(typeof E.text!="string"){const R=c.lineHeight;g.y+=Ix(E,R)+u}else g.y+=S}),Sx(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=$e(n.font),r=bt(n.padding);if(!n.display)return;const i=qs(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,c=r.top+l;let u,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,f=Fe(t.align,f,this.right-h);else{const p=this.columnSizes.reduce((y,x)=>Math.max(y,x.height),0);u=c+Fe(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const g=Fe(a,f,f+h);o.textAlign=i.textAlign(yd(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,vi(o,n.text,g,u,s)}_computeTitleHeight(){const t=this.options.title,n=$e(t.font),s=bt(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,r,i;if(ss(t,this.left,this.right)&&ss(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(r=i[s],ss(t,r.left,r.left+r.width)&&ss(n,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!xj(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,i=hj(r,s);r&&!i&&ue(n.onLeave,[t,r,this],this),this._hoveredItem=s,s&&!i&&ue(n.onHover,[t,s,this],this)}else s&&ue(n.onClick,[t,s,this],this)}}function pj(e,t,n,s,r){const i=mj(s,e,t,n),o=gj(r,s,t.lineHeight);return{itemWidth:i,itemHeight:o}}function mj(e,t,n,s){let r=e.text;return r&&typeof r!="string"&&(r=r.reduce((i,o)=>i.length>o.length?i:o)),t+n.size/2+s.measureText(r).width}function gj(e,t,n){let s=e;return typeof t.text!="string"&&(s=Ix(t,n)),s}function Ix(e,t){const n=e.text?e.text.length:0;return t*n}function xj(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var yj={id:"legend",_element:fp,start(e,t,n){const s=e.legend=new fp({ctx:e.ctx,options:n,chart:e});gt.configure(e,s,n),gt.addBox(e,s)},stop(e){gt.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;gt.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,r=n.chart;r.isDatasetVisible(s)?(r.hide(s),t.hidden=!0):(r.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:r,color:i,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=bt(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Fx extends ln{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const r=Ce(s.text)?s.text.length:1;this._padding=bt(s.padding);const i=r*$e(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:r,right:i,options:o}=this,a=o.align;let l=0,c,u,f;return this.isHorizontal()?(u=Fe(a,s,i),f=n+t,c=i-s):(o.position==="left"?(u=s+t,f=Fe(a,r,n),l=oe*-.5):(u=i-t,f=Fe(a,n,r),l=oe*.5),c=r-n),{titleX:u,titleY:f,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=$e(n.font),i=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(i);vi(t,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:c,textAlign:yd(n.align),textBaseline:"middle",translation:[o,a]})}}function vj(e,t){const n=new Fx({ctx:e.ctx,options:t,chart:e});gt.configure(e,n,t),gt.addBox(e,n),e.titleBlock=n}var wj={id:"title",_element:Fx,start(e,t,n){vj(e,n)},stop(e){const t=e.titleBlock;gt.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;gt.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Lr={average(e){if(!e.length)return!1;let t,n,s=new Set,r=0,i=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),r+=l.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:r/i}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,r=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=e.length;i<o;++i){const l=e[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=MS(t,c);u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function Ft(e,t){return t&&(Ce(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Qt(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function bj(e,t){const{element:n,datasetIndex:s,index:r}=t,i=e.getDatasetMeta(s).controller,{label:o,value:a}=i.getLabelAndValue(r);return{chart:e,label:o,parsed:i.getParsed(r),raw:e.data.datasets[s].data[r],formattedValue:a,dataset:i.getDataset(),dataIndex:r,datasetIndex:s,element:n}}function hp(e,t){const n=e.chart.ctx,{body:s,footer:r,title:i}=e,{boxWidth:o,boxHeight:a}=t,l=$e(t.bodyFont),c=$e(t.titleFont),u=$e(t.footerFont),f=i.length,h=r.length,g=s.length,p=bt(t.padding);let y=p.height,x=0,m=s.reduce((k,S)=>k+S.before.length+S.lines.length+S.after.length,0);if(m+=e.beforeBody.length+e.afterBody.length,f&&(y+=f*c.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),m){const k=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=g*k+(m-g)*l.lineHeight+(m-1)*t.bodySpacing}h&&(y+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let w=0;const b=function(k){x=Math.max(x,n.measureText(k).width+w)};return n.save(),n.font=c.string,re(e.title,b),n.font=l.string,re(e.beforeBody.concat(e.afterBody),b),w=t.displayColors?o+2+t.boxPadding:0,re(s,k=>{re(k.before,b),re(k.lines,b),re(k.after,b)}),w=0,n.font=u.string,re(e.footer,b),n.restore(),x+=p.width,{width:x,height:y}}function kj(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function Sj(e,t,n,s){const{x:r,width:i}=s,o=n.caretSize+n.caretPadding;if(e==="left"&&r+i+o>t.width||e==="right"&&r-i-o<0)return!0}function _j(e,t,n,s){const{x:r,width:i}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return s==="center"?c=r<=(a+l)/2?"left":"right":r<=i/2?c="left":r>=o-i/2&&(c="right"),Sj(c,e,t,n)&&(c="center"),c}function pp(e,t,n){const s=n.yAlign||t.yAlign||kj(e,n);return{xAlign:n.xAlign||t.xAlign||_j(e,t,n,s),yAlign:s}}function jj(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function Ej(e,t,n){let{y:s,height:r}=e;return t==="top"?s+=n:t==="bottom"?s-=r+n:s-=r/2,s}function mp(e,t,n,s){const{caretSize:r,caretPadding:i,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=r+i,{topLeft:u,topRight:f,bottomLeft:h,bottomRight:g}=Vs(o);let p=jj(t,a);const y=Ej(t,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,h)+r:a==="right"&&(p+=Math.max(f,g)+r),{x:Ge(p,0,s.width-t.width),y:Ge(y,0,s.height-t.height)}}function co(e,t,n){const s=bt(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function gp(e){return Ft([],Qt(e))}function Cj(e,t,n){return cr(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function xp(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const zx={beforeTitle:Yt,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:Yt,beforeBody:Yt,beforeLabel:Yt,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ae(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Yt,afterBody:Yt,beforeFooter:Yt,footer:Yt,afterFooter:Yt};function Ye(e,t,n,s){const r=e[t].call(n,s);return typeof r>"u"?zx[t].call(n,s):r}class su extends ln{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,i=new _x(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Cj(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,r=Ye(s,"beforeTitle",this,t),i=Ye(s,"title",this,t),o=Ye(s,"afterTitle",this,t);let a=[];return a=Ft(a,Qt(r)),a=Ft(a,Qt(i)),a=Ft(a,Qt(o)),a}getBeforeBody(t,n){return gp(Ye(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,r=[];return re(t,i=>{const o={before:[],lines:[],after:[]},a=xp(s,i);Ft(o.before,Qt(Ye(a,"beforeLabel",this,i))),Ft(o.lines,Ye(a,"label",this,i)),Ft(o.after,Qt(Ye(a,"afterLabel",this,i))),r.push(o)}),r}getAfterBody(t,n){return gp(Ye(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,r=Ye(s,"beforeFooter",this,t),i=Ye(s,"footer",this,t),o=Ye(s,"afterFooter",this,t);let a=[];return a=Ft(a,Qt(r)),a=Ft(a,Qt(i)),a=Ft(a,Qt(o)),a}_createItems(t){const n=this._active,s=this.chart.data,r=[],i=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(bj(this.chart,n[l]));return t.filter&&(a=a.filter((u,f,h)=>t.filter(u,f,h,s))),t.itemSort&&(a=a.sort((u,f)=>t.itemSort(u,f,s))),re(a,u=>{const f=xp(t.callbacks,u);r.push(Ye(f,"labelColor",this,u)),i.push(Ye(f,"labelPointStyle",this,u)),o.push(Ye(f,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const s=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const a=Lr[s.position].call(this,r,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=hp(this,s),c=Object.assign({},a,l),u=pp(this.chart,s,c),f=mp(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,r){const i=this.getCaretPosition(t,s,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(t,n,s){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:f}=Vs(a),{x:h,y:g}=t,{width:p,height:y}=n;let x,m,w,b,k,S;return i==="center"?(k=g+y/2,r==="left"?(x=h,m=x-o,b=k+o,S=k-o):(x=h+p,m=x+o,b=k-o,S=k+o),w=x):(r==="left"?m=h+Math.max(l,u)+o:r==="right"?m=h+p-Math.max(c,f)-o:m=this.caretX,i==="top"?(b=g,k=b-o,x=m-o,w=m+o):(b=g+y,k=b+o,x=m+o,w=m-o),S=b),{x1:x,x2:m,x3:w,y1:b,y2:k,y3:S}}drawTitle(t,n,s){const r=this.title,i=r.length;let o,a,l;if(i){const c=qs(s.rtl,this.x,this.width);for(t.x=co(this,s.titleAlign,s),n.textAlign=c.textAlign(s.titleAlign),n.textBaseline="middle",o=$e(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(r[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===i&&(t.y+=s.titleMarginBottom-a)}}_drawColorBox(t,n,s,r,i){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=i,u=$e(i.bodyFont),f=co(this,"left",i),h=r.x(f),g=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+g;if(i.usePointStyle){const y={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},x=r.leftForLtr(h,c)+c/2,m=p+l/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,Ph(t,y,x,m),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Ph(t,y,x,m)}else{t.lineWidth=ee(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const y=r.leftForLtr(h,c),x=r.leftForLtr(r.xPlus(h,1),c-2),m=Vs(o.borderRadius);Object.values(m).some(w=>w!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,va(t,{x:y,y:p,w:c,h:l,radius:m}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),va(t,{x,y:p+1,w:c-2,h:l-2,radius:m}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(y,p,c,l),t.strokeRect(y,p,c,l),t.fillStyle=o.backgroundColor,t.fillRect(x,p+1,c-2,l-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,f=$e(s.bodyFont);let h=f.lineHeight,g=0;const p=qs(s.rtl,this.x,this.width),y=function(_){n.fillText(_,p.x(t.x+g),t.y+h/2),t.y+=h+i},x=p.textAlign(o);let m,w,b,k,S,E,j;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,t.x=co(this,x,s),n.fillStyle=s.bodyColor,re(this.beforeBody,y),g=a&&x!=="right"?o==="center"?c/2+u:c+2+u:0,k=0,E=r.length;k<E;++k){for(m=r[k],w=this.labelTextColors[k],n.fillStyle=w,re(m.before,y),b=m.lines,a&&b.length&&(this._drawColorBox(n,t,k,p,s),h=Math.max(f.lineHeight,l)),S=0,j=b.length;S<j;++S)y(b[S]),h=f.lineHeight;re(m.after,y)}g=0,h=f.lineHeight,re(this.afterBody,y),t.y-=i}drawFooter(t,n,s){const r=this.footer,i=r.length;let o,a;if(i){const l=qs(s.rtl,this.x,this.width);for(t.x=co(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=$e(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(r[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s.footerSpacing}}drawBackground(t,n,s,r){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=s,{topLeft:f,topRight:h,bottomLeft:g,bottomRight:p}=Vs(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+f,l),o==="top"&&this.drawCaret(t,n,s,r),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&i==="right"&&this.drawCaret(t,n,s,r),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(t,n,s,r),n.lineTo(a+g,l+u),n.quadraticCurveTo(a,l+u,a,l+u-g),o==="center"&&i==="left"&&this.drawCaret(t,n,s,r),n.lineTo(a,l+f),n.quadraticCurveTo(a,l,a+f,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,r=s&&s.x,i=s&&s.y;if(r||i){const o=Lr[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=hp(this,t),l=Object.assign({},o,this._size),c=pp(n,t,l),u=mp(t,l,c,n);(r._to!==u.x||i._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=bt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=s,this.drawBackground(i,t,r,n),kx(t,n.textDirection),i.y+=o.top,this.drawTitle(i,t,n),this.drawBody(i,t,n),this.drawFooter(i,t,n),Sx(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,r=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),i=!pa(s,r),o=this._positionChanged(r,n);(i||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(t,i,n,s),a=this._positionChanged(o,t),l=n||!pa(o,i)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,s,r){const i=this.options;if(t.type==="mouseout")return[];if(!r)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,i.mode,i,s);return i.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:s,caretY:r,options:i}=this,o=Lr[i.position].call(this,t,n);return o!==!1&&(s!==o.x||r!==o.y)}}Y(su,"positioners",Lr);var Aj={id:"tooltip",_element:su,positioners:Lr,afterInit(e,t,n){n&&(e.tooltip=new su({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:zx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Nj=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function Rj(e,t,n,s){const r=e.indexOf(t);if(r===-1)return Nj(e,t,n,s);const i=e.lastIndexOf(t);return r!==i?n:r}const Mj=(e,t)=>e===null?null:Ge(Math.round(e),0,t);function yp(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class ru extends ur{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:r,label:i}of n)s[r]===i&&s.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(ae(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:Rj(s,t,J(n,t),this._addedLabels),Mj(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,r=[];let i=this.getLabels();i=t===0&&n===i.length-1?i:i.slice(t,n+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=t;o<=n;o++)r.push({value:o});return r}getLabelForValue(t){return yp.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Y(ru,"id","category"),Y(ru,"defaults",{ticks:{callback:yp}});function Pj(e,t){const n=[],{bounds:r,step:i,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:f,includeBounds:h}=e,g=i||1,p=u-1,{min:y,max:x}=t,m=!ae(o),w=!ae(a),b=!ae(c),k=(x-y)/(f+1);let S=Sh((x-y)/p/g)*g,E,j,_,A;if(S<1e-14&&!m&&!w)return[{value:y},{value:x}];A=Math.ceil(x/S)-Math.floor(y/S),A>p&&(S=Sh(A*S/p/g)*g),ae(l)||(E=Math.pow(10,l),S=Math.ceil(S*E)/E),r==="ticks"?(j=Math.floor(y/S)*S,_=Math.ceil(x/S)*S):(j=y,_=x),m&&w&&i&&AS((a-o)/i,S/1e3)?(A=Math.round(Math.min((a-o)/S,u)),S=(a-o)/A,j=o,_=a):b?(j=m?o:j,_=w?a:_,A=c-1,S=(_-j)/A):(A=(_-j)/S,Po(A,Math.round(A),S/1e3)?A=Math.round(A):A=Math.ceil(A));const C=Math.max(_h(S),_h(j));E=Math.pow(10,ae(l)?C:l),j=Math.round(j*E)/E,_=Math.round(_*E)/E;let N=0;for(m&&(h&&j!==o?(n.push({value:o}),j<o&&N++,Po(Math.round((j+N*S)*E)/E,o,vp(o,k,e))&&N++):j<o&&N++);N<A;++N){const P=Math.round((j+N*S)*E)/E;if(w&&P>a)break;n.push({value:P})}return w&&h&&_!==a?n.length&&Po(n[n.length-1].value,a,vp(a,k,e))?n[n.length-1].value=a:n.push({value:a}):(!w||_===a)&&n.push({value:_}),n}function vp(e,t,{horizontal:n,minRotation:s}){const r=tn(s),i=(n?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}class Tj extends ur{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return ae(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this;const o=l=>r=n?r:l,a=l=>i=s?i:l;if(t){const l=Ln(r),c=Ln(i);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===i){let l=i===0?1:Math.abs(i*.05);a(i+l),t||o(r-l)}this.min=r,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=Pj(r,i);return t.bounds==="ticks"&&NS(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const r=(s-n)/Math.max(t.length-1,1)/2;n-=r,s+=r}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return vd(t,this.chart.options.locale,this.options.ticks.format)}}class iu extends Tj{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=wt(t)?t:0,this.max=wt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=tn(this.options.ticks.minRotation),r=(t?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Y(iu,"id","linear"),Y(iu,"defaults",{ticks:{callback:px.formatters.numeric}});const Za={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Qe=Object.keys(Za);function wp(e,t){return e-t}function bp(e,t){if(ae(t))return null;const n=e._adapter,{parser:s,round:r,isoWeekday:i}=e._parseOpts;let o=t;return typeof s=="function"&&(o=s(o)),wt(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(xa(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,r)),+o)}function kp(e,t,n,s){const r=Qe.length;for(let i=Qe.indexOf(e);i<r-1;++i){const o=Za[Qe[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=s)return Qe[i]}return Qe[r-1]}function Oj(e,t,n,s,r){for(let i=Qe.length-1;i>=Qe.indexOf(n);i--){const o=Qe[i];if(Za[o].common&&e._adapter.diff(r,s,o)>=t-1)return o}return Qe[n?Qe.indexOf(n):0]}function Lj(e){for(let t=Qe.indexOf(e)+1,n=Qe.length;t<n;++t)if(Za[Qe[t]].common)return Qe[t]}function Sp(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:r}=xd(n,t),i=n[s]>=t?n[s]:n[r];e[i]=!0}}function Dj(e,t,n,s){const r=e._adapter,i=+r.startOf(t[0].value,s),o=t[t.length-1].value;let a,l;for(a=i;a<=o;a=+r.add(a,1,s))l=n[a],l>=0&&(t[l].major=!0);return t}function _p(e,t,n){const s=[],r={},i=t.length;let o,a;for(o=0;o<i;++o)a=t[o],r[a]=o,s.push({value:a,major:!1});return i===0||!n?s:Dj(e,s,r,n)}class Sa extends ur{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),r=this._adapter=new Y_._date(t.adapters.date);r.init(n),qr(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:bp(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=wt(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),i=wt(i)&&!isNaN(i)?i:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=this.max,a=OS(r,i,o);return this._unit=n.unit||(s.autoSkip?kp(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):Oj(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:Lj(this._unit),this.initOffsets(r),t.reverse&&a.reverse(),_p(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,r,i;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?n=1-r:n=(this.getDecimalForValue(t[1])-r)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?s=i:s=(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=Ge(n,0,o),s=Ge(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,r=this.options,i=r.time,o=i.unit||kp(i.minUnit,n,s,this._getLabelCapacity(n)),a=J(r.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,c=xa(l)||l===!0,u={};let f=n,h,g;if(c&&(f=+t.startOf(f,"isoWeek",l)),f=+t.startOf(f,c?"day":o),t.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const p=r.ticks.source==="data"&&this.getDataTimestamps();for(h=f,g=0;h<s;h=+t.add(h,a,o),g++)Sp(u,h,p);return(h===s||r.bounds==="ticks"||g===1)&&Sp(u,h,p),Object.keys(u).sort(wp).map(y=>+y)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const r=this.options.time.displayFormats,i=this._unit,o=n||r[i];return this._adapter.format(t,o)}_tickFormatFunction(t,n,s,r){const i=this.options,o=i.ticks.callback;if(o)return ue(o,[t,n,s],this);const a=i.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],f=c&&a[c],h=s[n],g=c&&f&&h&&h.major;return this._adapter.format(t,r||(g?f:u))}generateTickLabels(t){let n,s,r;for(n=0,s=t.length;n<s;++n)r=t[n],r.label=this._tickFormatFunction(r.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,r=tn(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:s*i+a*o,h:s*o+a*i}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,i=this._tickFormatFunction(t,0,_p(this,[t],this._majorUnit),r),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)t=t.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const r=this.getLabels();for(n=0,s=r.length;n<s;++n)t.push(bp(this,r[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return ux(t.sort(wp))}}Y(Sa,"id","time"),Y(Sa,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function uo(e,t,n){let s=0,r=e.length-1,i,o,a,l;n?(t>=e[s].pos&&t<=e[r].pos&&({lo:s,hi:r}=Zc(e,"pos",t)),{pos:i,time:a}=e[s],{pos:o,time:l}=e[r]):(t>=e[s].time&&t<=e[r].time&&({lo:s,hi:r}=Zc(e,"time",t)),{time:i,pos:a}=e[s],{time:o,pos:l}=e[r]);const c=o-i;return c?a+(l-a)*(t-i)/c:a}class jp extends Sa{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=uo(n,this.min),this._tableRange=uo(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,r=[],i=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=s&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&i.push({time:c,pos:o/(a-1)});return i}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((r,i)=>r-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(uo(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return uo(this._table,s*this._tableRange+this._minPos,!0)}}Y(jp,"id","timeseries"),Y(jp,"defaults",Sa.defaults);const Bx="label";function Ep(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Ij(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function $x(e,t){e.labels=t}function Ux(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Bx;const s=[];e.datasets=t.map(r=>{const i=e.datasets.find(o=>o[n]===r[n]);return!i||!r.data||s.includes(i)?{...r}:(s.push(i),Object.assign(i,r),i)})}function Fj(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bx;const n={labels:[],datasets:[]};return $x(n,e.labels),Ux(n,e.datasets,t),n}function zj(e,t){const{height:n=150,width:s=300,redraw:r=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:f,...h}=e,g=v.useRef(null),p=v.useRef(null),y=()=>{g.current&&(p.current=new Ja(g.current,{type:o,data:Fj(a,i),options:l&&{...l},plugins:c}),Ep(t,p.current))},x=()=>{Ep(t,null),p.current&&(p.current.destroy(),p.current=null)};return v.useEffect(()=>{!r&&p.current&&l&&Ij(p.current,l)},[r,l]),v.useEffect(()=>{!r&&p.current&&$x(p.current.config.data,a.labels)},[r,a.labels]),v.useEffect(()=>{!r&&p.current&&a.datasets&&Ux(p.current.config.data,a.datasets,i)},[r,a.datasets]),v.useEffect(()=>{p.current&&(r?(x(),setTimeout(y)):p.current.update(f))},[r,l,a.labels,a.datasets,f]),v.useEffect(()=>{p.current&&(x(),setTimeout(y))},[o]),v.useEffect(()=>(y(),()=>x()),[]),ne.createElement("canvas",{ref:g,role:"img",height:n,width:s,...h},u)}const Bj=v.forwardRef(zj);function Wx(e,t){return Ja.register(t),v.forwardRef((n,s)=>ne.createElement(Bj,{...n,ref:s,type:e}))}const $j=Wx("bar",To),Uj=Wx("doughnut",Pr);function Wj({onCreated:e}){const[t,n]=v.useState("project"),[s,r]=v.useState(!1),[i,o]=v.useState(null),[a,l]=v.useState(!1),[c,u]=v.useState(""),[f,h]=v.useState(""),[g,p]=v.useState(""),[y,x]=v.useState(""),[m,w]=v.useState(""),[b,k]=v.useState([]),[S,E]=v.useState(!1);async function j(){var A,C;if(!S)try{const N=await U.get("/projects"),P=Array.isArray((C=(A=N.data)==null?void 0:A.data)==null?void 0:C.items)?N.data.data.items:Array.isArray(N.data)?N.data:[];k(P),E(!0)}catch{}}async function _(A){var C,N,P,T;A.preventDefault(),r(!0),o(null),l(!1);try{if(t==="project"){if(!c)throw new Error("Nom du projet requis");const R=f&&f.trim().length>=5?f.trim():`${c} – initialisation`;let O;g?O=new Date(g+"T23:59:59").toISOString():O=new Date(Date.now()+14*24*60*60*1e3).toISOString(),await U.post("/projects",{name:c,description:R,deadline:O}),u(""),h(""),p("")}else{if(!y||!m)throw new Error("Titre et projet requis");const R=`${y} – description rapide`;await U.post("/tasks",{title:y,project:m,description:R}),x(""),w("")}l(!0),e&&e(),setTimeout(()=>l(!1),1800)}catch(R){const O=(N=(C=R.response)==null?void 0:C.data)==null?void 0:N.details;Array.isArray(O)&&O.length?o(O.map(I=>I.message).join(" | ")):o(((T=(P=R.response)==null?void 0:P.data)==null?void 0:T.message)||R.message)}finally{r(!1)}}return d.jsxs("div",{className:"bg-white/80 dark:bg-slate-900/70 border border-slate-200/60 dark:border-slate-700/50 rounded-xl p-4 shadow-soft",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>n("project"),className:`text-sm px-3 py-1.5 rounded-md border transition ${t==="project"?"bg-[var(--color-accent)] text-white border-[var(--color-accent)]":"bg-[var(--color-surface)] dark:bg-slate-800 text-slate-700 dark:text-slate-300 border-[var(--color-border)]"}`,children:"Projet"}),d.jsx("button",{onClick:()=>{n("task"),j()},className:`text-sm px-3 py-1.5 rounded-md border transition ${t==="task"?"bg-[var(--color-accent)] text-white border-[var(--color-accent)]":"bg-[var(--color-surface)] dark:bg-slate-800 text-slate-700 dark:text-slate-300 border-[var(--color-border)]"}`,children:"Tâche"})]}),a&&d.jsx("span",{className:"text-xs text-emerald-600",children:"Créé !"})]}),i&&d.jsx("div",{className:"mb-3 text-xs px-3 py-2 rounded-md bg-rose-50 text-rose-700 border border-rose-200",children:i}),d.jsxs("form",{onSubmit:_,className:"grid gap-3",children:[t==="project"?d.jsxs(d.Fragment,{children:[d.jsx("div",{children:d.jsx("input",{placeholder:"Nom du projet",className:"w-full px-3 py-2 rounded-md border border-slate-200 bg-white text-sm",value:c,onChange:A=>u(A.target.value),required:!0})}),d.jsx("div",{children:d.jsx("textarea",{placeholder:"Description",className:"w-full px-3 py-2 rounded-md border border-slate-200 bg-white text-sm min-h-[60px]",value:f,onChange:A=>h(A.target.value)})}),d.jsxs("div",{children:[d.jsx("input",{type:"date",className:"w-full px-3 py-2 rounded-md border border-slate-200 bg-white text-sm",value:g,onChange:A=>p(A.target.value),min:new Date().toISOString().split("T")[0]}),d.jsx("p",{className:"mt-1 text-[11px] text-slate-500",children:"Date limite (optionnelle). Si vide: +14 jours automatiquement."})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{children:d.jsx("input",{placeholder:"Titre de la tâche",className:"w-full px-3 py-2 rounded-md border border-slate-200 bg-white text-sm",value:y,onChange:A=>x(A.target.value),required:!0})}),d.jsx("div",{children:d.jsxs("select",{className:"w-full px-3 py-2 rounded-md border border-slate-200 bg-white text-sm",value:m,onChange:A=>w(A.target.value),required:!0,children:[d.jsx("option",{value:"",children:"Projet..."}),b.map(A=>d.jsx("option",{value:A._id||A.id,children:A.name},A._id||A.id))]})})]}),d.jsx("div",{className:"flex items-center gap-3",children:d.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 rounded-md bg-[var(--color-accent)] disabled:opacity-60 text-white text-sm hover:bg-[var(--color-accent-hover)]",children:s?"...":"Créer"})})]})]})}function Hj(e=""){return e.startsWith("auth.")?"🔐":e.startsWith("security.")?"🛡️":e.startsWith("project.")?"📁":e.startsWith("task.")?"✅":"📌"}function Vj(e){const t=new Date(e),n=Math.floor((Date.now()-t.getTime())/1e3);if(n<60)return`${n}s`;const s=Math.floor(n/60);if(s<60)return`${s}m`;const r=Math.floor(s/60);return r<24?`${r}h`:`${Math.floor(r/24)}j`}function qj({items:e=[]}){return e.length?d.jsx("ul",{className:"divide-y divide-slate-100",children:e.map(t=>{var n,s;return d.jsxs("li",{className:"py-3 flex items-start gap-3",children:[d.jsx("div",{className:"text-xl leading-none",children:Hj(t.action)}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"text-sm text-slate-800",children:[d.jsx("span",{className:"font-medium",children:((n=t.user)==null?void 0:n.name)||((s=t.user)==null?void 0:s.email)||"Système"}),d.jsx("span",{className:"text-slate-400",children:" • "}),d.jsx("span",{children:t.details||t.action})]}),d.jsxs("div",{className:"text-xs text-slate-500 mt-0.5",children:[new Date(t.createdAt).toLocaleString()," • il y a ",Vj(t.createdAt)]})]})]},t.id)})}):d.jsx("div",{className:"text-sm text-slate-500",children:"Aucune activité récente"})}function Hx({data:e=[],width:t=120,height:n=36,stroke:s="#0ea5e9",fill:r="transparent",strokeWidth:i=2}){(!e||e.length===0)&&(e=[0]);const o=Math.max(...e,1),a=Math.min(...e,0),l=o-a||1,c=e.length>1?(t-4)/(e.length-1):0,u=e.map((f,h)=>{const g=2+h*c,p=n-2-(f-a)/l*(n-4);return`${g},${p}`}).join(" ");return d.jsxs("svg",{width:t,height:n,viewBox:`0 0 ${t} ${n}`,"aria-hidden":!0,children:[r!=="transparent"&&d.jsx("polyline",{points:`${u} ${t-2},${n-2} 2,${n-2}`,fill:r,stroke:"none"}),d.jsx("polyline",{points:u,fill:"none",stroke:s,strokeWidth:i,strokeLinecap:"round",strokeLinejoin:"round"})]})}const Cp={primary:{ring:"from-[var(--color-accent)]/25 via-[var(--color-accent)]/5 to-transparent",icon:"text-[var(--color-accent)]",value:"text-slate-900 dark:text-slate-50"},success:{ring:"from-emerald-500/15 via-emerald-500/5 to-transparent",icon:"text-emerald-600",value:"text-slate-900 dark:text-slate-50"},warning:{ring:"from-amber-500/20 via-amber-500/5 to-transparent",icon:"text-amber-600",value:"text-slate-900 dark:text-slate-50"},danger:{ring:"from-rose-500/20 via-rose-500/5 to-transparent",icon:"text-rose-600",value:"text-slate-900 dark:text-slate-50"},neutral:{ring:"from-slate-500/15 via-slate-500/5 to-transparent",icon:"text-slate-600",value:"text-slate-900 dark:text-slate-50"}};function fo({icon:e,label:t,value:n,sub:s,trend:r,variant:i="primary",delta:o}){const a=Cp[i]||Cp.primary;return d.jsxs("div",{className:"relative group overflow-hidden rounded-xl border border-slate-200/70 dark:border-slate-700/60 bg-white/80 dark:bg-slate-900/70 backdrop-blur-sm p-5 sm:p-5 p-4 shadow-sm hover:shadow-md transition-shadow",children:[d.jsx("div",{className:`absolute -top-10 -right-10 w-40 h-40 bg-gradient-to-br ${a.ring} rounded-full blur-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-700`}),d.jsxs("div",{className:"relative flex items-start justify-between gap-3",children:[d.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-lg bg-slate-50 dark:bg-slate-800 ${a.icon} shadow-inner ring-1 ring-inset ring-white/30 dark:ring-slate-700/50`,children:e}),r&&r.length>0&&d.jsx("div",{className:"w-24 h-10 -mt-1 opacity-70 group-hover:opacity-100 transition-opacity",children:d.jsx(Hx,{data:r,width:96,height:40,strokeWidth:2,stroke:"#6366f1"})})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("div",{className:"text-xs font-medium uppercase tracking-wide text-slate-500 dark:text-slate-400",children:t}),d.jsx("div",{className:`mt-1 text-3xl font-semibold leading-tight ${a.value}`,children:n}),d.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[o&&d.jsxs("span",{className:`inline-flex items-center gap-1 text-[11px] px-2 py-0.5 rounded-full font-medium ${o.direction==="up"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300":"bg-rose-100 text-rose-700 dark:bg-rose-900/40 dark:text-rose-300"}`,children:[o.direction==="up"?"▲":"▼"," ",o.value,"%"]}),s&&d.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:s})]})]})]})}function Yj({value:e=0,size:t=64,stroke:n=6,color:s="#6366f1",bg:r="rgba(148,163,184,0.25)"}){const i=(t-n)/2,o=2*Math.PI*i,a=Math.min(100,Math.max(0,e)),l=o-a/100*o;return d.jsxs("div",{className:"relative inline-flex items-center justify-center",style:{width:t,height:t},"aria-label":`Progression ${a}%`,children:[d.jsxs("svg",{width:t,height:t,className:"-rotate-90",children:[d.jsx("circle",{stroke:r,fill:"transparent",strokeWidth:n,r:i,cx:t/2,cy:t/2}),d.jsx("circle",{stroke:s,style:{transition:"stroke-dashoffset 0.6s ease"},fill:"transparent",strokeLinecap:"round",strokeWidth:n,r:i,cx:t/2,cy:t/2,strokeDasharray:o,strokeDashoffset:l})]}),d.jsxs("span",{className:"absolute text-xs font-semibold text-slate-700 dark:text-slate-200",children:[a,"%"]})]})}function Kj({project:e,onFocus:t,focused:n}){const s=e.deadline?new Date(e.deadline):null,r=s?Math.ceil((s-Date.now())/(1e3*60*60*24)):null,i=e.status==="completed"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300":e.status==="on_hold"?"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-300":e.status==="cancelled"?"bg-rose-100 text-rose-700 dark:bg-rose-900/40 dark:text-rose-300":"bg-sky-100 text-sky-700 dark:bg-sky-900/40 dark:text-sky-300",o=r!==null&&e.progress<100&&r<0,a=e._id||e.id;return d.jsxs("div",{className:`group relative flex flex-col rounded-xl border ${n?"border-[var(--color-accent)] ring-2 ring-[var(--color-accent)]/40":"border-slate-200/70 dark:border-slate-700/60"} bg-white/70 dark:bg-slate-900/60 backdrop-blur-sm p-4 sm:p-4 p-3 hover:shadow-md hover:-translate-y-0.5 transition-all`,onClick:()=>t&&t(a),role:"button",tabIndex:0,onKeyDown:l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),t&&t(a))},"aria-pressed":n?"true":"false","aria-label":`Projet ${e.name} ${n?"sélectionné":""}`,children:[d.jsxs("div",{className:"flex items-start justify-between gap-3",children:[d.jsxs("div",{className:"min-w-0",children:[d.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-100 truncate",title:e.name,children:e.name}),d.jsxs("div",{className:"mt-1 flex items-center gap-2 text-[11px] text-slate-500 dark:text-slate-400",children:[d.jsx("span",{className:`px-2 py-0.5 rounded-full ${i} font-medium`,children:e.status}),r!==null&&d.jsx("span",{className:`px-2 py-0.5 rounded-full font-medium ${o?"bg-rose-100 text-rose-700 dark:bg-rose-900/40 dark:text-rose-300":r<=3?"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-300":"bg-slate-100 text-slate-600 dark:bg-slate-800/50 dark:text-slate-300"}`,children:o?"En retard":r<=3?`J-${r}`:`J-${r}`}),typeof e.taskCount=="number"&&d.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-800/50 text-slate-600 dark:text-slate-300 font-medium",children:[e.taskCount," tâches"]})]})]}),d.jsx(Yj,{value:e.progress??0,size:56,stroke:5,color:o?"#dc2626":"#6366f1"})]}),e.description&&d.jsx("p",{className:"mt-3 text-xs leading-snug line-clamp-3 text-slate-600 dark:text-slate-400",children:e.description}),d.jsxs("div",{className:"mt-4 flex gap-2",children:[d.jsx("button",{onClick:l=>{l.stopPropagation(),window.location.assign(`/projects/${a}`)},className:"inline-flex items-center justify-center text-xs px-3 py-1.5 rounded-md bg-[var(--color-accent)] text-white hover:bg-[var(--color-accent-hover)] focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)]/50",children:"Ouvrir"}),t&&d.jsx("button",{onClick:l=>{l.stopPropagation(),t(a)},className:"inline-flex items-center justify-center text-xs px-3 py-1.5 rounded-md border border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-300 bg-white/70 dark:bg-slate-800/40 hover:bg-slate-50 dark:hover:bg-slate-700",children:"Focus"})]})]})}function Qj({projects:e=[],max:t=6,onFocus:n,focusedId:s}){if(!e.length)return d.jsx("div",{className:"text-xs text-slate-500",children:"Aucun projet."});const r=[...e].sort((i,o)=>(o.progress||0)-(i.progress||0)).slice(0,t);return d.jsx("div",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-3",children:r.map(i=>d.jsx(Kj,{project:i,onFocus:n,focused:s===(i._id||i.id)},i._id||i.id))})}function Ss({title:e,icon:t,actions:n,children:s,className:r=""}){return d.jsxs("section",{className:`relative rounded-2xl border border-slate-200/70 dark:border-slate-700/60 bg-white/70 dark:bg-slate-900/60 backdrop-blur-sm p-5 sm:p-5 px-4 py-4 ${r}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-4 sm:mb-4 mb-3",children:[d.jsxs("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t&&d.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:t}),e]}),n&&d.jsx("div",{className:"flex items-center gap-2",children:n})]}),s]})}function Xj({projects:e=[],tasks:t=[],limit:n=6}){const s=v.useMemo(()=>{const r=e.filter(o=>o.deadline).map(o=>({type:"project",id:o._id||o.id,name:o.name,deadline:new Date(o.deadline),progress:o.progress??0,status:o.status})),i=t.filter(o=>o.deadline||o.dueDate).map(o=>({type:"task",id:o._id||o.id,name:o.title,deadline:new Date(o.deadline||o.dueDate),status:o.status,priority:o.priority}));return[...r,...i].filter(o=>o.deadline&&o.deadline.toString()!=="Invalid Date").sort((o,a)=>o.deadline-a.deadline).slice(0,n)},[e,t,n]);return s.length?d.jsx("ul",{className:"space-y-2",children:s.map(r=>{const i=Math.ceil((r.deadline-Date.now())/864e5),o=i<0,a=!o&&i<=2,l=!o&&i<=5,c=o?"bg-rose-100 text-rose-700 dark:bg-rose-900/40 dark:text-rose-300":a?"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-300":l?"bg-sky-100 text-sky-700 dark:bg-sky-900/40 dark:text-sky-300":"bg-slate-100 text-slate-600 dark:bg-slate-800/40 dark:text-slate-300";return d.jsxs("li",{className:"flex items-center justify-between gap-3 p-2 sm:p-2 p-1.5 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800/40 transition",children:[d.jsxs("div",{className:"min-w-0",children:[d.jsxs("p",{className:"text-xs font-medium text-slate-700 dark:text-slate-200 truncate",children:[r.type==="project"?"🗂️":"✅"," ",r.name]}),d.jsxs("p",{className:"text-[11px] text-slate-500 dark:text-slate-400 mt-0.5",children:[r.deadline.toLocaleDateString()," • ",o?"En retard":i===0?"Aujourd'hui":`J-${i}`]})]}),d.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-semibold uppercase tracking-wide ${c}`,children:o?"Retard":i===0?"Aujourd'hui":i+"j"})]},`${r.type}-${r.id}`)})}):d.jsx("div",{className:"text-xs text-slate-500",children:"Aucune échéance prochaine."})}const At=(()=>{let e=null,t,n,s,r=.85,i=.35,o=!1,a=[],l=0,c,u,f=0;function h(){if(o)return!0;try{e=new(window.AudioContext||window.webkitAudioContext),t=e.createGain(),n=e.createGain(),s=e.createGain(),t.gain.value=r,n.gain.value=.9,s.gain.value=i,n.connect(t),s.connect(t),c=e.createAnalyser(),c.fftSize=256,u=new Uint8Array(c.frequencyBinCount);const E=e.createDynamicsCompressor();return E.threshold.value=-12,E.knee.value=18,E.ratio.value=3,E.attack.value=.003,E.release.value=.25,t.connect(E).connect(c).connect(e.destination),o=!0,!0}catch(E){return console.warn("Audio init failed",E),!1}}function g(E){let j=0;try{let C=E.replace("#","");C.length===3&&(C=C.split("").map($=>$+$).join(""));const N=parseInt(C.slice(0,2),16)/255,P=parseInt(C.slice(2,4),16)/255,T=parseInt(C.slice(4,6),16)/255,R=Math.max(N,P,T),O=Math.min(N,P,T),I=R-O;I===0?j=0:R===N?j=(P-T)/I%6:R===P?j=(T-N)/I+2:j=(N-P)/I+4,j=(j*60+360)%360}catch{}const _=[[0,3,7,10],[0,2,5,9],[0,4,7,11],[0,2,3,7,9]],A=Math.floor(j/360*_.length)%_.length;return{root:220*Math.pow(2,j%60/60),intervals:_[A]}}function p(E="select",j="#2563eb"){if(!o)return;const _=e.currentTime;if(_-l<.08)return;l=_;const{root:A,intervals:C}=g(j),N=A*2,P=e.createOscillator(),T=e.createGain();let R;switch(E){case"success":R=C[2]||7;break;case"toggle":R=C[1]||3;break;case"select":default:R=C[Math.floor(Math.random()*C.length)]||0;break}const O=N*Math.pow(2,R/12);P.type=E==="success"?"triangle":"sine",P.frequency.setValueAtTime(O,_),T.gain.setValueAtTime(0,_),T.gain.linearRampToValueAtTime(.45,_+.02),T.gain.exponentialRampToValueAtTime(.001,_+.35),P.connect(T).connect(n),P.start(_),P.stop(_+.4)}function y(E="#2563eb"){if(!o)return;x();const{root:j}=g(E),_=j,A=e.createBiquadFilter();A.type="lowpass",A.frequency.value=800,A.Q.value=.7;for(let N=0;N<3;N++){const P=e.createOscillator();P.type="sawtooth",P.frequency.value=_*(N===0?1:N===1?Math.pow(2,3/12):Math.pow(2,7/12)),P.detune.value=(N-1)*5;const T=e.createGain();T.gain.value=0,P.connect(T).connect(A).connect(s);const R=e.currentTime;T.gain.setValueAtTime(0,R),T.gain.linearRampToValueAtTime(.14/(N+1),R+3+N*.5),P.start(),a.push({osc:P,gain:T})}const C=e.currentTime;A.frequency.exponentialRampToValueAtTime(2200,C+18)}function x(){if(!o)return;const E=e.currentTime;a.forEach(j=>{try{j.gain.gain.cancelScheduledValues(E),j.gain.gain.setTargetAtTime(0,E,1.2),j.osc.stop(E+2.5)}catch{}}),a=[]}function m(E){r=Math.min(1,Math.max(0,E)),t&&t.gain.linearRampToValueAtTime(r,e.currentTime+.15)}function w(E){i=Math.min(1,Math.max(0,E)),s&&s.gain.linearRampToValueAtTime(i,e.currentTime+.3)}function b(){e&&e.state==="running"&&e.suspend()}function k(){e&&e.state==="suspended"&&e.resume()}function S(){if(!o||!c)return 0;const E=performance.now();if(E-f<50)return analyserLastEnergy;c.getByteFrequencyData(u);let j=0,_=0;for(let N=2;N<32&&N<u.length;N++)j+=u[N],_++;const C=j/(_||1)/255;return f=E,analyserLastEnergy=C,C}return{init:h,earcon:p,startAmbient:y,stopAmbient:x,suspend:b,resume:k,isStarted:()=>o,getEnergy:S,setVolume:m,setAmbientLevel:w}})(),Ap="devdash-anim-intensity";function Nd(){const[e,t]=v.useState(70);v.useEffect(()=>{try{const r=localStorage.getItem(Ap);if(r!=null){const i=parseInt(r,10);isNaN(i)||t(Math.min(100,Math.max(0,i)))}}catch{}},[]);const n=v.useCallback(r=>{const i=Math.min(100,Math.max(0,r));t(i);try{localStorage.setItem(Ap,String(i))}catch{}},[]),s=e/100;return{value:e,set:n,factor:s}}const Np="devdash-focus-mode";function Rd(){const[e,t]=v.useState(()=>typeof window>"u"?"off":localStorage.getItem(Np)||"off"),n=v.useCallback(r=>{const i=document.documentElement;r==="mono"?i.dataset.focus="mono":i.dataset.focus==="mono"&&delete i.dataset.focus},[]);return v.useEffect(()=>{n(e);try{localStorage.setItem(Np,e)}catch{}},[e,n]),{focusMode:e,setFocusMode:t,toggleFocusMode:()=>{const r=document.documentElement;r.classList.contains("focus-transition")||(r.classList.add("focus-transition"),setTimeout(()=>r.classList.remove("focus-transition"),320)),t(i=>i==="mono"?"off":"mono")}}}const Rp="devdash-theme",Gj="default",Jj=[{key:"default",label:"Bleu Pro",color:"#2563eb",contrast:"AA+"},{key:"emerald",label:"Émeraude",color:"#059669",contrast:"AA"},{key:"indigo",label:"Indigo Profond",color:"#4f46e5",contrast:"AA+"},{key:"amber",label:"Ambre Énergie",color:"#d97706",contrast:"AA"},{key:"rose",label:"Rose Punch",color:"#e11d48",contrast:"AA+"},{key:"slate",label:"Slate Neutre",color:"#334155",contrast:"AAA"}];function Ti(){const[e,t]=v.useState(()=>(typeof window<"u"?localStorage.getItem(Rp):null)||Gj),n=v.useCallback(r=>{const i=document.documentElement;r==="default"?delete i.dataset.theme:i.dataset.theme=r},[]);v.useEffect(()=>{n(e);try{localStorage.setItem(Rp,e)}catch{}},[e,n]);const s=v.useCallback(r=>{const i=document.documentElement;i.classList.contains("theme-transition")||(i.classList.add("theme-transition"),setTimeout(()=>{i.classList.remove("theme-transition")},260)),t(r)},[]);return{theme:e,setTheme:s,themes:Jj}}const Mp="devdash-audio-advanced";function Zj(){const{theme:e,themes:t}=Ti(),{focusMode:n}=Rd(),[s,r]=v.useState(!1),[i,o]=v.useState(!1),a=v.useRef("#2563eb");v.useEffect(()=>{const h=t.find(g=>g.key===e);h&&(a.current=h.color)},[e,t]),v.useEffect(()=>{try{localStorage.getItem(Mp)==="on"&&r(!0)}catch{}},[]);const l=v.useCallback(()=>{if(!s)return;At.init()&&(o(!0),n!=="mono"&&At.startAmbient(a.current))},[s,n]),c=v.useCallback(()=>{const h=!s;r(h);try{localStorage.setItem(Mp,h?"on":"off")}catch{}},[s]);v.useEffect(()=>{i&&(n==="mono"?At.stopAmbient():s&&At.startAmbient(a.current))},[n,s,i]),v.useEffect(()=>{!i||n==="mono"||(At.stopAmbient(),At.startAmbient(a.current))},[e,i,n]);const u=v.useCallback(h=>{!i||n==="mono"||At.earcon(h,a.current)},[i,n]);return{enabled:s,active:s&&n!=="mono",toggle:c,init:l,ready:i,earcon:u,focusMode:n}}const Pp="devdash-sound",Tp={hover:"data:audio/wav;base64,UklGRpQAAABXQVZFZm10IBAAAAABAAEAESsAACJWAAACABAAZGF0YYwAAAAA/////wAAAP7+/v7+/v7+/v39/f39/f3+/v7+/v7/////AAAAP///",click:"data:audio/wav;base64,UklGRtQAAABXQVZFZm10IBAAAAABAAEAESsAACJWAAACABAAZGF0YaQAAAAA/////wAAAP7+/v39/f3+/v7+/v7+/v7+/v39/f3+/v7/////AAAAP///",success:"data:audio/wav;base64,UklGRuQAAABXQVZFZm10IBAAAAABAAEAESsAACJWAAACABAAZGF0YcQAAAAA/////wAAAP7+/v39/f39/f7+/v7+/v39/f39/f7/////AAAAP///"};function Vx(){const{focusMode:e}=Rd(),[t,n]=v.useState(!1),s=v.useRef({}),r=v.useRef({}),i=typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;v.useEffect(()=>{try{localStorage.getItem(Pp)==="on"&&!i&&n(!0)}catch{}},[i]),v.useEffect(()=>{if(t){for(const h of Object.keys(Tp))if(!s.current[h]){const g=new Audio(Tp[h]);g.preload="auto",s.current[h]=g}}},[t]);const o=t&&e!=="mono",a=v.useCallback(()=>{const h=!t;n(h);try{localStorage.setItem(Pp,h?"on":"off")}catch{}},[t]),l=v.useCallback(h=>{if(!o)return;const g=performance.now(),p=h==="hover"?120:80,y=r.current[h]||0;if(g-y<p)return;r.current[h]=g;const x=s.current[h];if(x)try{x.currentTime=0,x.play().catch(()=>{})}catch{}},[o]),c=v.useCallback(()=>l("hover"),[l]),u=v.useCallback(()=>l("click"),[l]),f=v.useCallback(()=>l("success"),[l]);return{enabled:o,rawEnabled:t,focusMode:e,toggle:a,playHover:c,playClick:u,playSuccess:f}}const eE=["accent","accent-hover","success","warning"];function qx({onChange:e}){var k;const{theme:t,setTheme:n,themes:s}=Ti(),{focusMode:r,toggleFocusMode:i}=Rd(),{rawEnabled:o,toggle:a,playHover:l,playClick:c,playSuccess:u,focusMode:f}=Vx(),h=Zj(),g=Nd(),[p,y]=v.useState(()=>{try{const S=localStorage.getItem("devdash-ambient-vol");return S?parseInt(S,10):70}catch{return 70}}),x=p/100;if(h.ready&&h.enabled&&h.focusMode!=="mono")try{At.setAmbientLevel(.05+x*.95)}catch{}const[m,w]=v.useState(!1),b=S=>{n(S),e==null||e(S),w(!1),u(),h.ready&&h.earcon("select")};return d.jsxs("div",{className:"relative inline-block text-left",onMouseEnter:l,children:[d.jsxs("button",{type:"button",onClick:()=>{w(S=>!S),c()},className:"flex items-center gap-2 px-3 py-2 rounded-md border border-[var(--color-border)] bg-[var(--color-surface)] hover:bg-[var(--color-surface-alt)] text-[var(--color-text)] text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)]/40 shadow-sm","aria-haspopup":"true","aria-expanded":m,children:[d.jsx("span",{className:"flex -space-x-1",children:s.slice(0,4).map(S=>d.jsx("span",{className:`h-3 w-3 rounded-full ring-1 ring-white/50 shadow ${S.key===t?"opacity-100":"opacity-40"}`,style:{background:S.color}},S.key))}),d.jsx("span",{className:"text-[11px] uppercase tracking-wide opacity-70",children:(k=s.find(S=>S.key===t))==null?void 0:k.label})]}),m&&d.jsxs("div",{className:"absolute right-0 mt-2 w-72 max-h-[70vh] overflow-auto rounded-xl border border-[var(--color-border)] bg-[var(--color-surface)] shadow-xl p-3 flex flex-col gap-3 z-40",role:"radiogroup","aria-label":"Sélection du thème",children:[d.jsx("div",{className:"grid grid-cols-2 gap-3",children:s.map(S=>d.jsxs("button",{type:"button",role:"radio","aria-checked":S.key===t,onClick:()=>b(S.key),onMouseEnter:l,className:`group relative flex flex-col items-start gap-2 p-3 rounded-lg border text-left transition focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)]/40 ${S.key===t?"border-[var(--color-accent)] bg-[var(--color-surface-alt)]":"border-[var(--color-border)] hover:border-[var(--color-border-strong)]"}`,children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"h-4 w-4 rounded-md shadow-inner",style:{background:S.color}}),d.jsx("span",{className:"text-xs font-medium leading-none text-[var(--color-text)]",children:S.label})]}),d.jsx("div",{className:"flex gap-1",children:eE.map(E=>d.jsx("span",{className:"h-3 w-3 rounded-full opacity-80 ring-1 ring-black/5",style:{background:E==="accent"?S.color:S.key==="slate"?"#64748b":S.color}},E))}),S.contrast&&d.jsx("span",{className:"absolute top-1.5 right-1.5 text-[9px] px-1 py-[1px] rounded bg-[var(--color-surface)] border border-[var(--color-border)] text-[var(--color-text-muted)]",children:S.contrast}),S.key===t&&d.jsx("span",{className:"absolute -top-2 -left-2 bg-[var(--color-accent)] text-white text-[10px] px-1.5 py-[2px] rounded shadow",children:"Actif"})]},S.key))}),d.jsxs("div",{className:"mt-1 pt-2 border-t border-[var(--color-border)] flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-[11px] font-medium text-[var(--color-text)] leading-tight",children:"Mode Focus"}),d.jsx("span",{className:"text-[10px] text-[var(--color-text-muted)]",children:"Réduit distraction (mono)"})]}),d.jsx("button",{type:"button",onClick:()=>{i(),c(),h.ready&&h.earcon("toggle")},className:`relative inline-flex h-6 w-11 items-center rounded-full transition ${r==="mono"?"bg-[var(--color-accent)]":"bg-[var(--color-border-strong)]"}`,"aria-pressed":r==="mono",children:d.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white shadow transition ${r==="mono"?"translate-x-6":"translate-x-1"}`})})]}),d.jsxs("div",{className:"-mt-1 pt-2 border-t border-[var(--color-border)] flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{className:"text-[11px] font-medium text-[var(--color-text)] leading-tight",children:["Sons UI ",f==="mono"&&d.jsx("span",{className:"ml-1 px-1 py-[1px] rounded bg-[var(--color-border)] text-[8px] uppercase tracking-wide",children:"mutés"})]}),d.jsxs("span",{className:"text-[10px] text-[var(--color-text-muted)]",children:["Discrets (hover/clic)",f==="mono"&&" – préférences conservées"]})]}),d.jsx("button",{type:"button",onClick:()=>{a(),c(),h.ready&&h.earcon("toggle")},className:`relative inline-flex h-6 w-11 items-center rounded-full transition ${o?"bg-[var(--color-accent)]":"bg-[var(--color-border-strong)]"} ${f==="mono"?"opacity-60":""}`,"aria-pressed":o,"aria-label":f==="mono"?"Sons UI (préférence, temporairement muets en focus)":"Basculer sons UI",children:d.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white shadow transition ${o?"translate-x-6":"translate-x-1"} ${f==="mono"?"ring-2 ring-[var(--color-border)]":""}`})})]}),d.jsxs("div",{className:"-mt-1 pt-2 border-t border-[var(--color-border)] flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{className:"text-[11px] font-medium text-[var(--color-text)] leading-tight",children:["Ambiance Audio ",r==="mono"&&d.jsx("span",{className:"ml-1 px-1 py-[1px] rounded bg-[var(--color-border)] text-[8px] uppercase tracking-wide",children:"mutée"})]}),d.jsxs("span",{className:"text-[10px] text-[var(--color-text-muted)]",children:["Pad adaptatif",r==="mono"&&" – relancera à la sortie focus"]})]}),d.jsx("button",{type:"button",onClick:()=>{h.toggle(),h.ready||h.init(),c(),h.active&&h.earcon("toggle")},className:`relative inline-flex h-6 w-11 items-center rounded-full transition ${h.enabled?"bg-[var(--color-accent)]":"bg-[var(--color-border-strong)]"} ${r==="mono"?"opacity-60":""}`,"aria-pressed":h.enabled,"aria-label":r==="mono"?"Ambiance Audio (préférence, temporairement mutée en focus)":"Basculer ambiance audio",children:d.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white shadow transition ${h.enabled?"translate-x-6":"translate-x-1"} ${r==="mono"?"ring-2 ring-[var(--color-border)]":""}`})})]}),d.jsxs("div",{className:"mt-2 space-y-4 border-t pt-3 border-[var(--color-border)]",children:[d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-[11px] font-medium text-[var(--color-text)]",children:"Intensité Animation"}),d.jsxs("span",{className:"text-[10px] text-[var(--color-text-muted)]",children:[g.value,"%"]})]}),d.jsx("input",{type:"range",min:10,max:100,value:g.value,onChange:S=>g.set(parseInt(S.target.value,10)),className:"w-full accent-[var(--color-accent)] cursor-pointer","aria-label":"Régler l'intensité de l'animation de fond"})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-[11px] font-medium text-[var(--color-text)]",children:"Volume Ambiance"}),d.jsxs("span",{className:"text-[10px] text-[var(--color-text-muted)]",children:[p,"%"]})]}),d.jsx("input",{type:"range",min:0,max:100,value:p,onChange:S=>{const E=parseInt(S.target.value,10);y(E);try{localStorage.setItem("devdash-ambient-vol",String(E))}catch{}h.ready&&At.setAmbientLevel(.05+E/100*.95)},className:"w-full accent-[var(--color-accent)] cursor-pointer","aria-label":"Régler le volume de l'ambiance audio"})]})]}),d.jsx("div",{className:"-mt-2 text-[10px] text-[var(--color-text-muted)] leading-snug",children:r==="mono"?"Mode Focus actif : audio temporairement muet, vos préférences sont conservées.":h.enabled?h.ready?"Ambiance active. Changement de thème = ré-harmonisation.":"Clique pour initialiser (nécessite interaction).":"Active un paysage sonore subtil lié au thème."})]})]})}function Yx(e){var t;return((t=e==null?void 0:e.data)==null?void 0:t.data)??(e==null?void 0:e.data)}function _a(e){const t=Yx(e);return Array.isArray(t)?t:Array.isArray(t==null?void 0:t.items)?t.items:[]}function Op(e){const t=Yx(e);return t&&typeof t=="object"&&!Array.isArray(t)?t:null}function tE({days:e=7,projectId:t}={}){const{isOnline:n}=ld(),[s,r]=v.useState(null),[i,o]=v.useState(!0),[a,l]=v.useState(!1),[c,u]=v.useState(null),f=async()=>{var g;if(!n){u("Pas de connexion internet"),o(!1);return}try{o(!0);const[p,y,x]=await Promise.all([U.get("/projects"),U.get("/tasks"),U.get("/auth/audit-logs")]);let m={days:[],created:[],completed:[],inReview:[]};try{const _=new URLSearchParams;e&&_.set("days",String(e)),t&&_.set("projectId",t);const A=await U.get(`/analytics/trends?${_.toString()}`);m=(A==null?void 0:A.data)||m}catch(_){console.warn("Analytics trends not available yet:",((g=_==null?void 0:_.response)==null?void 0:g.status)||(_==null?void 0:_.message))}const w=_a(p),b=_a(y),k=b.reduce((_,A)=>{const C=A.project&&(A.project._id||A.project.id||A.project);return C&&(_[C]=(_[C]||0)+1),_},{}),S=w.map(_=>({..._,taskCount:k[_._id||_.id]||0})),E=Array.isArray(x.data)?x.data:[],j={projects:{total:w.length,inProgress:w.filter(_=>_.status==="active").length,completed:w.filter(_=>_.status==="completed").length,notStarted:w.filter(_=>_.status==="on_hold").length,delayed:w.filter(_=>_.status==="cancelled").length},tasks:{total:b.length,inProgress:b.filter(_=>_.status==="in_progress"||_.status==="doing").length,completed:b.filter(_=>_.status==="done").length,notStarted:b.filter(_=>_.status==="todo").length,overdue:b.filter(_=>{const A=new Date(_.dueDate||_.deadline);return _.status!=="done"&&A.toString()!=="Invalid Date"&&A<new Date}).length,priority:{high:b.filter(_=>_.priority==="high").length,medium:b.filter(_=>_.priority==="medium").length,low:b.filter(_=>_.priority==="low").length}},recentTasks:b.sort((_,A)=>new Date(A.createdAt)-new Date(_.createdAt)).slice(0,10),activities:E,projectList:S,taskList:b,trends:m};r(j),u(null)}catch(p){u(p.message)}finally{o(!1)}},h=async()=>{var g;if(n)try{l(!0);let p={days:[],created:[],completed:[],inReview:[]};const y=new URLSearchParams;e&&y.set("days",String(e)),t&&y.set("projectId",t);try{const x=await U.get(`/analytics/trends?${y.toString()}`);p=(x==null?void 0:x.data)||p}catch(x){console.warn("Analytics trends not available yet:",((g=x==null?void 0:x.response)==null?void 0:g.status)||(x==null?void 0:x.message))}r(x=>x&&{...x,trends:p})}finally{l(!1)}};return v.useEffect(()=>{let g=!0;const p=async()=>{g&&await f()};p();const y=setInterval(p,5*60*1e3);return()=>{g=!1,clearInterval(y)}},[n]),v.useEffect(()=>{s&&h()},[e,t]),{data:s,loading:i,trendsLoading:a,error:c,reload:f}}Ja.register(ru,iu,Do,wj,Aj,yj,Or);function nE(){var _,A;const{user:e}=ld(),[t,n]=v.useState(7);Ti();const[s,r]=v.useState(""),[i,o]=v.useState("all"),{data:a,loading:l,trendsLoading:c,error:u,reload:f}=tE({days:t,projectId:s||void 0}),[h,g]=v.useState(!1),[p,y]=v.useState({projects:0,activeTasks:0,highPriority:0,overdue:0}),[x,m]=v.useState(0),w=v.useRef(null),b={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}};v.useEffect(()=>{if(!a)return;const C=600,N=performance.now(),P={projects:0,activeTasks:0,highPriority:0,overdue:0},T={projects:a.projects.total||0,activeTasks:a.tasks.inProgress||0,highPriority:a.tasks.priority.high||0,overdue:a.tasks.overdue||0};let R;const O=I=>{const $=Math.min(1,(I-N)/C),L=1-Math.pow(1-$,3);y({projects:Math.round(P.projects+(T.projects-P.projects)*L),activeTasks:Math.round(P.activeTasks+(T.activeTasks-P.activeTasks)*L),highPriority:Math.round(P.highPriority+(T.highPriority-P.highPriority)*L),overdue:Math.round(P.overdue+(T.overdue-P.overdue)*L)}),$<1&&(R=requestAnimationFrame(O))};return R=requestAnimationFrame(O),()=>cancelAnimationFrame(R)},[a]),v.useEffect(()=>{m(C=>c?C:C+1)},[c]);const k=v.useMemo(()=>{var P,T,R,O,I;if(!(a!=null&&a.trends))return[];const C=$=>$.length?Math.round($.reduce((L,D)=>L+D,0)/$.length):0,N=[{title:`Créations (${((P=a.trends.days)==null?void 0:P.length)||t}j)`,value:`${C(a.trends.created)} /j`,trend:a.trends.created,color:"#0ea5e9"},{title:`Terminées (${((T=a.trends.days)==null?void 0:T.length)||t}j)`,value:`${C(a.trends.completed)} /j`,trend:a.trends.completed,color:"#10b981"},{title:`En revue (${((R=a.trends.days)==null?void 0:R.length)||t}j)`,value:`${C(a.trends.inReview)} /j`,trend:a.trends.inReview,color:"#f59e0b"}];return Array.isArray(a.trends.overdue)&&N.push({title:`Retards (${((O=a.trends.days)==null?void 0:O.length)||t}j)`,value:`${C(a.trends.overdue)} /j`,trend:a.trends.overdue,color:"#ef4444"}),Array.isArray(a.trends.reopened)&&N.push({title:`Réouvertes (${((I=a.trends.days)==null?void 0:I.length)||t}j)`,value:`${C(a.trends.reopened)} /j`,trend:a.trends.reopened,color:"#6366f1"}),N},[a,t]),S=a?{labels:["En cours","Terminés","Non démarrés","En retard"],datasets:[{data:[a.projects.inProgress,a.projects.completed,a.projects.notStarted,a.projects.delayed],backgroundColor:["#3b82f6","#059669","#6b7280","#dc2626"]}]}:null,E=a?{labels:["Haute","Moyenne","Basse"],datasets:[{label:"Tâches par priorité",data:[a.tasks.priority.high,a.tasks.priority.medium,a.tasks.priority.low],backgroundColor:["#fee2e2","#fef3c7","#dcfce7"],borderColor:["#dc2626","#d97706","#15803d"],borderWidth:1}]}:null,j=v.useMemo(()=>{if(!a)return[];const C=new Date,N=(a.projectList||[]).map(R=>({type:"project",id:R._id||R.id,name:R.name,deadline:R.deadline||R.dueDate,status:R.status,taskCount:R.taskCount||0})).filter(R=>R.deadline&&new Date(R.deadline)>=C),P=(a.taskList||[]).map(R=>({type:"task",id:R._id||R.id,title:R.title,deadline:R.dueDate||R.deadline,status:R.status,priority:R.priority})).filter(R=>R.deadline&&new Date(R.deadline)>=C);return[...N.map(R=>({type:"project",id:R.id,title:R.name,due:R.deadline,status:R.status,priority:void 0,taskCount:R.taskCount})),...P.map(R=>({type:"task",id:R.id,title:R.title,due:R.deadline,status:R.status,priority:R.priority,taskCount:void 0}))].sort((R,O)=>new Date(R.due)-new Date(O.due)).slice(0,8)},[a]);return l?d.jsxs("div",{className:"max-w-[1400px] mx-auto p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("div",{className:"h-8 w-60 bg-slate-200 rounded animate-pulse"}),d.jsx("div",{className:"h-8 w-24 bg-slate-200 rounded animate-pulse"})]}),d.jsx("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2 xl:grid-cols-3 mb-6",children:[1,2,3].map(C=>d.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-soft",children:[d.jsx("div",{className:"h-4 w-32 bg-slate-200 rounded mb-3 animate-pulse"}),d.jsx("div",{className:"h-8 w-1/2 bg-slate-200 rounded mb-2 animate-pulse"}),d.jsx("div",{className:"h-3 w-1/3 bg-slate-200 rounded animate-pulse"})]},C))}),d.jsx("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2 mb-6",children:[1,2].map(C=>d.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-soft h-[360px]",children:[d.jsx("div",{className:"h-4 w-40 bg-slate-200 rounded mb-4 animate-pulse"}),d.jsx("div",{className:"h-full bg-slate-100 rounded animate-pulse"})]},C))})]}):u?d.jsx("div",{className:"max-w-[1400px] mx-auto p-6",children:d.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Erreur de chargement"}),d.jsx("p",{className:"mt-2 text-sm text-red-700",children:u})]})]})})}):a?d.jsxs("div",{className:"max-w-[1400px] mx-auto p-6 sm:p-6 p-4",children:[d.jsxs("div",{className:"relative overflow-hidden rounded-2xl mb-5",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-sky-500/10 via-violet-500/10 to-fuchsia-500/10"}),d.jsxs("div",{className:"relative backdrop-blur-[2px] bg-white/60 dark:bg-slate-900/60 border border-slate-200/60 dark:border-slate-700/50 rounded-2xl p-5 sm:p-6",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:["Bonjour, ",(e==null?void 0:e.username)||"Utilisateur"]}),d.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm",children:"Synthèse en temps réel de vos projets et activités"})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 mr-2",children:[d.jsx("span",{className:"text-sm text-slate-600",children:"Période:"}),d.jsxs("select",{value:t,onChange:C=>n(Number(C.target.value)),className:"text-sm border border-slate-200 rounded-md px-2 py-1 bg-white dark:bg-slate-900 dark:text-slate-100",children:[d.jsx("option",{value:7,children:"7 jours"}),d.jsx("option",{value:14,children:"14 jours"}),d.jsx("option",{value:30,children:"30 jours"})]})]}),d.jsx("div",{className:"inline-flex items-center gap-2 mr-2",children:d.jsx(qx,{})}),d.jsxs("div",{className:"inline-flex items-center gap-2 mr-2",children:[d.jsx("span",{className:"text-sm text-slate-600",children:"Projet:"}),d.jsxs("select",{value:s,onChange:C=>r(C.target.value),className:"text-sm border border-slate-200 rounded-md px-2 py-1 bg-white dark:bg-slate-900 dark:text-slate-100 min-w-[180px]",children:[d.jsx("option",{value:"",children:"Tous"}),((a==null?void 0:a.projectList)||[]).map(C=>d.jsx("option",{value:C._id||C.id,children:C.name},C._id||C.id))]}),s&&d.jsx("button",{onClick:()=>r(""),className:"text-xs px-2 py-1 rounded border border-slate-200 text-slate-700 bg-white hover:bg-slate-50",title:"Effacer le filtre projet",children:"Effacer"})]}),d.jsx("button",{onClick:f,className:"px-4 py-2 rounded-md bg-slate-900 text-white hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-100",children:"Actualiser"}),d.jsx("button",{onClick:()=>g(C=>!C),className:"px-4 py-2 rounded-md bg-[var(--color-accent)] text-white hover:bg-[var(--color-accent-hover)] flex items-center gap-1",title:"Créer rapidement projet ou tâche",children:h?"Fermer":"Créer"})]})]}),d.jsx("div",{className:"flex flex-wrap items-center gap-2 pt-1",children:[{key:"all",label:"Tous"},{key:"active",label:"Actifs"},{key:"completed",label:"Terminés"},{key:"on_hold",label:"En attente"},{key:"cancelled",label:"Annulés"}].map(C=>{const N=i===C.key;return d.jsx("button",{onClick:()=>o(C.key),className:`text-xs px-3 py-1.5 rounded-full border transition ${N?"bg-slate-900 text-white dark:bg-white dark:text-slate-900 border-slate-900 dark:border-white":"bg-white/60 dark:bg-slate-800/60 border-slate-300 dark:border-slate-600 text-slate-600 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:C.label},C.key)})})]}),h&&d.jsx("div",{className:"mt-5 border-t border-slate-200 dark:border-slate-700 pt-5 animate-fade-in",children:d.jsx(Wj,{onCreated:()=>{f(),g(!1)}})})]})]}),d.jsxs("div",{className:"grid gap-5 grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 mb-8",children:[d.jsx(fo,{icon:d.jsx(p0,{className:"h-5 w-5"}),label:"Projets",value:p.projects,sub:`${a.projects.completed} terminés`,variant:"primary"}),d.jsx(fo,{icon:d.jsx(ew,{className:"h-5 w-5"}),label:"Tâches actives",value:p.activeTasks,sub:`Sur ${a.tasks.total} tâches`,variant:"neutral"}),d.jsx(fo,{icon:d.jsx(Q2,{className:"h-5 w-5"}),label:"Prioritaires",value:p.highPriority,sub:"Haute priorité",variant:"warning"}),d.jsx(fo,{icon:d.jsx(Wc,{className:"h-5 w-5"}),label:"En retard",value:p.overdue,sub:"À traiter vite",variant:"danger"})]}),d.jsxs("div",{className:"grid gap-8 grid-cols-1 xl:grid-cols-3 mb-10 items-start",children:[d.jsx("div",{className:"xl:col-span-2 space-y-6",children:d.jsx(Ss,{title:"Projets en cours",description:"Vue condensée des projets les plus actifs",actions:d.jsx("button",{onClick:()=>window.location.assign("/projects"),className:"text-xs px-3 py-1.5 rounded-md bg-slate-900 text-white hover:bg-slate-800",children:"Tous"}),children:d.jsx(Qj,{projects:(a.projectList||[]).filter(C=>i==="all"?!0:C.status===i),max:6,onFocus:C=>{r(C),setTimeout(()=>{const N=w.current;if(!N)return;const P=window.scrollY,R=N.getBoundingClientRect().top+window.scrollY-12-P,O=520,I=performance.now(),$=D=>1-Math.pow(1-D,3);function L(D){const z=Math.min(1,(D-I)/O),B=$(z);window.scrollTo(0,P+R*B),z<1&&requestAnimationFrame(L)}requestAnimationFrame(L)},40)},focusedId:s})})}),d.jsx("div",{className:"space-y-6",children:d.jsx(Ss,{title:"Échéances à venir",description:"Projets & tâches",actions:d.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px] text-slate-500",children:[d.jsx(fw,{className:"h-4 w-4 text-rose-500"}),"Priorité temps"]}),children:d.jsx(Xj,{items:j})})})]}),d.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2 mb-8",children:[d.jsx(Ss,{title:"État des projets",children:d.jsx("div",{style:{height:"300px"},children:d.jsx(Uj,{data:S,options:b})})}),d.jsx(Ss,{title:"Tâches par priorité",children:d.jsx("div",{style:{height:"300px"},children:d.jsx($j,{data:E,options:b})})})]}),d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h3",{className:"text-sm font-semibold text-slate-600",children:"Insights"}),s&&d.jsxs("span",{className:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-700 border border-slate-200",title:"Filtre projet appliqué",children:["Projet :",d.jsx("strong",{className:"font-medium",children:((_=((a==null?void 0:a.projectList)||[]).find(C=>(C._id||C.id)===s))==null?void 0:_.name)||"Sélectionné"})]})]}),d.jsx("div",{className:"grid gap-5 grid-cols-1 md:grid-cols-3 mb-8 animate-fade-in-stagger",children:c?Array.from({length:3}).map((C,N)=>d.jsxs("div",{className:"bg-white/70 dark:bg-slate-900/70 backdrop-blur rounded-xl shadow-soft border border-slate-200/60 dark:border-slate-700/50 p-5",children:[d.jsx("div",{className:"h-3 w-28 bg-slate-200 rounded mb-3 animate-pulse"}),d.jsx("div",{className:"h-6 w-20 bg-slate-200 rounded mb-4 animate-pulse"}),d.jsx("div",{className:"h-9 w-full bg-slate-100 rounded animate-pulse"})]},`sk-${N}`)):k.map((C,N)=>d.jsx("div",{className:"bg-white/70 dark:bg-slate-900/70 backdrop-blur rounded-xl shadow-soft border border-slate-200/60 dark:border-slate-700/50 p-5 animate-fade-in",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-slate-600",children:C.title}),d.jsx("div",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:C.value})]}),d.jsx(Hx,{data:C.trend,stroke:C.color,width:120,height:36})]})},`${x}-${N}`))},`insights-${x}`),d.jsxs("div",{id:"tasks-section",className:"grid gap-8 grid-cols-1 lg:[grid-template-columns:1.2fr_1fr]",ref:w,children:[d.jsx(Ss,{title:"Activité récente",description:"Dernières actions sur les projets & tâches",children:d.jsx(qj,{items:((A=a.activities)==null?void 0:A.slice(0,12))||[]})}),d.jsx(Ss,{title:"Tâches récentes",description:s?"Focus sur le projet sélectionné":"Les 10 dernières créées ou mises à jour",actions:s?d.jsx("button",{onClick:()=>r(""),className:"text-xs px-3 py-1.5 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800/50 hover:bg-slate-50 dark:hover:bg-slate-700",children:"Annuler focus"}):null,children:d.jsx("div",{className:"grid gap-3",children:(a.recentTasks||[]).filter(C=>s?(C.project&&(C.project._id||C.project.id||C.project))===s:!0).slice(0,s?15:10).map(C=>d.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg p-4 bg-white/70 dark:bg-slate-800/60",children:[d.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs mr-2 ${C.priority==="high"?"bg-rose-100 dark:bg-rose-900/40 text-rose-700 dark:text-rose-300":C.priority==="medium"?"bg-amber-100 dark:bg-amber-900/40 text-amber-800 dark:text-amber-300":"bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300"}`,children:C.priority==="high"?"Haute":C.priority==="medium"?"Moyenne":"Basse"}),d.jsx("h4",{className:"font-medium mt-2 mb-1 text-slate-800 dark:text-slate-100",children:C.title}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2 line-clamp-2",children:C.description}),d.jsxs("div",{className:"flex justify-between items-center text-[11px]",children:[d.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:new Date(C.dueDate||C.deadline||C.createdAt).toLocaleDateString()}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${C.status==="done"?"bg-emerald-100 dark:bg-emerald-900/40 text-emerald-800 dark:text-emerald-300":C.status==="in_progress"||C.status==="doing"?"bg-sky-100 dark:bg-sky-900/40 text-sky-800 dark:text-sky-300":C.status==="review"?"bg-amber-100 dark:bg-amber-900/40 text-amber-800 dark:text-amber-300":"bg-slate-100 dark:bg-slate-800/60 text-slate-800 dark:text-slate-200"}`,children:C.status==="done"?"Terminée":C.status==="in_progress"||C.status==="doing"?"En cours":C.status==="review"?"En revue":"À faire"})]})]},C._id||C.id))})})]})]}):d.jsx("div",{className:"max-w-[1400px] mx-auto p-6",children:d.jsx("div",{className:"text-sm text-slate-500",children:"Chargement des données du tableau de bord..."})})}function sE({className:e="",performanceSample:t=180,intensityFactor:n=.7}){const s=v.useRef(null),r=v.useRef(null),i=v.useRef([]),o=v.useRef(!1),a=v.useRef({x:.5,y:.5}),l=typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;v.useRef(0);const c=v.useRef(0);return v.useEffect(()=>{if(l)return;const u=s.current;if(!u)return;const f=u.getContext("2d"),h=Math.min(window.devicePixelRatio||1,2);function g(){u.width=u.offsetWidth*h,u.height=u.offsetHeight*h,f.scale(h,h)}g();const p=new ResizeObserver(()=>g());p.observe(u);function y(T,R,O=0){let I=T*374761393+R*668265263+O*700001;return I=(I^I>>13)*1274126177,((I^I>>16)>>>0)/4294967295}function x(T,R,O){const I=Math.floor(T),$=Math.floor(R),L=T-I,D=R-$;let z=0;const B=[[0,0],[1,0],[0,1],[1,1]];for(let q=0;q<4;q++){const[Q,se]=B[q],he=y(I+Q,$+se,Math.floor(O*.1)),te=1-Math.abs(L-Q),je=1-Math.abs(D-se);z+=he*te*je}return z}const m={cols:0,rows:0,scale:80,vectors:[],t:0};function w(){m.cols=Math.ceil(u.offsetWidth/m.scale)+2,m.rows=Math.ceil(u.offsetHeight/m.scale)+2,m.vectors=new Array(m.cols*m.rows).fill(0).map((T,R)=>({a:Math.random()*Math.PI*2,dx:0,dy:0}))}w();const b=[],k=()=>{const R=(o.current?18:38)*(.4+n*.9);return Math.round(R)};function S(){const T=Math.random()*u.offsetWidth,R=Math.random()*u.offsetHeight;b.push({x:T,y:R,life:0,max:700+Math.random()*400,path:[]})}for(let T=0;T<k();T++)S();function E(T,R){const O=Math.floor(T/m.scale),I=Math.floor(R/m.scale);if(O<0||I<0||O>=m.cols||I>=m.rows)return{x:0,y:0};const $=m.vectors[I*m.cols+O];return{x:Math.cos($.a),y:Math.sin($.a)}}function j(T){const R=At.getEnergy?At.getEnergy():0;c.current=R>c.current?c.current+(R-c.current)*.4:c.current*.94+R*.06,m.t+=T*25e-5*(1+c.current*1.5);for(let O=0;O<m.rows;O++)for(let I=0;I<m.cols;I++){const $=O*m.cols+I,L=m.vectors[$],D=x(I*.9+m.t*.8,O*.9+m.t*.8,m.t),z=x(I*.9-m.t*.6,O*.9-m.t*.6,m.t+5.123),q=((D-z)*Math.PI*2-L.a+Math.PI*3)%(Math.PI*2)-Math.PI;L.a+=q*(.05+c.current*.05)}}function _(T){const O=(o.current?38:52)*(.55+n*.9)*(1+c.current*.9);for(const I of b){I.life+=T,I.life>I.max&&(I.x=Math.random()*u.offsetWidth,I.y=Math.random()*u.offsetHeight,I.life=0,I.max=700+Math.random()*400,I.path=[]);const $=E(I.x,I.y);I.x+=$.x*O*T/1e3+(Math.random()-.5)*.4,I.y+=$.y*O*T/1e3+(Math.random()-.5)*.4,I.x<0?I.x+=u.offsetWidth:I.x>u.offsetWidth&&(I.x-=u.offsetWidth),I.y<0?I.y+=u.offsetHeight:I.y>u.offsetHeight&&(I.y-=u.offsetHeight),I.path.push({x:I.x,y:I.y});const L=40+Math.floor(n*30)+Math.floor(c.current*25);I.path.length>L&&I.path.shift()}}function A(){const T=getComputedStyle(document.documentElement).getPropertyValue("--color-accent-base").trim()||"#0ea5e9",R=c.current;f.clearRect(0,0,u.offsetWidth,u.offsetHeight),f.globalCompositeOperation="source-over";const O=f.createLinearGradient(0,0,u.offsetWidth,u.offsetHeight);O.addColorStop(0,ho(T,.05+R*.06)),O.addColorStop(1,ho(T,.015+R*.03)),f.fillStyle=O,f.fillRect(0,0,u.offsetWidth,u.offsetHeight),f.save();const I=(a.current.x-.5)*40,$=(a.current.y-.5)*40;f.translate(I,$),f.globalAlpha=.06+R*.04;const L=70;f.beginPath();for(let D=-L*2;D<u.offsetWidth+L*2;D+=L)f.moveTo(D,-L*2),f.lineTo(D,u.offsetHeight+L*2);for(let D=-L*2;D<u.offsetHeight+L*2;D+=L)f.moveTo(-L*2,D),f.lineTo(u.offsetWidth+L*2,D);f.strokeStyle=ho(T,.12+R*.08),f.lineWidth=.5,f.stroke(),f.restore(),f.globalCompositeOperation="lighter";for(const D of b){if(D.path.length<2)continue;const z=Math.min(1,D.life/400)*(1-D.life/D.max);f.lineWidth=o.current?1:1+n*.6+R*.5,f.strokeStyle=T,f.globalAlpha=z*(.3+n*.25+R*.35),f.beginPath();for(let B=0;B<D.path.length;B++){const q=D.path[B];B===0?f.moveTo(q.x,q.y):f.lineTo(q.x,q.y)}f.stroke()}f.globalCompositeOperation="source-over";for(const D of b){const z=D.path[D.path.length-1];if(!z)continue;const B=1-D.life/D.max;f.fillStyle=ho(T,(.12+n*.15+R*.2)*B),f.beginPath(),f.arc(z.x,z.y,(o.current?1.3:1.2+n*.7)+R*1.4,0,Math.PI*2),f.fill()}f.globalAlpha=1}let C=performance.now();function N(T){const R=T-C;C=T,j(R),_(R),A(),i.current.push(R),i.current.length>t&&(i.current.reduce((I,$)=>I+$,0)/i.current.length>40&&!o.current&&(o.current=!0),i.current=[]),r.current=requestAnimationFrame(N)}r.current=requestAnimationFrame(N);function P(T){const R=u.getBoundingClientRect();a.current.x=(T.clientX-R.left)/R.width,a.current.y=(T.clientY-R.top)/R.height}return window.addEventListener("pointermove",P),document.addEventListener("visibilitychange",()=>{document.hidden?cancelAnimationFrame(r.current):(C=performance.now(),r.current=requestAnimationFrame(N))}),()=>{cancelAnimationFrame(r.current),window.removeEventListener("pointermove",P),p.disconnect()}},[l,t,n]),d.jsxs("div",{className:`absolute inset-0 overflow-hidden ${e}`,"aria-hidden":"true",children:[!l&&d.jsx("canvas",{ref:s,className:"absolute inset-0 w-full h-full"}),l&&d.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_35%_40%,rgba(var(--color-accent-rgb,37,99,235),0.18),transparent_70%)]"}),d.jsx("div",{className:"absolute inset-0 mix-blend-plus-lighter opacity-[0.55] pointer-events-none",style:{background:"radial-gradient(circle at 60% 65%,rgba(255,255,255,0.08),transparent 70%)"}})]})}function ho(e,t=1){let n=e.replace("#","").trim();n.length===3&&(n=n.split("").map(a=>a+a).join(""));const s=parseInt(n,16),r=s>>16&255,i=s>>8&255,o=s&255;return`rgba(${r},${i},${o},${t})`}function rE({intensity:e=.7,className:t=""}){const n=v.useRef(null);return v.useEffect(()=>{const s=n.current;if(!s)return;let r,i=0;function o(){i+=.008+e*.01;const a=Math.sin(i*.9)*40,l=Math.cos(i*.7)*55,c=Math.sin(i*.5+1)*50;s.style.background=`radial-gradient(circle at ${50+a}% ${50+l}%, var(--color-accent-base)11, transparent 70%),radial-gradient(circle at ${50-l}% ${50-c}%, var(--color-accent-base)18, transparent 72%),radial-gradient(circle at ${50+c}% ${50-a}%, var(--color-accent-base)10, transparent 75%)`,r=requestAnimationFrame(o)}return r=requestAnimationFrame(o),()=>cancelAnimationFrame(r)},[e]),d.jsx("div",{ref:n,className:`absolute inset-0 transition-opacity duration-700 ${t}`,style:{background:"radial-gradient(circle at 50% 50%, var(--color-accent-base)15, transparent 70%)",mixBlendMode:"plus-lighter",opacity:.9},"aria-hidden":"true"})}function iE({intensity:e=.7,className:t=""}){const n=v.useRef(null),s=typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;return v.useEffect(()=>{if(s)return;const r=n.current;if(!r)return;const i=r.getContext("2d");function o(){r.width=r.offsetWidth,r.height=r.offsetHeight}o();const a=new ResizeObserver(o);a.observe(r);const l=[],c=Math.round(40+e*70);for(let g=0;g<c;g++)l.push({x:Math.random()*r.width,y:Math.random()*r.height,r:1+Math.random()*2,o:Math.random(),vx:(Math.random()-.5)*.15,vy:(Math.random()-.5)*.15});let u=0,f;function h(){u+=.016,i.clearRect(0,0,r.width,r.height);const g=getComputedStyle(document.documentElement).getPropertyValue("--color-accent-base").trim()||"#0ea5e9";for(const p of l)p.x+=p.vx*(.5+e),p.y+=p.vy*(.5+e),p.x<0?p.x+=r.width:p.x>r.width&&(p.x-=r.width),p.y<0?p.y+=r.height:p.y>r.height&&(p.y-=r.height);i.globalAlpha=.15+e*.15,i.strokeStyle=g,i.lineWidth=.6;for(let p=0;p<l.length;p++)for(let y=p+1;y<l.length;y++){const x=l[p],m=l[y],w=x.x-m.x,b=x.y-m.y;Math.sqrt(w*w+b*b)<110+e*70&&(i.beginPath(),i.moveTo(x.x,x.y),i.lineTo(m.x,m.y),i.stroke())}i.globalAlpha=.5+e*.4;for(const p of l)i.beginPath(),i.fillStyle=g,i.arc(p.x,p.y,p.r+Math.sin(u+p.o)*.4*e,0,Math.PI*2),i.fill();f=requestAnimationFrame(h)}return f=requestAnimationFrame(h),()=>{cancelAnimationFrame(f),a.disconnect()}},[e,s]),d.jsx("div",{className:`absolute inset-0 ${t}`,"aria-hidden":"true",children:d.jsx("canvas",{ref:n,className:"w-full h-full"})})}const Lp={neural:e=>d.jsx(sE,{...e}),gradient:e=>d.jsx(rE,{...e,intensity:e.intensityFactor}),particles:e=>d.jsx(iE,{...e,intensity:e.intensityFactor})},Yl=["neural","gradient","particles"],Dp="devdash-bg-variant";function oE({className:e=""}){const{factor:t}=Nd(),[n,s]=v.useState(()=>{try{return localStorage.getItem(Dp)||"neural"}catch{return"neural"}}),r=typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;v.useEffect(()=>{try{localStorage.setItem(Dp,n)}catch{}},[n]);const i=()=>d.jsxs("button",{onClick:()=>{const a=Yl.indexOf(n),l=Yl[(a+1)%Yl.length];s(l)},className:"absolute top-3 left-3 z-30 text-[10px] uppercase tracking-wide px-2 py-1 rounded bg-[var(--color-surface)]/70 backdrop-blur border border-[var(--color-border)] hover:bg-[var(--color-surface-alt)] text-[var(--color-text-muted)]","aria-label":"Changer l'arrière-plan",children:["BG: ",n]});if(r)return d.jsx("div",{className:`absolute inset-0 bg-[radial-gradient(circle_at_45%_40%,rgba(var(--color-accent-rgb,37,99,235),0.15),transparent_70%)] ${e}`,"aria-hidden":"true",children:d.jsx(i,{})});const o=Lp[n]||Lp.neural;return d.jsxs("div",{className:`absolute inset-0 ${e}`,"aria-hidden":"true",children:[d.jsx(o,{intensityFactor:t}),d.jsx(i,{})]})}function aE(){return getComputedStyle(document.documentElement).getPropertyValue("--color-accent-base").trim()||"#2563eb"}function Kx({type:e="logo",variant:t="mark",size:n=64,className:s="",name:r}){const{theme:i}=Ti(),o=aE();function a(l,c=.2){try{let u=l.replace("#","");u.length===3&&(u=u.split("").map(w=>w+w).join(""));const f=parseInt(u,16),h=f>>16&255,g=f>>8&255,p=f&255,y=Math.min(255,Math.round(h+(255-h)*c)),x=Math.min(255,Math.round(g+(255-g)*c)),m=Math.min(255,Math.round(p+(255-p)*c));return`rgb(${y},${x},${m})`}catch{return l}}if(e==="logo"){if(t==="mark")return d.jsxs("svg",{width:n,height:n,viewBox:"0 0 64 64",className:s,role:"img","aria-label":`Logo DevDash thème ${i}`,children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"g-accent",x1:"0",y1:"0",x2:"1",y2:"1",children:[d.jsx("stop",{offset:"0%",stopColor:o,stopOpacity:"0.9"}),d.jsx("stop",{offset:"100%",stopColor:a(o,.4),stopOpacity:"0.85"})]}),d.jsxs("radialGradient",{id:"g-pulse",cx:"50%",cy:"50%",r:"50%",children:[d.jsx("stop",{offset:"0%",stopColor:a(o,.6),stopOpacity:"0.9"}),d.jsx("stop",{offset:"100%",stopColor:o,stopOpacity:"0"})]})]}),d.jsx("circle",{cx:"32",cy:"32",r:"30",fill:"url(#g-pulse)"}),d.jsx("path",{d:"M14 34c4-8 6-12 8-12 3 0 5 14 8 14 3 0 5-20 8-20s6 28 8 28c2 0 4-6 8-12",fill:"none",stroke:"url(#g-accent)",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("circle",{cx:"32",cy:"32",r:"6",fill:o,opacity:"0.9"})]});if(t==="full")return d.jsxs("div",{className:s,style:{display:"flex",alignItems:"center",gap:8},"aria-label":`Logo complet DevDash thème ${i}`,children:[d.jsx(Kx,{type:"logo",variant:"mark",size:Math.round(n*.75)}),d.jsx("span",{style:{fontSize:Math.round(n*.42),fontWeight:600,background:`linear-gradient(90deg, ${o}, ${a(o,.35)})`,WebkitBackgroundClip:"text",color:"transparent"},children:"DevDash"})]})}return e==="empty"?d.jsxs("svg",{width:n,height:n,viewBox:"0 0 64 64",className:s,role:"img","aria-label":`Illustration ${r||"vide"} thème ${i}`,children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"g-empty",x1:"0",y1:"0",x2:"1",y2:"1",children:[d.jsx("stop",{offset:"0%",stopColor:a(o,.55)}),d.jsx("stop",{offset:"100%",stopColor:o})]})}),d.jsx("rect",{x:"6",y:"10",width:"52",height:"44",rx:"8",fill:"none",stroke:o,strokeWidth:"2.5",strokeDasharray:"6 6"}),d.jsx("circle",{cx:"26",cy:"28",r:"8",fill:"url(#g-empty)",opacity:"0.9"}),d.jsx("rect",{x:"34",y:"22",width:"14",height:"4",rx:"2",fill:a(o,.35)}),d.jsx("rect",{x:"34",y:"30",width:"18",height:"4",rx:"2",fill:a(o,.15)}),d.jsx("rect",{x:"18",y:"42",width:"28",height:"4",rx:"2",fill:a(o,.5)})]}):null}function lE(){var B,q;Nd();const e=kt();(q=(B=qt().state)==null?void 0:B.from)!=null&&q.pathname;const[n,s]=v.useState(""),[r,i]=v.useState(""),[o,a]=v.useState(""),[l,c]=v.useState(!1),[u,f]=v.useState(null),[h,g]=v.useState(!1),[p,y]=v.useState(!1),[x,m]=v.useState(!1),[w,b]=v.useState(!1),[k,S]=v.useState(""),[E,j]=v.useState(!1),[_,A]=v.useState(null),[C,N]=v.useState(null),[P,T]=v.useState(!1),{login:R}=Qa();Ti();const{playClick:O,playHover:I,enabled:$,playSuccess:L}=Vx();v.useEffect(()=>{new URLSearchParams(window.location.search).get("expired")==="true"&&(y(!0),f("Your session has expired. Please log in again."))},[]);const D=async Q=>{var se,he,te,je;Q.preventDefault(),O(),c(!0),f(null);try{if(h){const H=localStorage.getItem("tempToken");(await R({code:o,tempToken:H})).user?(y(!1),f(null),localStorage.removeItem("tempToken"),setTimeout(()=>e("/dashboard",{replace:!0}),100)):f("Code 2FA invalide")}else{const H=await R({email:n,password:r,rememberMe:P});H.requires2FA?(localStorage.setItem("tempToken",H.tempToken),f(null),H.setupRequired?e("/security",{replace:!0}):(g(!0),a(""))):H.user?(y(!1),f(null),setTimeout(()=>e("/dashboard",{replace:!0}),100)):f("Échec de la connexion")}}catch(H){console.error("Login error:",H);const Re=((se=H.meta)==null?void 0:se.attemptsRemaining)!==void 0?`${H.message} (tentatives restantes: ${H.meta.attemptsRemaining})`:((te=(he=H.response)==null?void 0:he.data)==null?void 0:te.message)||H.message||"Connection error";f(Re),H.meta&&N(H.meta),((je=H.response)==null?void 0:je.status)===429&&f("Too many login attempts. Please try again later.")}finally{c(!1)}},z=async Q=>{var se,he;if(Q.preventDefault(),O(),!!k){c(!0),f(null),j(!1);try{const te=await zk(k);j(!0),L(),te.devResetLink?(A(te.devResetLink),console.log("Lien de réinitialisation (dev):",te.devResetLink)):te.token&&console.log("Dev token (fallback):",te.token)}catch(te){f(((he=(se=te.response)==null?void 0:se.data)==null?void 0:he.message)||"Erreur envoi lien")}finally{c(!1)}}};return d.jsxs("div",{className:"min-h-screen relative flex flex-col items-center justify-center px-4 py-10 sm:px-6 lg:px-8 bg-[var(--color-bg)]",onMouseEnter:()=>$&&I(),children:[d.jsx(oE,{}),d.jsx("div",{className:"absolute top-4 right-4 z-20",children:d.jsx(qx,{})}),d.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[d.jsx("div",{className:"absolute -top-40 -right-32 w-96 h-96 rounded-full bg-[radial-gradient(circle_at_30%_30%,rgba(var(--color-focus-ring)/0.18),transparent_70%)]"}),d.jsx("div",{className:"absolute -bottom-48 -left-40 w-[520px] h-[520px] rounded-full bg-[radial-gradient(circle_at_60%_60%,rgba(var(--color-focus-ring)/0.15),transparent_75%)]"})]}),d.jsxs("div",{className:"w-full max-w-md relative z-10",children:[d.jsx("div",{className:"flex items-center justify-center mb-8",children:d.jsx(Kx,{type:"logo",variant:"full",size:70})}),d.jsxs("div",{className:"relative group rounded-2xl shadow-xl shadow-slate-900/5 dark:shadow-black/30 border border-[var(--color-border)] dark:border-[var(--color-border)] bg-[var(--color-surface)] dark:bg-[var(--color-surface)] p-7 sm:p-8",children:[l&&d.jsx("div",{className:"absolute top-0 left-0 h-0.5 w-full overflow-hidden rounded-t-2xl",children:d.jsx("div",{className:"h-full w-full origin-left animate-[progress_1.2s_ease_infinite] progress-accent"})}),d.jsx("style",{children:"@keyframes progress {0%{transform:scaleX(0)}50%{transform:scaleX(1)}100%{transform:scaleX(0)}}"}),d.jsx("h1",{id:"login-title",className:"text-[1.65rem] font-semibold text-[var(--color-text)] tracking-tight",children:w?"Réinitialisation du mot de passe":h?"Authentification à deux facteurs":"Connexion à DevDash"}),d.jsx("p",{className:"mt-1 text-[13px] leading-relaxed text-[var(--color-text-muted)]",children:w?"Entrez votre e-mail pour recevoir un lien de réinitialisation.":h?"Saisissez votre code pour finaliser la connexion.":"Accédez à votre tableau de bord sécurisé."}),d.jsxs("div",{"aria-live":"polite",className:"space-y-3 mt-5",children:[p&&d.jsxs("div",{className:"alert-warn",children:[d.jsx("span",{className:"mt-0.5 h-2 w-2 rounded-full bg-[var(--color-warning)]"}),d.jsx("span",{children:"Session expirée. Veuillez vous reconnecter."})]}),u&&d.jsxs("div",{className:"alert-error",children:[d.jsx("span",{className:"mt-0.5 h-2 w-2 rounded-full bg-[var(--color-danger)]"}),d.jsx("span",{children:u})]})]}),!w&&d.jsxs("form",{onSubmit:D,className:"mt-7 space-y-5",noValidate:!0,children:[h?d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{htmlFor:"code",className:"block text-xs font-medium tracking-wide text-[var(--color-text-muted)] uppercase",children:"Code d’authentification"}),d.jsx("input",{id:"code",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:o,onChange:Q=>a(Q.target.value),placeholder:"Code 6 chiffres ou secours",required:!0,autoComplete:"one-time-code",className:"field-base tracking-widest font-mono"}),d.jsx("p",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:"Code généré par votre application TOTP ou un code de secours."})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{htmlFor:"email",className:"block text-xs font-medium tracking-wide text-slate-600 dark:text-slate-300 uppercase",children:"Adresse e-mail"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{id:"email",type:"email",value:n,onChange:Q=>s(Q.target.value),placeholder:"ex: contact@exemple.com",autoComplete:"email",required:!0,className:"field-base"}),d.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-md ring-1 ring-transparent peer-focus:ring-[var(--color-accent)]/30 peer-focus:border-[var(--color-accent)]/60"})]})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{htmlFor:"password",className:"block text-xs font-medium tracking-wide text-slate-600 dark:text-slate-300 uppercase",children:"Mot de passe"}),d.jsxs("div",{className:"relative group/password",children:[d.jsx("input",{id:"password",type:x?"text":"password",value:r,onChange:Q=>i(Q.target.value),placeholder:"Votre mot de passe",required:!0,autoComplete:"current-password",className:"field-base pr-10"}),d.jsx("button",{type:"button",onClick:()=>m(Q=>!Q),"aria-label":x?"Masquer le mot de passe":"Afficher le mot de passe",className:"absolute inset-y-0 right-0 px-2 text-[11px] text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",children:x?"Hide":"Show"})]}),d.jsxs("div",{className:"flex justify-between pt-1",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs text-[var(--color-text-muted)]",children:[d.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-emerald-500"}),"Sécurisé par HTTPS"]}),d.jsx("button",{type:"button",onClick:()=>{b(!0),f(null)},className:"text-xs text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",children:"Mot de passe oublié ?"})]})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 pt-2",children:[d.jsxs("button",{type:"submit",disabled:l,className:"btn-accent",children:[l&&d.jsx("span",{className:"h-3 w-3 border-2 border-white/40 border-t-white rounded-full animate-spin"}),l?"Connexion…":h?"Vérifier":"Se connecter"]}),!h&&d.jsxs("label",{className:"flex items-center gap-2 text-[11px] text-[var(--color-text-muted)] cursor-pointer select-none",children:[d.jsx("input",{type:"checkbox",checked:P,onChange:Q=>T(Q.target.checked),className:"h-3.5 w-3.5 rounded border-[var(--color-border)] bg-[var(--color-surface)] text-[var(--color-accent)] focus:ring-[var(--color-accent)]/40"}),d.jsx("span",{children:"Se souvenir de moi"})]}),h&&d.jsx("button",{type:"button",onClick:()=>{g(!1),a(""),f(null)},className:"btn-ghost",children:"Retour"}),d.jsx("div",{className:"flex-1"}),d.jsxs("div",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:["v1.0",(C==null?void 0:C.attemptsRemaining)!==void 0&&!h&&!w?` · Tentatives: ${C.attemptsRemaining}`:""]})]})]}),w&&d.jsxs("form",{onSubmit:z,className:"mt-7 space-y-5",noValidate:!0,children:[d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{htmlFor:"resetEmail",className:"block text-xs font-medium tracking-wide text-[var(--color-text-muted)] uppercase",children:"Adresse e-mail"}),d.jsx("input",{id:"resetEmail",type:"email",value:k,onChange:Q=>S(Q.target.value),required:!0,placeholder:"ex: contact@exemple.com",className:"field-base"}),E&&d.jsx("p",{className:"text-[11px] text-[var(--color-success)] mt-1",children:"Si ce compte existe, un lien a été envoyé."}),_&&d.jsxs("p",{className:"text-[11px] mt-2 break-words text-[var(--color-text-muted)]",children:["Lien direct (dev): ",d.jsx("a",{className:"underline text-[var(--color-accent)]",href:_,children:"Ouvrir"})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 pt-2",children:[d.jsx("button",{type:"submit",disabled:l,className:"btn-accent",children:l?"Envoi…":"Envoyer le lien"}),d.jsx("button",{type:"button",onClick:()=>{b(!1),S(""),j(!1)},className:"btn-ghost",children:"Retour"}),d.jsx("div",{className:"flex-1"}),d.jsx("div",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:"v1.0"})]})]})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-[11px] text-slate-500 dark:text-slate-500/80",children:["© ",new Date().getFullYear()," DevDash. Sécurité & productivité unifiées."]})})]})]})}function cE(){const{id:e}=v2(),t=kt(),[n,s]=v.useState(null),[r,i]=v.useState([]),[o,a]=v.useState(""),[l,c]=v.useState(!1),[u,f]=v.useState(!0),[h,g]=v.useState(null);v.useEffect(()=>{(async()=>{var m,w;try{f(!0);const b=await U.get(`/projects/${e}`),k=Op(b);s(k);try{const S=await U.get(`/tasks?projectId=${e}`);i(_a(S))}catch{}}catch(b){g(((w=(m=b==null?void 0:b.response)==null?void 0:m.data)==null?void 0:w.message)||b.message)}finally{f(!1)}})()},[e]);async function p(x){var m,w;if(x.preventDefault(),!!o.trim()){c(!0);try{const b=await U.post("/tasks",{title:o.trim(),project:e,description:o.trim()});i(k=>{var S;return[{...Op(b)||((S=b.data)==null?void 0:S.data)||b.data,title:o.trim()},...k]}),a("")}catch(b){alert(((w=(m=b.response)==null?void 0:m.data)==null?void 0:w.message)||b.message)}finally{c(!1)}}}if(u)return d.jsx("div",{className:"p-6 text-sm text-slate-500",children:"Chargement…"});if(h)return d.jsxs("div",{className:"m-6 bg-rose-50 border border-rose-200 text-rose-700 rounded p-4",children:["Erreur: ",h]});if(!n)return d.jsx("div",{className:"p-6 text-sm text-slate-500",children:"Projet introuvable."});const y=n.status==="active"?"bg-sky-100 dark:bg-sky-900/40 text-sky-800 dark:text-sky-300":n.status==="on_hold"?"bg-amber-100 dark:bg-amber-900/40 text-amber-800 dark:text-amber-300":n.status==="completed"?"bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300":"bg-slate-100 dark:bg-slate-800/60 text-slate-700 dark:text-slate-200";return d.jsxs("div",{className:"max-w-[1000px] mx-auto p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:n.name}),d.jsx("div",{className:"mt-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border border-slate-200",children:d.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${y}`,children:n.status==="active"?"Actif":n.status==="on_hold"?"En pause":n.status==="completed"?"Terminé":"Annulé"})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>t(-1),className:"px-3 py-2 rounded-md border border-slate-200 text-slate-700 hover:bg-slate-50",children:"Retour"}),d.jsx(Rr,{to:"/projects",className:"px-3 py-2 rounded-md bg-[var(--color-accent)] hover:bg-[var(--color-accent-hover)] text-white",children:"Tous les projets"})]})]}),d.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-soft mb-6",children:[d.jsx("h2",{className:"text-sm font-semibold text-slate-600 mb-2",children:"Description"}),d.jsx("p",{className:"text-slate-700 mb-4",children:n.description}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-slate-500",children:"Date limite"}),d.jsx("div",{className:"text-slate-800 font-medium",children:n.deadline?new Date(n.deadline).toLocaleDateString():"—"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-slate-500",children:"Créé le"}),d.jsx("div",{className:"text-slate-800 font-medium",children:n.createdAt?new Date(n.createdAt).toLocaleDateString():"—"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-soft mb-6",children:[d.jsx("h2",{className:"text-sm font-semibold text-slate-600 mb-4",children:"Créer une tâche rapide"}),d.jsxs("form",{onSubmit:p,className:"flex flex-col sm:flex-row gap-3",children:[d.jsx("input",{value:o,onChange:x=>a(x.target.value),placeholder:"Titre de la tâche",className:"flex-1 px-3 py-2 rounded-md border border-slate-200"}),d.jsx("button",{type:"submit",disabled:l||!o.trim(),className:"px-4 py-2 rounded-md bg-[var(--color-accent)] text-white disabled:opacity-60 hover:bg-[var(--color-accent-hover)]",children:l?"Création…":"Ajouter"})]})]}),d.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-soft",children:[d.jsxs("h2",{className:"text-sm font-semibold text-slate-600 mb-4",children:["Tâches (",r.length,")"]}),r.length===0&&d.jsx("div",{className:"text-sm text-slate-500",children:"Aucune tâche pour l'instant."}),d.jsx("div",{className:"grid gap-3",children:r.map(x=>d.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("h3",{className:"font-medium text-slate-800 text-sm",children:x.title}),d.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${x.status==="done"?"bg-emerald-100 text-emerald-700":x.status==="in_progress"||x.status==="doing"?"bg-sky-100 text-sky-700":x.status==="in_review"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-700"}`,children:x.status==="done"?"Terminée":x.status==="in_progress"||x.status==="doing"?"En cours":x.status==="in_review"?"En revue":"À faire"})]}),x.description&&d.jsx("p",{className:"text-xs text-slate-500 line-clamp-2 mb-2",children:x.description}),d.jsxs("div",{className:"flex items-center justify-between text-[11px] text-slate-400",children:[d.jsx("span",{children:x.createdAt?new Date(x.createdAt).toLocaleDateString():""}),x.deadline&&d.jsxs("span",{children:["Échéance: ",new Date(x.deadline).toLocaleDateString()]})]})]},x._id||x.id))})]})]})}const Qx=({isOpen:e,title:t="Confirmation",message:n,confirmText:s="Confirmer",cancelText:r="Annuler",variant:i="warning",onConfirm:o,onCancel:a})=>{if(!e)return null;const l=i==="danger"?{box:"bg-rose-100 dark:bg-rose-900/40 text-rose-700 dark:text-rose-300",button:"bg-rose-600 hover:bg-rose-700 text-white"}:i==="info"?{box:"bg-sky-100 dark:bg-sky-900/40 text-sky-700 dark:text-sky-300",button:"bg-sky-600 hover:bg-sky-700 text-white"}:{box:"bg-amber-100 dark:bg-amber-900/40 text-amber-800 dark:text-amber-300",button:"bg-amber-600 hover:bg-amber-700 text-white"};return d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[d.jsx("div",{className:"absolute inset-0 bg-slate-900/50",onClick:a}),d.jsxs("div",{className:"relative bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl shadow-xl max-w-md w-full p-5 animate-fade-in",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${l.box}`,children:i==="danger"?d.jsx(lw,{className:"h-5 w-5"}):d.jsx(kw,{className:"h-5 w-5"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-base font-semibold text-slate-900 dark:text-slate-100 mb-1",children:t}),d.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:n})]})]}),d.jsxs("div",{className:"flex justify-end gap-2 mt-5",children:[d.jsx("button",{onClick:a,className:"px-3 py-2 rounded-md border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-200 hover:bg-slate-50",children:r}),d.jsx("button",{onClick:o,className:`px-3 py-2 rounded-md ${l.button}`,children:s})]})]})]})};function uE(){const e=kt(),[t,n]=v.useState([]),[s,r]=v.useState(!0),[i,o]=v.useState(null),[a,l]=v.useState({name:"",description:"",deadline:""}),[c,u]=v.useState(!1),[f,h]=v.useState("all"),[g,p]=v.useState(""),[y,x]=v.useState(null),m=async()=>{try{r(!0);const _=await U.get("/projects");n(_a(_))}catch(_){o(_.message)}finally{r(!1)}};v.useEffect(()=>{m()},[]);const w=async _=>{_.preventDefault();try{await U.post("/projects",a),l({name:"",description:"",deadline:""}),u(!1),m()}catch(A){o(A.message)}},b=async _=>{x({id:_,title:"Supprimer le projet",message:"Êtes-vous sûr de vouloir supprimer ce projet ? Cette action est irréversible."})},k=async(_,A)=>{try{await U.put(`/projects/${_}`,{status:A}),m()}catch(C){o(C.message)}},S=(_,A)=>{k(_,A)},j=(Array.isArray(t)?t:[]).filter(_=>f==="all"?!0:_.status===f).filter(_=>{var A,C;return g?((A=_.name)==null?void 0:A.toLowerCase().includes(g.toLowerCase()))||((C=_.description)==null?void 0:C.toLowerCase().includes(g.toLowerCase())):!0});return s?d.jsx("div",{className:"text-sm text-slate-500 p-6",children:"Chargement..."}):i?d.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded text-sm text-red-700 m-6",children:["Erreur: ",i]}):d.jsxs("div",{className:"max-w-[1200px] mx-auto p-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Projets"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("select",{value:f,onChange:_=>h(_.target.value),className:"px-3 py-2 rounded-md border border-slate-200 bg-white text-slate-700",children:[d.jsx("option",{value:"all",children:"Tous"}),d.jsx("option",{value:"active",children:"Actif"}),d.jsx("option",{value:"on_hold",children:"En pause"}),d.jsx("option",{value:"completed",children:"Terminé"}),d.jsx("option",{value:"cancelled",children:"Annulé"})]}),d.jsx("input",{type:"text",placeholder:"Rechercher un projet...",value:g,onChange:_=>p(_.target.value),className:"px-3 py-2 rounded-md border border-slate-200 bg-white text-slate-700 w-64"}),d.jsx("button",{className:"px-3 py-2 rounded-md bg-[var(--color-accent)] hover:bg-[var(--color-accent-hover)] text-white",onClick:()=>u(_=>!_),children:c?"Annuler":"Nouveau Projet"})]})]}),c&&d.jsxs("form",{onSubmit:w,className:"bg-white rounded-xl p-6 shadow-soft mb-6 grid gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:"Nom du projet"}),d.jsx("input",{type:"text",value:a.name,onChange:_=>l({...a,name:_.target.value}),placeholder:"Nom du projet",required:!0,className:"w-full px-3 py-2 rounded-md border border-slate-200 bg-white text-slate-700"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:"Description"}),d.jsx("textarea",{value:a.description,onChange:_=>l({...a,description:_.target.value}),placeholder:"Description",required:!0,className:"w-full px-3 py-2 rounded-md border border-slate-200 bg-white text-slate-700 min-h-[88px]"})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:"Date limite"}),d.jsx("input",{type:"date",value:a.deadline,onChange:_=>l({...a,deadline:_.target.value}),required:!0,className:"w-full px-3 py-2 rounded-md border border-slate-200 bg-white text-slate-700"})]})}),d.jsx("div",{children:d.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md bg-[var(--color-accent)] hover:bg-[var(--color-accent-hover)] text-white",children:"Créer le projet"})})]}),d.jsx("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:j.map(_=>d.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-soft",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsx("h3",{className:"font-semibold text-slate-800",children:_.name}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${_.status==="active"?"bg-sky-100 dark:bg-sky-900/40 text-sky-800 dark:text-sky-300":_.status==="on_hold"?"bg-amber-100 dark:bg-amber-900/40 text-amber-800 dark:text-amber-300":_.status==="completed"?"bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300":"bg-slate-100 dark:bg-slate-800/60 text-slate-700 dark:text-slate-200"}`,children:_.status==="active"?"Actif":_.status==="on_hold"?"En pause":_.status==="completed"?"Terminé":"Annulé"})]}),d.jsx("p",{className:"text-sm text-slate-600 mb-3",children:_.description}),d.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-500 mb-4",children:[d.jsxs("span",{children:["Créé le ",new Date(_.createdAt).toLocaleDateString()]}),d.jsxs("span",{children:[_.tasksCount||0," tâches"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("select",{value:_.status,onChange:A=>S(_._id,A.target.value),className:"px-3 py-2 rounded-md border border-slate-200 bg-white text-slate-700 flex-1",children:[d.jsx("option",{value:"active",children:"Actif"}),d.jsx("option",{value:"on_hold",children:"En pause"}),d.jsx("option",{value:"completed",children:"Terminé"}),d.jsx("option",{value:"cancelled",children:"Annulé"})]}),d.jsx("button",{className:"px-3 py-2 rounded-md bg-[var(--color-accent)] hover:bg-[var(--color-accent-hover)] text-white",onClick:()=>e(`/projects/${_._id}`),children:"Ouvrir"}),d.jsx("button",{onClick:()=>b(_._id),className:"px-3 py-2 rounded-md bg-rose-600 hover:bg-rose-700 text-white",children:"Supprimer"})]})]},_._id))}),d.jsx(Qx,{isOpen:!!y,title:y==null?void 0:y.title,message:y==null?void 0:y.message,variant:"danger",confirmText:"Supprimer",onCancel:()=>x(null),onConfirm:async()=>{if(y!=null&&y.id)try{await U.delete(`/projects/${y.id}`),await m()}catch(_){o(_.message)}finally{x(null)}}})]})}function dE(){const{search:e}=qt();return v.useMemo(()=>new URLSearchParams(e),[e])}const Kl=[{re:/.{8,}/,label:"≥8 caractères"},{re:/[A-Z]/,label:"Majuscule"},{re:/[a-z]/,label:"Minuscule"},{re:/\d/,label:"Chiffre"},{re:/[^A-Za-z0-9]/,label:"Symbole"}];function fE(){const t=dE().get("token")||"",n=kt(),[s,r]=v.useState(""),[i,o]=v.useState(""),[a,l]=v.useState(!1),[c,u]=v.useState(null),[f,h]=v.useState(!1);v.useEffect(()=>{t||u("Lien invalide ou token manquant.")},[t]);const g=Kl.reduce((m,w)=>m+(w.re.test(s)?1:0),0),p=Math.round(g/Kl.length*100),y=p<40?"bg-red-500":p<70?"bg-amber-500":"bg-emerald-500",x=async m=>{var w,b;if(m.preventDefault(),!a){if(u(null),!t)return u("Token absent.");if(s!==i)return u("Les mots de passe ne correspondent pas.");l(!0);try{const k=await Bk({token:t,password:s});k.success?(h(!0),setTimeout(()=>n("/login",{replace:!0}),1800)):u(k.message||"Erreur inconnue")}catch(k){u(((b=(w=k.response)==null?void 0:w.data)==null?void 0:b.message)||k.message||"Échec de la réinitialisation")}finally{l(!1)}}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-10 bg-[var(--color-bg)]",children:d.jsxs("div",{className:"w-full max-w-md relative z-10",children:[d.jsxs("div",{className:"mb-6 text-center",children:[d.jsx("h1",{className:"text-2xl font-semibold text-[var(--color-text)]",children:"Réinitialiser le mot de passe"}),d.jsx("p",{className:"text-sm text-[var(--color-text-muted)] mt-1",children:"Définissez un nouveau mot de passe sécurisé."})]}),d.jsxs("form",{onSubmit:x,className:"rounded-2xl border border-[var(--color-border)] bg-[var(--color-surface)] p-6 shadow-sm space-y-5",children:[c&&d.jsxs("div",{className:"alert-error",children:[d.jsx("span",{className:"h-2 w-2 rounded-full bg-[var(--color-danger)]"})," ",d.jsx("span",{children:c})]}),f&&d.jsxs("div",{className:"alert-warn !text-[var(--color-success)]",children:[d.jsx("span",{className:"h-2 w-2 rounded-full bg-[var(--color-success)]"})," ",d.jsx("span",{children:"Mot de passe mis à jour. Redirection…"})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{className:"block text-xs font-medium tracking-wide text-slate-600 dark:text-slate-300 uppercase",children:"Nouveau mot de passe"}),d.jsx("input",{type:"password",value:s,onChange:m=>r(m.target.value),required:!0,className:"field-base",placeholder:"••••••••",autoComplete:"new-password"}),d.jsxs("div",{className:"mt-2",children:[d.jsx("div",{className:"h-1.5 w-full rounded bg-[var(--color-surface-alt)] overflow-hidden",children:d.jsx("div",{className:`h-full ${y} transition-all`,style:{width:`${p}%`}})}),d.jsx("div",{className:"grid grid-cols-2 gap-x-3 gap-y-1 mt-2",children:Kl.map(m=>d.jsxs("span",{className:`text-[11px] flex items-center gap-1 ${m.re.test(s)?"text-[var(--color-success)]":"text-[var(--color-text-muted)]"}`,children:[d.jsx("span",{className:`h-2 w-2 rounded-full ${m.re.test(s)?"bg-[var(--color-success)]":"bg-[var(--color-border-strong)]"}`})," ",m.label]},m.label))})]})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{className:"block text-xs font-medium tracking-wide text-slate-600 dark:text-slate-300 uppercase",children:"Confirmer"}),d.jsx("input",{type:"password",value:i,onChange:m=>o(m.target.value),required:!0,className:"field-base",placeholder:"••••••••",autoComplete:"new-password"})]}),d.jsx("button",{type:"submit",disabled:a||f,className:"btn-accent w-full",children:a?"Mise à jour…":"Mettre à jour"}),d.jsx("div",{className:"text-[11px] text-center text-[var(--color-text-muted)] pt-2",children:"Le lien expire après 15 minutes."})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsx("button",{type:"button",onClick:()=>n("/login"),className:"text-[11px] text-[var(--color-accent)] hover:underline",children:"Retour connexion"})})]})})}var hE=Object.defineProperty,ja=Object.getOwnPropertySymbols,Xx=Object.prototype.hasOwnProperty,Gx=Object.prototype.propertyIsEnumerable,Ip=(e,t,n)=>t in e?hE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ou=(e,t)=>{for(var n in t||(t={}))Xx.call(t,n)&&Ip(e,n,t[n]);if(ja)for(var n of ja(t))Gx.call(t,n)&&Ip(e,n,t[n]);return e},au=(e,t)=>{var n={};for(var s in e)Xx.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&ja)for(var s of ja(e))t.indexOf(s)<0&&Gx.call(e,s)&&(n[s]=e[s]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var gs;(e=>{const t=class X{constructor(l,c,u,f){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<X.MIN_VERSION||l>X.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let p=0;p<this.size;p++)h.push(!1);for(let p=0;p<this.size;p++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(u);if(this.drawCodewords(g),f==-1){let p=1e9;for(let y=0;y<8;y++){this.applyMask(y),this.drawFormatBits(y);const x=this.getPenaltyScore();x<p&&(f=y,p=x),this.applyMask(y)}}r(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(l,c){const u=e.QrSegment.makeSegments(l);return X.encodeSegments(u,c)}static encodeBinary(l,c){const u=e.QrSegment.makeBytes(l);return X.encodeSegments([u],c)}static encodeSegments(l,c,u=1,f=40,h=-1,g=!0){if(!(X.MIN_VERSION<=u&&u<=f&&f<=X.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let p,y;for(p=u;;p++){const b=X.getNumDataCodewords(p,c)*8,k=o.getTotalBits(l,p);if(k<=b){y=k;break}if(p>=f)throw new RangeError("Data too long")}for(const b of[X.Ecc.MEDIUM,X.Ecc.QUARTILE,X.Ecc.HIGH])g&&y<=X.getNumDataCodewords(p,b)*8&&(c=b);let x=[];for(const b of l){n(b.mode.modeBits,4,x),n(b.numChars,b.mode.numCharCountBits(p),x);for(const k of b.getData())x.push(k)}r(x.length==y);const m=X.getNumDataCodewords(p,c)*8;r(x.length<=m),n(0,Math.min(4,m-x.length),x),n(0,(8-x.length%8)%8,x),r(x.length%8==0);for(let b=236;x.length<m;b^=253)n(b,8,x);let w=[];for(;w.length*8<x.length;)w.push(0);return x.forEach((b,k)=>w[k>>>3]|=b<<7-(k&7)),new X(p,c,w,h)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let u=0;u<c;u++)for(let f=0;f<c;f++)u==0&&f==0||u==0&&f==c-1||u==c-1&&f==0||this.drawAlignmentPattern(l[u],l[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let u=c;for(let h=0;h<10;h++)u=u<<1^(u>>>9)*1335;const f=(c<<10|u)^21522;r(f>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,s(f,h));this.setFunctionModule(8,7,s(f,6)),this.setFunctionModule(8,8,s(f,7)),this.setFunctionModule(7,8,s(f,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,s(f,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,s(f,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,s(f,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let u=0;u<12;u++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;r(c>>>18==0);for(let u=0;u<18;u++){const f=s(c,u),h=this.size-11+u%3,g=Math.floor(u/3);this.setFunctionModule(h,g,f),this.setFunctionModule(g,h,f)}}drawFinderPattern(l,c){for(let u=-4;u<=4;u++)for(let f=-4;f<=4;f++){const h=Math.max(Math.abs(f),Math.abs(u)),g=l+f,p=c+u;0<=g&&g<this.size&&0<=p&&p<this.size&&this.setFunctionModule(g,p,h!=2&&h!=4)}}drawAlignmentPattern(l,c){for(let u=-2;u<=2;u++)for(let f=-2;f<=2;f++)this.setFunctionModule(l+f,c+u,Math.max(Math.abs(f),Math.abs(u))!=1)}setFunctionModule(l,c,u){this.modules[c][l]=u,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,u=this.errorCorrectionLevel;if(l.length!=X.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const f=X.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],h=X.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],g=Math.floor(X.getNumRawDataModules(c)/8),p=f-g%f,y=Math.floor(g/f);let x=[];const m=X.reedSolomonComputeDivisor(h);for(let b=0,k=0;b<f;b++){let S=l.slice(k,k+y-h+(b<p?0:1));k+=S.length;const E=X.reedSolomonComputeRemainder(S,m);b<p&&S.push(0),x.push(S.concat(E))}let w=[];for(let b=0;b<x[0].length;b++)x.forEach((k,S)=>{(b!=y-h||S>=p)&&w.push(k[b])});return r(w.length==g),w}drawCodewords(l){if(l.length!=Math.floor(X.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let f=0;f<this.size;f++)for(let h=0;h<2;h++){const g=u-h,y=(u+1&2)==0?this.size-1-f:f;!this.isFunction[y][g]&&c<l.length*8&&(this.modules[y][g]=s(l[c>>>3],7-(c&7)),c++)}}r(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let f;switch(l){case 0:f=(u+c)%2==0;break;case 1:f=c%2==0;break;case 2:f=u%3==0;break;case 3:f=(u+c)%3==0;break;case 4:f=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:f=u*c%2+u*c%3==0;break;case 6:f=(u*c%2+u*c%3)%2==0;break;case 7:f=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&f&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let g=!1,p=0,y=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[h][x]==g?(p++,p==5?l+=X.PENALTY_N1:p>5&&l++):(this.finderPenaltyAddHistory(p,y),g||(l+=this.finderPenaltyCountPatterns(y)*X.PENALTY_N3),g=this.modules[h][x],p=1);l+=this.finderPenaltyTerminateAndCount(g,p,y)*X.PENALTY_N3}for(let h=0;h<this.size;h++){let g=!1,p=0,y=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[x][h]==g?(p++,p==5?l+=X.PENALTY_N1:p>5&&l++):(this.finderPenaltyAddHistory(p,y),g||(l+=this.finderPenaltyCountPatterns(y)*X.PENALTY_N3),g=this.modules[x][h],p=1);l+=this.finderPenaltyTerminateAndCount(g,p,y)*X.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let g=0;g<this.size-1;g++){const p=this.modules[h][g];p==this.modules[h][g+1]&&p==this.modules[h+1][g]&&p==this.modules[h+1][g+1]&&(l+=X.PENALTY_N2)}let c=0;for(const h of this.modules)c=h.reduce((g,p)=>g+(p?1:0),c);const u=this.size*this.size,f=Math.ceil(Math.abs(c*20-u*10)/u)-1;return r(0<=f&&f<=9),l+=f*X.PENALTY_N4,r(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let u=[6];for(let f=this.size-7;u.length<l;f-=c)u.splice(1,0,f);return u}}static getNumRawDataModules(l){if(l<X.MIN_VERSION||l>X.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const u=Math.floor(l/7)+2;c-=(25*u-10)*u-55,l>=7&&(c-=36)}return r(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(X.getNumRawDataModules(l)/8)-X.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*X.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let f=0;f<l-1;f++)c.push(0);c.push(1);let u=1;for(let f=0;f<l;f++){for(let h=0;h<c.length;h++)c[h]=X.reedSolomonMultiply(c[h],u),h+1<c.length&&(c[h]^=c[h+1]);u=X.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(l,c){let u=c.map(f=>0);for(const f of l){const h=f^u.shift();u.push(0),c.forEach((g,p)=>u[p]^=X.reedSolomonMultiply(g,h))}return u}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let f=7;f>=0;f--)u=u<<1^(u>>>7)*285,u^=(c>>>f&1)*l;return r(u>>>8==0),u}finderPenaltyCountPatterns(l){const c=l[1];r(c<=this.size*3);const u=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(u&&l[0]>=c*4&&l[6]>=c?1:0)+(u&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,u){return l&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(a,l,c){if(l<0||l>31||a>>>l)throw new RangeError("Value out of range");for(let u=l-1;u>=0;u--)c.push(a>>>u&1)}function s(a,l){return(a>>>l&1)!=0}function r(a){if(!a)throw new Error("Assertion error")}const i=class xe{constructor(l,c,u){if(this.mode=l,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(l){let c=[];for(const u of l)n(u,8,c);return new xe(xe.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!xe.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<l.length;){const f=Math.min(l.length-u,3);n(parseInt(l.substring(u,u+f),10),f*3+1,c),u+=f}return new xe(xe.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!xe.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=l.length;u+=2){let f=xe.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u))*45;f+=xe.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u+1)),n(f,11,c)}return u<l.length&&n(xe.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u)),6,c),new xe(xe.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:xe.isNumeric(l)?[xe.makeNumeric(l)]:xe.isAlphanumeric(l)?[xe.makeAlphanumeric(l)]:[xe.makeBytes(xe.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,c);else if(l<16384)n(2,2,c),n(l,14,c);else if(l<1e6)n(6,3,c),n(l,21,c);else throw new RangeError("ECI assignment value out of range");return new xe(xe.Mode.ECI,0,c)}static isNumeric(l){return xe.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return xe.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let u=0;for(const f of l){const h=f.mode.numCharCountBits(c);if(f.numChars>=1<<h)return 1/0;u+=4+h+f.bitData.length}return u}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let u=0;u<l.length;u++)l.charAt(u)!="%"?c.push(l.charCodeAt(u)):(c.push(parseInt(l.substring(u+1,u+3),16)),u+=2);return c}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;e.QrSegment=i})(gs||(gs={}));(e=>{(t=>{const n=class{constructor(r,i){this.ordinal=r,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(gs||(gs={}));(e=>{(t=>{const n=class{constructor(r,i){this.modeBits=r,this.numBitsCharCount=i}numCharCountBits(r){return this.numBitsCharCount[Math.floor((r+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(gs||(gs={}));var Is=gs;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var pE={L:Is.QrCode.Ecc.LOW,M:Is.QrCode.Ecc.MEDIUM,Q:Is.QrCode.Ecc.QUARTILE,H:Is.QrCode.Ecc.HIGH},Jx=128,Zx="L",ey="#FFFFFF",ty="#000000",ny=!1,sy=1,mE=4,gE=0,xE=.1;function ry(e,t=0){const n=[];return e.forEach(function(s,r){let i=null;s.forEach(function(o,a){if(!o&&i!==null){n.push(`M${i+t} ${r+t}h${a-i}v1H${i+t}z`),i=null;return}if(a===s.length-1){if(!o)return;i===null?n.push(`M${a+t},${r+t} h1v1H${a+t}z`):n.push(`M${i+t},${r+t} h${a+1-i}v1H${i+t}z`);return}o&&i===null&&(i=a)})}),n.join("")}function iy(e,t){return e.slice().map((n,s)=>s<t.y||s>=t.y+t.h?n:n.map((r,i)=>i<t.x||i>=t.x+t.w?r:!1))}function yE(e,t,n,s){if(s==null)return null;const r=e.length+n*2,i=Math.floor(t*xE),o=r/t,a=(s.width||i)*o,l=(s.height||i)*o,c=s.x==null?e.length/2-a/2:s.x*o,u=s.y==null?e.length/2-l/2:s.y*o,f=s.opacity==null?1:s.opacity;let h=null;if(s.excavate){let p=Math.floor(c),y=Math.floor(u),x=Math.ceil(a+c-p),m=Math.ceil(l+u-y);h={x:p,y,w:x,h:m}}const g=s.crossOrigin;return{x:c,y:u,h:l,w:a,excavation:h,opacity:f,crossOrigin:g}}function vE(e,t){return t!=null?Math.max(Math.floor(t),0):e?mE:gE}function oy({value:e,level:t,minVersion:n,includeMargin:s,marginSize:r,imageSettings:i,size:o,boostLevel:a}){let l=ne.useMemo(()=>{const p=(Array.isArray(e)?e:[e]).reduce((y,x)=>(y.push(...Is.QrSegment.makeSegments(x)),y),[]);return Is.QrCode.encodeSegments(p,pE[t],n,void 0,void 0,a)},[e,t,n,a]);const{cells:c,margin:u,numCells:f,calculatedImageSettings:h}=ne.useMemo(()=>{let g=l.getModules();const p=vE(s,r),y=g.length+p*2,x=yE(g,o,p,i);return{cells:g,margin:p,numCells:y,calculatedImageSettings:x}},[l,o,i,s,r]);return{qrcode:l,margin:u,cells:c,numCells:f,calculatedImageSettings:h}}var wE=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),bE=ne.forwardRef(function(t,n){const s=t,{value:r,size:i=Jx,level:o=Zx,bgColor:a=ey,fgColor:l=ty,includeMargin:c=ny,minVersion:u=sy,boostLevel:f,marginSize:h,imageSettings:g}=s,y=au(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:x}=y,m=au(y,["style"]),w=g==null?void 0:g.src,b=ne.useRef(null),k=ne.useRef(null),S=ne.useCallback(R=>{b.current=R,typeof n=="function"?n(R):n&&(n.current=R)},[n]),[E,j]=ne.useState(!1),{margin:_,cells:A,numCells:C,calculatedImageSettings:N}=oy({value:r,level:o,minVersion:u,boostLevel:f,includeMargin:c,marginSize:h,imageSettings:g,size:i});ne.useEffect(()=>{if(b.current!=null){const R=b.current,O=R.getContext("2d");if(!O)return;let I=A;const $=k.current,L=N!=null&&$!==null&&$.complete&&$.naturalHeight!==0&&$.naturalWidth!==0;L&&N.excavation!=null&&(I=iy(A,N.excavation));const D=window.devicePixelRatio||1;R.height=R.width=i*D;const z=i/C*D;O.scale(z,z),O.fillStyle=a,O.fillRect(0,0,C,C),O.fillStyle=l,wE?O.fill(new Path2D(ry(I,_))):A.forEach(function(B,q){B.forEach(function(Q,se){Q&&O.fillRect(se+_,q+_,1,1)})}),N&&(O.globalAlpha=N.opacity),L&&O.drawImage($,N.x+_,N.y+_,N.w,N.h)}}),ne.useEffect(()=>{j(!1)},[w]);const P=ou({height:i,width:i},x);let T=null;return w!=null&&(T=ne.createElement("img",{src:w,key:w,style:{display:"none"},onLoad:()=>{j(!0)},ref:k,crossOrigin:N==null?void 0:N.crossOrigin})),ne.createElement(ne.Fragment,null,ne.createElement("canvas",ou({style:P,height:i,width:i,ref:S,role:"img"},m)),T)});bE.displayName="QRCodeCanvas";var ay=ne.forwardRef(function(t,n){const s=t,{value:r,size:i=Jx,level:o=Zx,bgColor:a=ey,fgColor:l=ty,includeMargin:c=ny,minVersion:u=sy,boostLevel:f,title:h,marginSize:g,imageSettings:p}=s,y=au(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:x,cells:m,numCells:w,calculatedImageSettings:b}=oy({value:r,level:o,minVersion:u,boostLevel:f,includeMargin:c,marginSize:g,imageSettings:p,size:i});let k=m,S=null;p!=null&&b!=null&&(b.excavation!=null&&(k=iy(m,b.excavation)),S=ne.createElement("image",{href:p.src,height:b.h,width:b.w,x:b.x+x,y:b.y+x,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const E=ry(k,x);return ne.createElement("svg",ou({height:i,width:i,viewBox:`0 0 ${w} ${w}`,ref:n,role:"img"},y),!!h&&ne.createElement("title",null,h),ne.createElement("path",{fill:a,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),ne.createElement("path",{fill:l,d:E,shapeRendering:"crispEdges"}),S)});ay.displayName="QRCodeSVG";const kE=()=>{const[e,t]=v.useState(!1),[n,s]=v.useState(!1),[r,i]=v.useState(null),[o,a]=v.useState([]),[l,c]=v.useState(null),[u,f]=v.useState(!0),[h,g]=v.useState(null),p=kt(),y=qt(),[x,m]=v.useState(0),w=v.useCallback((A,C=!0)=>{if(y.pathname===A)return;const N=Date.now();N-x<300||(m(N),p(A,{replace:C}))},[y.pathname,x,p]),b=v.useCallback(async()=>{var A;try{f(!0);const C=await U.get("/api/2fa/status"),N=((A=C==null?void 0:C.data)==null?void 0:A.data)??(C==null?void 0:C.data);return t(!!(N!=null&&N.enabled)),c(null),N}catch(C){return c("Erreur lors de la vérification du statut 2FA"),console.error("Erreur 2FA:",C),null}finally{f(!1)}},[]),k=v.useCallback(async()=>{var A,C;try{c(null),i(null),a([]),s(!0),console.log("🔐 Initialisation de la 2FA...");const N=await J0();if(N!=null&&N.alreadyEnabled)return t(!0),s(!1),i(null),a([]),{alreadyEnabled:!0};if(!(N!=null&&N.qrCode)||!(N!=null&&N.backupCodes))throw new Error("Données de configuration 2FA invalides");return console.log("✅ QR Code et codes de secours générés"),i(N.qrCode),a(N.backupCodes),{qrCode:N.qrCode,backupCodes:N.backupCodes}}catch(N){throw console.error("❌ Erreur lors de l'activation de la 2FA:",N),c(((C=(A=N==null?void 0:N.response)==null?void 0:A.data)==null?void 0:C.message)||"Erreur lors de l'activation de la 2FA"),s(!1),N}},[]),S=v.useCallback(async A=>{var C,N,P,T;try{console.log("🔍 Vérification du code 2FA..."),await Uk(A),console.log("✅ Code 2FA vérifié"),t(!0),s(!1),i(null),a([]);try{if(typeof window<"u"&&!!localStorage.getItem("tempToken")){const O=await G0(A);O!=null&&O.user&&(console.log("🎟️ Connexion finalisée avec 2FA → redirection /dashboard"),w("/dashboard"))}}catch(R){console.warn("Finalisation 2FA non effectuée:",(R==null?void 0:R.message)||R)}return!0}catch(R){console.error("❌ Erreur de vérification 2FA:",R);const O=(N=(C=R==null?void 0:R.response)==null?void 0:C.data)==null?void 0:N.debug;throw O&&(g(O),console.groupCollapsed("🛠️ Debug 2FA (échec vérification)"),console.log("Code saisi:",A),console.log("matchedOffset:",O.matchedOffset),console.log("delta:",O.delta),console.log("codeLength:",O.codeLength),console.log("tokens fenêtre -2..+2:",O.tokens),console.groupEnd()),c(((T=(P=R.response)==null?void 0:P.data)==null?void 0:T.message)||"Code invalide"),R}},[]),E=v.useCallback(async A=>{var C,N,P;try{console.log("🔓 Désactivation de la 2FA...");const T=await U.post("/api/2fa/disable",{code:A}),R=(((C=T==null?void 0:T.data)==null?void 0:C.message)||"").toLowerCase().includes("disabled successfully");return await b(),R&&(console.log("✅ 2FA désactivée"),a([]),c(null)),R}catch(T){throw console.error("❌ Erreur de désactivation 2FA:",T),c(((P=(N=T.response)==null?void 0:N.data)==null?void 0:P.message)||"Code invalide"),T}},[b]),j=v.useCallback(async()=>{var A,C;try{console.log("🔄 Génération de nouveaux codes de secours...");const N=await U.post("/api/2fa/backup-codes");if(!N.data.backupCodes)throw new Error("Pas de codes de secours générés");return console.log("✅ Nouveaux codes de secours générés"),a(N.data.backupCodes),c(null),N.data.backupCodes}catch(N){throw console.error("❌ Erreur de génération des codes:",N),c(((C=(A=N.response)==null?void 0:A.data)==null?void 0:C.message)||"Erreur lors de la génération des codes de secours"),N}},[]),_=v.useCallback(async A=>{try{return await U.post("/api/2fa/verify-backup",{code:A}),!0}catch{return!1}},[]);return v.useEffect(()=>{b()},[b]),{is2FAEnabled:e,isEnabling2FA:n,qrCodeUrl:r,backupCodes:o,error:l,loading:u,check2FAStatus:b,enable2FA:k,verify2FACode:S,disable2FA:E,generateBackupCodes:j,verifyBackupCode:_,lastVerifyDebug:h}},SE=()=>{const[e,t]=v.useState([]),[n,s]=v.useState(!1),[r,i]=v.useState(null),[o,a]=v.useState(0),[l,c]=v.useState({startDate:null,endDate:null,type:[],user:null,resource:null}),u=v.useCallback(async(x={})=>{try{s(!0);const m=await U.get("/auth/audit-logs",{params:{...l,...x}}),b=(Array.isArray(m.data)?m.data:[]).map(k=>({id:k.id||k._id||String(k._id||""),timestamp:k.timestamp||k.createdAt||k.created_at||null,type:k.type||k.action||"event",user:k.user&&(k.user.name||k.user.email)||(typeof k.user=="string"?k.user:"Système"),details:k.details||""}));t(b)}catch{i("Erreur lors du chargement des logs")}finally{s(!1)}},[l]),f=v.useCallback(async x=>{try{await U.post("/audit/logs",{type:x.type,details:x.details,resource:x.resource,metadata:x.metadata})}catch(m){console.error("Erreur lors de l'enregistrement de l'événement:",m)}},[]),h=v.useCallback(async x=>{try{s(!0),i(null),a(0);const m=await U.get(`/auth/audit-logs/export/${x}`,{responseType:"blob",onDownloadProgress:S=>{const E=Math.round(S.loaded*100/S.total);a(E)}}),w=new Blob([m.data],{type:x==="csv"?"text/csv":"application/pdf"}),b=window.URL.createObjectURL(w),k=document.createElement("a");return k.href=b,k.setAttribute("download",`audit-logs-${new Date().toISOString()}.${x}`),document.body.appendChild(k),k.click(),k.remove(),window.URL.revokeObjectURL(b),!0}catch(m){return console.error("Export error:",m),i("Failed to export audit logs"),!1}finally{s(!1),a(0)}},[]),g=v.useCallback(async(x={})=>{try{return(await U.get("/audit/logs/trends",{params:{...l,...x}})).data}catch{throw new Error("Erreur lors de l'analyse des tendances")}},[l]),p=v.useCallback(async x=>{try{s(!0);const m=await U.get("/audit/logs/search",{params:{query:x,...l}});t(m.data)}catch{i("Erreur lors de la recherche dans les logs")}finally{s(!1)}},[l]),y=v.useCallback(async x=>{try{return(await U.get(`/audit/logs/${x}`)).data}catch{throw new Error("Erreur lors de la récupération des détails du log")}},[]);return{logs:e,loading:n,error:r,filters:l,setFilters:c,loadLogs:u,logEvent:f,exportLogs:h,analyzeTrends:g,searchLogs:p,getLogDetails:y}},_E=()=>{const[e,t]=v.useState([]),[n,s]=v.useState(null),[r,i]=v.useState(!0),[o,a]=v.useState(null),l=v.useCallback(async()=>{try{i(!0);const p=await U.get("/api/auth/sessions");t(p.data.sessions),s(p.data.currentSession)}catch{a("Erreur lors du chargement des sessions")}finally{i(!1)}},[]),c=v.useCallback(async p=>{try{await U.delete(`/api/auth/sessions/${p}`),t(y=>y.filter(x=>x.id!==p))}catch{throw new Error("Erreur lors de la révocation de la session")}},[]),u=v.useCallback(async()=>{try{await U.delete("/api/auth/sessions/others"),t(p=>p.filter(y=>y.id===(n==null?void 0:n.id)))}catch{throw new Error("Erreur lors de la révocation des sessions")}},[n]),f=v.useCallback(async p=>{try{await U.put("/api/auth/sessions/preferences",p)}catch{throw new Error("Erreur lors de la mise à jour des préférences")}},[]),h=v.useCallback(async()=>{try{return(await U.get("/api/auth/sessions/check")).data.valid}catch{return!1}},[]),g=v.useCallback(async()=>{try{return(await U.post("/api/auth/sessions/refresh")).data.token}catch{throw new Error("Erreur lors du rafraîchissement de la session")}},[]);return v.useEffect(()=>{if(!(n!=null&&n.expiresAt))return;const p=new Date(n.expiresAt).getTime(),y=Date.now(),m=p-y-5*60*1e3;if(m<=0){g();return}const w=setTimeout(g,m);return()=>clearTimeout(w)},[n,g]),v.useEffect(()=>{const p=setInterval(async()=>{await h()||(window.location.href="/login")},3e5);return()=>clearInterval(p)},[h]),{activeSessions:e,currentSession:n,loading:r,error:o,loadSessions:l,revokeSession:c,revokeAllOtherSessions:u,updateSessionPreferences:f,checkSessionValidity:h,refreshSession:g}},jE=()=>{const e=kt(),{is2FAEnabled:t,isEnabling2FA:n,qrCodeUrl:s,backupCodes:r,enable2FA:i,verify2FACode:o,disable2FA:a,generateBackupCodes:l}=kE(),{activeSessions:c,currentSession:u,loading:f,revokeSession:h,revokeAllOtherSessions:g,loadSessions:p}=_E(),{logs:y,loading:x,loadLogs:m,exportLogs:w}=SE(),[b,k]=v.useState(""),[S,E]=v.useState(!1),[j,_]=v.useState("2fa"),[A,C]=v.useState(!1),[N,P]=v.useState(!1),[T,R]=v.useState(!1),[O,I]=v.useState(null),[$,L]=v.useState(!1),[D,z]=v.useState(null),[B,q]=v.useState(null),[Q,se]=v.useState(""),[he,te]=v.useState(""),je=({className:V="h-4 w-4"})=>d.jsxs("svg",{className:`animate-spin ${V}`,viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]});v.useEffect(()=>{m()},[m]),v.useEffect(()=>{p()},[p]);const H=async()=>{try{await navigator.clipboard.writeText((r||[]).join(`
`))}catch{}},Re=()=>{try{const V=new Blob([(r||[]).join(`
`)],{type:"text/plain;charset=utf-8"}),st=URL.createObjectURL(V),dr=document.createElement("a");dr.href=st,dr.download="devdash-backup-codes.txt",document.body.appendChild(dr),dr.click(),dr.remove(),URL.revokeObjectURL(st)}catch{}},St=()=>d.jsxs("section",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-soft border border-slate-200/60 dark:border-slate-700/50 p-6 animate-fade-in",children:[d.jsxs("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2 mb-2",children:[d.jsx(rw,{className:"h-5 w-5 text-slate-700 dark:text-slate-300"}),"Authentification à deux facteurs"]}),d.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 mb-4",children:"Renforcez la sécurité de votre compte avec un second facteur d’authentification."}),t?d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-md bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 mb-4",children:[d.jsx(Co,{className:"h-5 w-5"}),"L'authentification à deux facteurs est activée"]}),d.jsxs("div",{className:"mt-6",children:[d.jsxs("h3",{className:"text-slate-900 dark:text-slate-100 font-medium flex items-center gap-2 mb-2",children:[d.jsx(xw,{className:"h-5 w-5 text-slate-700 dark:text-slate-300"}),"Codes de secours"]}),d.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm",children:"Conservez ces codes dans un endroit sûr. Ils vous permettront de vous connecter si vous perdez l'accès à votre application d'authentification."}),d.jsx("div",{className:"mt-4",children:S?d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:r.map((V,st)=>d.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/60 border border-slate-200 dark:border-slate-700 rounded text-center font-mono text-sm py-2 text-slate-900 dark:text-slate-100",children:V},st))}):d.jsxs("button",{className:"px-3 py-2 rounded-md border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-200 hover:bg-slate-50 inline-flex items-center gap-2",onClick:()=>E(!0),children:[d.jsx(uw,{className:"h-5 w-5"})," Afficher les codes"]})}),d.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[S&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:H,className:"px-3 py-2 rounded-md border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-200 hover:bg-slate-50 inline-flex items-center gap-2",children:[d.jsx(G2,{className:"h-5 w-5"})," Copier"]}),d.jsxs("button",{onClick:Re,className:"px-3 py-2 rounded-md border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-200 hover:bg-slate-50 inline-flex items-center gap-2",children:[d.jsx(ow,{className:"h-5 w-5"})," Télécharger"]})]}),d.jsxs("button",{className:"px-3 py-2 rounded-md border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-200 hover:bg-slate-50 inline-flex items-center gap-2 disabled:opacity-70",disabled:N,onClick:()=>q({type:"regenCodes",title:"Générer de nouveaux codes",message:"Les anciens codes seront invalidés. Voulez-vous continuer ?",confirmText:"Générer"}),children:[N?d.jsx(je,{}):d.jsx(Y2,{className:"h-5 w-5"})," ",N?"Génération…":"Générer de nouveaux codes"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"text",value:b,onChange:V=>k(V.target.value.replace(/\s+/g,"").slice(0,10)),placeholder:"Code / backup",className:"px-2 py-2 rounded-md border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-sm w-32"}),d.jsxs("button",{className:"px-3 py-2 rounded-md bg-rose-600 hover:bg-rose-700 text-white inline-flex items-center gap-2 disabled:opacity-70",disabled:T||b.length<6,onClick:()=>q({type:"disable2FA",title:"Désactiver la 2FA",message:"Cela réduira la sécurité de votre compte. Entrez le code courant (ou un code de secours) pour confirmer.",confirmText:"Désactiver"}),children:[T?d.jsx(je,{}):d.jsx(Ew,{className:"h-5 w-5"})," ",T?"Désactivation…":"Désactiver la 2FA"]})]})]})]})]}):d.jsx("div",{children:n?d.jsx("div",{className:"flex flex-col items-center gap-4",children:s&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"bg-white dark:bg-slate-900 p-3 rounded-lg border border-slate-200 dark:border-slate-700",children:s.startsWith("data:image")?d.jsx("img",{src:s,alt:"QR 2FA",className:"w-[200px] h-[200px] object-contain"}):d.jsx(ay,{value:s,size:200})}),d.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm",children:"Scannez ce QR code avec votre application d'authentification (Google Authenticator, Authy, etc.)"}),!1,d.jsxs("div",{className:"flex gap-2 w-full max-w-md",children:[d.jsx("input",{type:"text",placeholder:"Code de vérification",value:b,onChange:V=>k(V.target.value),maxLength:6,className:"flex-1 px-3 py-2 rounded-md border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-slate-300 focus:border-slate-400"}),d.jsxs("button",{className:"px-4 py-2 rounded-md bg-slate-900 text-white hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-100 inline-flex items-center gap-2 disabled:opacity-70",disabled:A||b.length<6,onClick:async()=>{try{C(!0),await o(b),k(""),e("/dashboard",{replace:!0})}catch(V){console.error("Erreur de vérification:",V)}finally{C(!1)}},children:[A?d.jsx(je,{className:"h-4 w-4"}):null,A?"Vérification…":"Vérifier"]})]})]})}):d.jsxs("button",{className:"px-4 py-2 rounded-md bg-slate-900 text-white hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-100 inline-flex items-center gap-2",onClick:async()=>{try{await i()}catch(V){console.error("Erreur lors de l'activation de la 2FA:",V)}},children:[d.jsx(Co,{className:"h-5 w-5"})," Activer l'authentification à deux facteurs"]})})]}),Ot=()=>d.jsxs("section",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-soft border border-slate-200/60 dark:border-slate-700/50 p-6 animate-fade-in",children:[d.jsxs("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2 mb-4",children:[d.jsx(Wc,{className:"h-5 w-5 text-slate-700 dark:text-slate-300"}),"Sessions actives"]}),f?d.jsx("div",{className:"text-center text-slate-500 py-6",children:"Chargement des sessions..."}):Array.isArray(c)?c.length===0?d.jsx("div",{className:"text-center text-slate-500 py-6 text-sm",children:"Aucune session active."}):d.jsxs("div",{className:"flex flex-col gap-3",children:[c.map(V=>d.jsxs("div",{className:`flex items-center justify-between p-4 border border-slate-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-900 ${V.id===(u==null?void 0:u.id)?"ring-1 ring-slate-300 dark:ring-slate-600":""}`,children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(nw,{className:"h-5 w-5 text-slate-500 mt-0.5"}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-medium text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[V.userAgent||"Appareil inconnu",V.id===(u==null?void 0:u.id)&&d.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-emerald-100 dark:bg-emerald-900/40 text-emerald-800 dark:text-emerald-300",children:"Actuelle"})]}),d.jsxs("div",{className:"text-sm text-slate-500",children:["Dernière activité: ",V.lastActiveAt?new Date(V.lastActiveAt).toLocaleString():"—"]})]})]}),V.id!==(u==null?void 0:u.id)&&d.jsxs("button",{className:"px-3 py-2 rounded-md bg-rose-600 hover:bg-rose-700 text-white inline-flex items-center gap-2 disabled:opacity-70",disabled:O===V.id,onClick:()=>q({type:"revokeSession",payload:V.id,title:"Révoquer la session",message:"Êtes-vous sûr de vouloir révoquer cette session ?",confirmText:"Révoquer"}),children:[O===V.id?d.jsx(je,{}):null,O===V.id?"Révocation…":"Révoquer"]})]},V.id)),c.length>1&&d.jsxs("button",{className:"px-3 py-2 rounded-md border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-200 hover:bg-slate-50 self-start inline-flex items-center gap-2 disabled:opacity-70",disabled:$,onClick:()=>q({type:"revokeAll",title:"Révoquer les autres sessions",message:"Toutes les sessions sauf celle-ci seront fermées. Continuer ?",confirmText:"Révoquer tout"}),children:[$?d.jsx(je,{}):null,$?"Révocation…":"Révoquer toutes les autres sessions"]})]}):d.jsx("div",{className:"text-center text-slate-500 py-6 text-sm",children:"Aucune donnée de session disponible (encore). Réessayez plus tard."})]}),_t=V=>!V||V.startsWith("auth")?"bg-slate-100 dark:bg-slate-800/60 text-slate-800 dark:text-slate-200":V.startsWith("security")?"bg-violet-100 dark:bg-violet-900/40 text-violet-700 dark:text-violet-300":V.startsWith("project")?"bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300":V.startsWith("task")?"bg-amber-100 dark:bg-amber-900/40 text-amber-800 dark:text-amber-300":"bg-slate-100 dark:bg-slate-800/60 text-slate-800 dark:text-slate-200",ut=()=>d.jsxs("section",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-soft border border-slate-200/60 dark:border-slate-700/50 p-6 animate-fade-in",children:[d.jsxs("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2 mb-4",children:[d.jsx(Wc,{className:"h-5 w-5 text-slate-700 dark:text-slate-300"}),"Journal d'audit"]}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("select",{value:Q,onChange:V=>se(V.target.value),className:"text-sm border border-slate-200 rounded-md px-2 py-1 bg-white dark:bg-slate-900 dark:text-slate-100",children:[d.jsx("option",{value:"",children:"Tous les types"}),d.jsx("option",{value:"auth",children:"auth*"}),d.jsx("option",{value:"security",children:"security*"}),d.jsx("option",{value:"project",children:"project*"}),d.jsx("option",{value:"task",children:"task*"})]}),d.jsx("input",{value:he,onChange:V=>te(V.target.value),placeholder:"Rechercher…",className:"text-sm border border-slate-200 rounded-md px-2 py-1 bg-white dark:bg-slate-900 dark:text-slate-100 w-56"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{className:"px-3 py-2 rounded-md border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-200 hover:bg-slate-50 inline-flex items-center gap-2 disabled:opacity-70",disabled:D==="csv",onClick:async()=>{try{z("csv"),await w("csv")}finally{z(null)}},children:[D==="csv"?d.jsx(je,{}):d.jsx(Kf,{className:"h-5 w-5"})," ",D==="csv"?"Export…":"CSV"]}),d.jsxs("button",{className:"px-3 py-2 rounded-md border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-200 hover:bg-slate-50 inline-flex items-center gap-2 disabled:opacity-70",disabled:D==="pdf",onClick:async()=>{try{z("pdf"),await w("pdf")}finally{z(null)}},children:[D==="pdf"?d.jsx(je,{}):d.jsx(Kf,{className:"h-5 w-5"})," ",D==="pdf"?"Export…":"PDF"]})]})]}),x?d.jsx("div",{className:"grid gap-2",children:Array.from({length:6}).map((V,st)=>d.jsx("div",{className:"h-10 bg-slate-100 dark:bg-slate-800/60 rounded animate-pulse"},st))}):d.jsxs("div",{className:"overflow-hidden rounded-xl border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"grid grid-cols-[180px_160px_160px_1fr] px-4 py-2 bg-slate-50 dark:bg-slate-800 text-xs font-medium text-slate-600 dark:text-slate-300",children:[d.jsx("div",{children:"Date"}),d.jsx("div",{children:"Type"}),d.jsx("div",{children:"Utilisateur"}),d.jsx("div",{children:"Détails"})]}),d.jsx("div",{children:y.filter(V=>Q?(V.type||"").startsWith(Q):!0).filter(V=>he?((V.details||"")+(V.user||"")).toLowerCase().includes(he.toLowerCase()):!0).map((V,st)=>d.jsxs("div",{className:"grid grid-cols-[180px_160px_160px_1fr] px-4 py-3 text-sm text-slate-700 dark:text-slate-200 border-t border-slate-200/70 dark:border-slate-700/60 odd:bg-slate-50/60 dark:odd:bg-slate-800/40",children:[d.jsx("div",{className:"text-slate-500",children:new Date(V.timestamp).toLocaleString()}),d.jsx("div",{children:d.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${_t(V.type)}`,children:V.type})}),d.jsx("div",{className:"font-medium",children:V.user}),d.jsx("div",{className:"truncate",title:V.details,children:V.details})]},V.id||st))})]})]});return d.jsxs("div",{className:"max-w-[1200px] mx-auto p-6",children:[d.jsx("header",{className:"mb-6 relative overflow-hidden rounded-2xl",children:d.jsxs("div",{className:"relative bg-white dark:bg-slate-900 border border-slate-200/60 dark:border-slate-700/50 rounded-2xl p-6",children:[d.jsxs("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[d.jsx(Co,{className:"h-6 w-6 text-slate-700 dark:text-slate-300"}),"Sécurité"]}),d.jsx("p",{className:"text-slate-700 dark:text-slate-300 text-sm",children:"Gérez l’authentification à deux facteurs, les sessions actives et le journal d’audit."})]})}),d.jsx("div",{className:"mb-6",children:d.jsx("nav",{className:"inline-flex rounded-lg bg-slate-100 dark:bg-slate-800 p-1","aria-label":"Tabs",children:[{id:"2fa",label:"2FA"},{id:"sessions",label:"Sessions"},{id:"audit",label:"Journal d'audit"}].map(V=>d.jsx("button",{onClick:()=>_(V.id),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${j===V.id?"bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 shadow-sm":"text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100"}`,children:V.label},V.id))})}),d.jsxs("div",{className:"grid gap-6",children:[j==="2fa"&&St(),j==="sessions"&&Ot(),j==="audit"&&ut()]}),d.jsx(Qx,{isOpen:!!B,title:B==null?void 0:B.title,message:B==null?void 0:B.message,variant:(B==null?void 0:B.type)==="disable2FA"||(B==null?void 0:B.type)==="revokeSession"||(B==null?void 0:B.type)==="revokeAll"?"danger":"warning",confirmText:(B==null?void 0:B.confirmText)||"Confirmer",onCancel:()=>q(null),onConfirm:async()=>{if(B)try{if(B.type==="disable2FA"){if(!b||b.length<6)return;R(!0),await a(b),k("")}else B.type==="regenCodes"?(P(!0),await l(b)):B.type==="revokeSession"?(I(B.payload),await h(B.payload)):B.type==="revokeAll"&&(L(!0),await g())}finally{P(!1),R(!1),I(null),L(!1),q(null)}}})]})},EE=()=>{const e=[{category:"Navigation",shortcuts:[{keys:["g","d"],description:"Aller au Dashboard"},{keys:["g","p"],description:"Aller aux Projets"},{keys:["g","s"],description:"Aller à la Sécurité"},{keys:["?"],description:"Afficher cette aide"},{keys:["/"],description:"Focus sur la recherche"}]},{category:"Actions",shortcuts:[{keys:["n","p"],description:"Nouveau Projet"},{keys:["n","t"],description:"Nouvelle Tâche"},{keys:["Esc"],description:"Fermer / Annuler"}]},{category:"Vue Projet",shortcuts:[{keys:["1"],description:"Vue Kanban"},{keys:["2"],description:"Vue Liste"},{keys:["3"],description:"Vue Calendrier"}]}];return d.jsxs("div",{className:"shortcuts-help",children:[d.jsxs("header",{className:"shortcuts-header",children:[d.jsx(Lw,{className:"icon"}),d.jsx("h1",{children:"Raccourcis Clavier"})]}),d.jsxs("div",{className:"shortcuts-intro",children:[d.jsx(Dw,{className:"icon"}),d.jsxs("p",{children:["Appuyez sur ",d.jsx("kbd",{children:"?"})," n'importe où dans l'application pour afficher cette aide"]})]}),d.jsxs("div",{className:"shortcuts-search",children:[d.jsx(Iw,{className:"icon"}),d.jsx("input",{type:"text",placeholder:"Rechercher un raccourci...",className:"search-input"})]}),d.jsx("div",{className:"shortcuts-grid",children:e.map(t=>d.jsxs("div",{className:"shortcuts-category",children:[d.jsx("h2",{children:t.category}),d.jsx("div",{className:"shortcuts-list",children:t.shortcuts.map((n,s)=>d.jsxs("div",{className:"shortcut-item",children:[d.jsx("div",{className:"shortcut-keys",children:n.keys.map((r,i)=>d.jsxs(ne.Fragment,{children:[d.jsx("kbd",{children:r}),i<n.keys.length-1&&d.jsx("span",{className:"key-separator",children:"puis"})]},i))}),d.jsx("div",{className:"shortcut-description",children:n.description})]},s))})]},t.category))})]})};var ly={exports:{}},CE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",AE=CE,NE=AE;function cy(){}function uy(){}uy.resetWarningCache=cy;var RE=function(){function e(s,r,i,o,a,l){if(l!==NE){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:uy,resetWarningCache:cy};return n.PropTypes=n,n};ly.exports=RE();var ME=ly.exports;const po=Up(ME),PE=!1;function dy(){const[e,t]=v.useState(!1),[n,s]=v.useState(null),[r,i]=v.useState({}),o=v.useCallback(async({title:c,existingDescription:u,projectName:f})=>({disabled:!0}),[]),a=v.useCallback(async(c,{force:u=!1}={})=>({disabled:!0}),[r]),l=v.useCallback(async({title:c,description:u,projectName:f,max:h})=>({disabled:!0}),[r]);return{AI_ENABLED:PE,loading:e,error:n,suggestTaskDescription:o,fetchProjectSummary:a,suggestSubtasks:l,cache:r}}function fy({title:e,description:t,projectName:n,onAppend:s}){dy();const[r,i]=v.useState([]),[o,a]=v.useState(null),[l,c]=v.useState(!1),[u,f]=v.useState(6);return null}fy.propTypes={title:po.string,description:po.string,projectName:po.string,onAppend:po.func};function TE({title:e,description:t,onApply:n,className:s}){dy();const[r,i]=v.useState(null),[o,a]=v.useState(!1);return null}function OE(){var x;const e=kt(),[t,n]=v.useState([]),[s,r]=v.useState(""),[i,o]=v.useState(""),[a,l]=v.useState(""),[c,u]=v.useState(!1),[f,h]=v.useState(null),[g,p]=v.useState(!1);v.useEffect(()=>{let m=!0;return(async()=>{var w;try{const b=await U.get("/projects"),k=Array.isArray(b.data)?b.data:((w=b.data)==null?void 0:w.data)||[];m&&n(k)}catch(b){console.warn("Failed to load projects",b.message)}})(),()=>{m=!1}},[]);const y=async m=>{var w,b;if(m.preventDefault(),!s||!a){h("Titre et projet requis");return}h(null),u(!0);try{const k=await Z0({title:s,description:i,project:a});if(k!=null&&k.offline)p(!0),setTimeout(()=>e("/"),800);else{try{await Ds([k])}catch{}p(!0),setTimeout(()=>e("/"),600)}}catch(k){h(((b=(w=k.response)==null?void 0:w.data)==null?void 0:b.message)||k.message)}finally{u(!1)}};return d.jsxs("div",{style:{maxWidth:640,margin:"2rem auto",padding:"1rem"},children:[d.jsx("h1",{style:{fontSize:"1.5rem",marginBottom:"1rem"},children:"Nouvelle Tâche"}),d.jsxs("form",{onSubmit:y,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[d.jsxs("div",{children:[d.jsx("label",{style:{display:"block",fontWeight:600},children:"Titre *"}),d.jsx("input",{value:s,onChange:m=>r(m.target.value),placeholder:"Titre de la tâche",required:!0,style:{width:"100%"}})]}),d.jsxs("div",{children:[d.jsx("label",{style:{display:"block",fontWeight:600},children:"Projet *"}),d.jsxs("select",{value:a,onChange:m=>l(m.target.value),required:!0,style:{width:"100%"},children:[d.jsx("option",{value:"",children:"-- Choisir --"}),t.map(m=>d.jsx("option",{value:m._id||m.id,children:m.name},m._id||m.id))]})]}),d.jsxs("div",{children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsx("label",{style:{fontWeight:600},children:"Description"}),d.jsx(TE,{title:s,description:i,onApply:m=>o(w=>w?w+`

`+m:m)})]}),d.jsx("textarea",{value:i,onChange:m=>o(m.target.value),rows:6,placeholder:"Description (optionnel)",style:{width:"100%",fontFamily:"inherit"}}),d.jsx(fy,{title:s,description:i,projectName:(x=t.find(m=>(m._id||m.id)===a))==null?void 0:x.name,onAppend:m=>o(w=>w?w+`
`+m:m)})]}),f&&d.jsx("div",{style:{color:"red"},children:f}),g&&d.jsxs("div",{style:{color:"green"},children:["Créé",navigator.onLine?"":" (en attente de synchronisation)"," !"]}),d.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[d.jsx("button",{type:"submit",disabled:c||!s||!a,children:c?"En cours…":"Créer"}),d.jsx("button",{type:"button",onClick:()=>e(-1),children:"Annuler"})]})]})]})}function Yn({children:e,allowTempToken:t=!1}){const{isVerifying:n,isAuthenticated:s,user:r,twoFactor:i}=Qa(),o=qt(),a=typeof window<"u"&&!!localStorage.getItem("tempToken");return n?d.jsx("div",{className:"flex items-center justify-center h-screen",children:d.jsx("div",{className:"loading-spinner"})}):s?!t&&(r==null?void 0:r.role)==="admin"&&i&&!i.enabled&&o.pathname!=="/security"?d.jsx(yn,{to:"/security",replace:!0}):d.jsx(Zf,{children:e}):t&&a?d.jsx(Zf,{children:e}):d.jsx(yn,{to:"/login",state:{from:o},replace:!0})}function LE({children:e}){const{isVerifying:t,isAuthenticated:n}=Qa();return t?d.jsx("div",{className:"flex items-center justify-center h-screen",children:d.jsx("div",{className:"loading-spinner"})}):n?d.jsx(yn,{to:"/dashboard",replace:!0}):e}function DE(){const{isAuthenticated:e,isVerifying:t}=Qa(),n=kt(),s=v.useRef(!1);if(v.useEffect(()=>{const i=new URLSearchParams(window.location.search);if((i.has("forceLogin")||i.has("logout"))&&!s.current){s.current=!0;try{localStorage.removeItem("token"),localStorage.removeItem("tempToken"),localStorage.removeItem("user"),localStorage.removeItem("sessionId"),localStorage.removeItem("sessionExpiry")}catch{}window.location.pathname!=="/login"&&n("/login",{replace:!0})}},[n]),t)return d.jsx("div",{className:"flex items-center justify-center h-screen",children:d.jsx("div",{className:"loading-spinner"})});const r=()=>d.jsx("div",{className:"flex items-center justify-center h-screen",children:d.jsx("div",{className:"loading-spinner"})});return d.jsx(v.Suspense,{fallback:d.jsx(r,{}),children:d.jsxs(T2,{children:[d.jsx(ft,{path:"/login",element:e?d.jsx(yn,{to:"/dashboard",replace:!0}):d.jsx(lE,{})}),d.jsx(ft,{path:"/",element:e?d.jsx(yn,{to:"/dashboard",replace:!0}):d.jsx(yn,{to:"/login",replace:!0})}),d.jsx(ft,{path:"/dashboard",element:d.jsx(Yn,{children:d.jsx(nE,{})})}),d.jsx(ft,{path:"/projects",element:d.jsx(Yn,{children:d.jsx(uE,{})})}),d.jsx(ft,{path:"/projects/:id",element:d.jsx(Yn,{children:d.jsx(cE,{})})}),d.jsx(ft,{path:"/security",element:d.jsx(Yn,{allowTempToken:!0,children:d.jsx(jE,{})})}),d.jsx(ft,{path:"/reset-password",element:d.jsx(LE,{children:d.jsx(fE,{})})}),d.jsx(ft,{path:"/shortcuts",element:d.jsx(Yn,{children:d.jsx(EE,{})})}),d.jsx(ft,{path:"/tasks/new",element:d.jsx(Yn,{children:d.jsx(OE,{})})}),d.jsx(ft,{path:"/tasks",element:d.jsx(Yn,{children:d.jsx(Qk,{})})}),d.jsx(ft,{path:"*",element:e?d.jsx(yn,{to:"/dashboard",replace:!0}):d.jsx(yn,{to:"/login",replace:!0})})]})})}class IE extends ne.Component{constructor(n){super(n);Y(this,"handleReload",()=>{console.log("Recharger l'application");try{if(this.isIPAccess()&&!window.location.href.includes("/#/")){console.log("Redirection vers le mode hash pour accès IP"),window.location.href="/#/";return}window.location.reload()}catch(n){console.error("Erreur lors du rechargement",n),document.location="/"}});this.state={hasError:!1,error:null,errorInfo:null,errorTime:null}}static getDerivedStateFromError(n){return console.log("ErrorBoundary captured error:",n),{hasError:!0,error:n,errorTime:new Date().toISOString()}}componentDidCatch(n,s){console.error("[ErrorBoundary]",n,s),this.setState({errorInfo:s}),console.log("Current URL:",window.location.href),console.log("User Agent:",navigator.userAgent),console.log("IP Access:",this.isIPAccess())}isIPAccess(){const n=window.location.host;return/^(\d{1,3}\.){3}\d{1,3}(:\d+)?$/.test(n)}render(){var n,s,r;if(this.state.hasError){const i=this.isIPAccess();return d.jsxs("div",{className:"p-6 m-6 border border-red-200 rounded bg-red-50 text-sm text-red-700",children:[d.jsx("h2",{className:"font-semibold mb-2",children:"Une erreur est survenue."}),d.jsx("p",{className:"mb-4",children:((n=this.state.error)==null?void 0:n.message)||"Erreur d'opération non sécurisée"}),d.jsxs("p",{className:"mb-4",children:["Détails techniques: ",(r=(s=this.state.error)==null?void 0:s.toString)==null?void 0:r.call(s)]}),i&&d.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded",children:[d.jsx("p",{className:"font-medium",children:"Accès détecté via adresse IP"}),d.jsx("p",{children:"L'accès via IP utilise un mode de navigation différent qui pourrait causer cette erreur."})]}),this.state.errorInfo&&d.jsx("pre",{className:"mb-4 overflow-auto p-2 bg-red-100 rounded text-xs",children:this.state.errorInfo.componentStack}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{className:"px-3 py-2 rounded bg-slate-700 text-white",onClick:this.handleReload,children:"Recharger"}),i&&!window.location.href.includes("/#/")&&d.jsx("button",{className:"px-3 py-2 rounded bg-blue-600 text-white",onClick:()=>{window.location.href="/#/"},children:"Utiliser mode HashRouter"})]})]})}return this.props.children}}function FE({enabled:e=!0,timeoutMs:t=2500,prefetch:n}={}){const[s,r]=v.useState(!1),[i,o]=v.useState(null),[a,l]=v.useState(null),c=v.useRef(!1);return v.useEffect(()=>{if(!e||c.current)return;c.current=!0;let u=!1;const f=performance.now(),h=new AbortController,g=setTimeout(()=>{h.abort(),!u&&!s&&(console.warn("[offline-init] Timeout warm-up"),r(!0))},t);return(async()=>{try{if(await kn(),n)try{await n(Wt())}catch(p){console.warn("[offline-init] prefetch error",p)}u||(l(Math.round(performance.now()-f)),r(!0))}catch(p){u||(o(p),r(!0))}finally{clearTimeout(g)}})(),()=>{u=!0,clearTimeout(g)}},[e,n,t,s]),{ready:s,error:i,durationMs:a}}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{console.log("Service Worker enregistré avec succès:",e)}).catch(e=>{console.error("Erreur lors de l'enregistrement du Service Worker:",e)})});function zE(){const{ready:t}=FE({enabled:!0});return tx({enabled:t}),t?d.jsx(DE,{}):d.jsx("div",{style:{padding:"2rem",fontFamily:"sans-serif",opacity:.7},children:"Initialisation offline…"})}function BE(e){return/^(\d{1,3}\.){3}\d{1,3}(:\d+)?$/.test(e)}const hy=window.location.host,el=BE(hy);console.log(`Démarrage avec ${el?"HashRouter":"BrowserRouter"} (host: ${hy})`);const $E=el?$2:B2,UE=el?{basename:"",future:{v7_startTransition:!0,v7_relativeSplatPath:!0}}:{future:{v7_startTransition:!0,v7_relativeSplatPath:!0}};window.addEventListener("error",e=>{console.error("Erreur globale:",e.error||e.message)});window.addEventListener("unhandledrejection",e=>{console.error("Unhandled Promise rejection:",e.reason)});async function WE(e){try{const t=await fetch(e,{method:"GET"});(t.headers.get("content-type")||"").includes("text/html")&&console.warn("[Probe] Le chemin",e,'retourne du HTML (peut causer Unexpected token "<"). Status:',t.status)}catch(t){console.warn("[Probe] Échec fetch",e,t)}}el&&["/src/audio/audioEngine.js","/src/components/ThemePicker.jsx"].forEach(t=>WE(t));try{t0(document.getElementById("root")).render(d.jsx($E,{...UE,children:d.jsx(Vw,{children:d.jsx(IE,{children:d.jsx(zE,{})})})})),console.log("Application rendue avec succès")}catch(e){console.error("Erreur lors du rendu de l'application:",e),document.getElementById("root").innerHTML=`
    <div style="padding: 20px; font-family: sans-serif;">
      <h2>Une erreur est survenue lors du chargement de l'application</h2>
      <p>Veuillez recharger la page ou contacter le support.</p>
      <button onclick="window.location.reload()">Recharger</button>
    </div>
  `}export{VE as c,Up as g};
